/**
* Ctrip JavaScript Code
* http://m.ctrip.com/
* Copyright(C) 2008 - 2014, Ctrip All rights reserved.
* Date:2014_11_07 14:06:02
*/
var requirejs,require,define;!function(aa){function I(a){return"[object Function]"===L.call(a)}function J(a){return"[object Array]"===L.call(a)}function y(a,b){if(a){var c;for(c=0;c<a.length&&(!a[c]||!b(a[c],c,a));c+=1);}}function M(a,b){if(a){var c;for(c=a.length-1;c>-1&&(!a[c]||!b(a[c],c,a));c-=1);}}function s(a,b){return ga.call(a,b)}function m(a,b){return s(a,b)&&a[b]}function G(a,b){for(var c in a)if(s(a,c)&&b(a[c],c))break}function R(a,b,c,d){return b&&G(b,function(b,e){(c||!s(a,e))&&(d&&"string"!=typeof b?(a[e]||(a[e]={}),R(a[e],b,c,d)):a[e]=b)}),a}function u(a,b){return function(){return b.apply(a,arguments)}}function ba(a){if(!a)return a;var b=aa;return y(a.split("."),function(a){b=b[a]}),b}function B(a,b,c,d){return b=Error(b+"\nhttp://requirejs.org/docs/errors.html#"+a),b.requireType=a,b.requireModules=d,c&&(b.originalError=c),b}function ha(a){function b(a,b,c){var d,e,f,g,h,i,j,k=b&&b.split("/");d=k;var l=C.map,n=l&&l["*"];if(a&&"."===a.charAt(0))if(b){for(d=m(C.pkgs,b)?k=[b]:k.slice(0,k.length-1),b=a=d.concat(a.split("/")),d=0;b[d];d+=1)if(e=b[d],"."===e)b.splice(d,1),d-=1;else if(".."===e){if(1===d&&(".."===b[2]||".."===b[0]))break;d>0&&(b.splice(d-1,2),d-=2)}d=m(C.pkgs,b=a[0]),a=a.join("/"),d&&a===b+"/"+d.main&&(a=b)}else 0===a.indexOf("./")&&(a=a.substring(2));if(c&&l&&(k||n)){for(b=a.split("/"),d=b.length;d>0;d-=1){if(f=b.slice(0,d).join("/"),k)for(e=k.length;e>0;e-=1)if((c=m(l,k.slice(0,e).join("/")))&&(c=m(c,f))){g=c,h=d;break}if(g)break;!i&&n&&m(n,f)&&(i=m(n,f),j=d)}!g&&i&&(g=i,h=j),g&&(b.splice(0,h,g),a=b.join("/"))}return a}function c(a){A&&y(document.getElementsByTagName("script"),function(b){return b.getAttribute("data-requiremodule")===a&&b.getAttribute("data-requirecontext")===w.contextName?(b.parentNode.removeChild(b),!0):void 0})}function d(a){var b=m(C.paths,a);return b&&J(b)&&1<b.length?(c(a),b.shift(),w.require.undef(a),w.require([a]),!0):void 0}function e(a){var b,c=a?a.indexOf("!"):-1;return c>-1&&(b=a.substring(0,c),a=a.substring(c+1,a.length)),[b,a]}function f(a,c,d,f){var g,h,i=null,j=c?c.name:null,k=a,l=!0,n="";return a||(l=!1,a="_@r"+(M+=1)),a=e(a),i=a[0],a=a[1],i&&(i=b(i,j,f),h=m(K,i)),a&&(i?n=h&&h.normalize?h.normalize(a,function(a){return b(a,j,f)}):b(a,j,f):(n=b(a,j,f),a=e(n),i=a[0],n=a[1],d=!0,g=w.nameToUrl(n))),d=!i||h||d?"":"_unnormalized"+(N+=1),{prefix:i,name:n,parentMap:c,unnormalized:!!d,url:g,originalName:k,isDefine:l,id:(i?i+"!"+n:n)+d}}function g(a){var b=a.id,c=m(D,b);return c||(c=D[b]=new w.Module(a)),c}function h(a,b,c){var d=a.id,e=m(D,d);!s(K,d)||e&&!e.defineEmitComplete?g(a).on(b,c):"defined"===b&&c(K[d])}function i(a,b){var c=a.requireModules,d=!1;b?b(a):(y(c,function(b){(b=m(D,b))&&(b.error=a,b.events.error&&(d=!0,b.emit("error",a)))}),d||l.onError(a))}function j(){T.length&&(ia.apply(H,[H.length-1,0].concat(T)),T=[])}function k(a){delete D[a],delete E[a]}function n(a,b,c){var d=a.map.id;a.error?a.emit("error",a.error):(b[d]=!0,y(a.depMaps,function(d,e){var f=d.id,g=m(D,f);g&&!a.depMatched[e]&&!c[f]&&(m(b,f)?(a.defineDep(e,K[f]),a.check()):n(g,b,c))}),c[d]=!0)}function o(){var a,b,e,f,g=(e=1e3*C.waitSeconds)&&w.startTime+e<(new Date).getTime(),h=[],j=[],k=!1,l=!0;if(!t){if(t=!0,G(E,function(e){if(a=e.map,b=a.id,e.enabled&&(a.isDefine||j.push(e),!e.error))if(!e.inited&&g)d(b)?k=f=!0:(h.push(b),c(b));else if(!e.inited&&e.fetched&&a.isDefine&&(k=!0,!a.prefix))return l=!1}),g&&h.length)return e=B("timeout","Load timeout for modules: "+h,null,h),e.contextName=w.contextName,i(e);l&&y(j,function(a){n(a,{},{})}),g&&!f||!k||!A&&!da||z||(z=setTimeout(function(){z=0,o()},50)),t=!1}}function p(a){s(K,a[0])||g(f(a[0],null,!0)).init(a[1],a[2])}function q(a){var a=a.currentTarget||a.srcElement,b=w.onScriptLoad;return a.detachEvent&&!Y?a.detachEvent("onreadystatechange",b):a.removeEventListener("load",b,!1),b=w.onScriptError,(!a.detachEvent||Y)&&a.removeEventListener("error",b,!1),{node:a,id:a&&a.getAttribute("data-requiremodule")}}function r(){var a;for(j();H.length;){if(a=H.shift(),null===a[0])return i(B("mismatch","Mismatched anonymous define() module: "+a[a.length-1]));p(a)}}var t,v,w,x,z,C={waitSeconds:7,baseUrl:"./",paths:{},pkgs:{},shim:{},config:{}},D={},E={},F={},H=[],K={},L={},M=1,N=1;return x={require:function(a){return a.require?a.require:a.require=w.makeRequire(a.map)},exports:function(a){return a.usingExports=!0,a.map.isDefine?a.exports?a.exports:a.exports=K[a.map.id]={}:void 0},module:function(a){return a.module?a.module:a.module={id:a.map.id,uri:a.map.url,config:function(){return C.config&&m(C.config,a.map.id)||{}},exports:K[a.map.id]}}},v=function(a){this.events=m(F,a.id)||{},this.map=a,this.shim=m(C.shim,a.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},v.prototype={init:function(a,b,c,d){d=d||{},this.inited||(this.factory=b,c?this.on("error",c):this.events.error&&(c=u(this,function(a){this.emit("error",a)})),this.depMaps=a&&a.slice(0),this.errback=c,this.inited=!0,this.ignore=d.ignore,d.enabled||this.enabled?this.enable():this.check())},defineDep:function(a,b){this.depMatched[a]||(this.depMatched[a]=!0,this.depCount-=1,this.depExports[a]=b)},fetch:function(){if(!this.fetched){this.fetched=!0,w.startTime=(new Date).getTime();var a=this.map;if(!this.shim)return a.prefix?this.callPlugin():this.load();w.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],u(this,function(){return a.prefix?this.callPlugin():this.load()}))}},load:function(){var a=this.map.url;L[a]||(L[a]=!0,w.load(this.map.id,a))},check:function(){if(this.enabled&&!this.enabling){var a,b,c=this.map.id;b=this.depExports;var d=this.exports,e=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,1>this.depCount&&!this.defined){if(I(e)){if(this.events.error)try{d=w.execCb(c,e,b,d)}catch(f){a=f}else d=w.execCb(c,e,b,d);if(this.map.isDefine&&((b=this.module)&&void 0!==b.exports&&b.exports!==this.exports?d=b.exports:void 0===d&&this.usingExports&&(d=this.exports)),a)return a.requireMap=this.map,a.requireModules=[this.map.id],a.requireType="define",i(this.error=a)}else d=e;this.exports=d,this.map.isDefine&&!this.ignore&&(K[c]=d,l.onResourceLoad)&&l.onResourceLoad(w,this.map,this.depMaps),k(c),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else this.fetch()}},callPlugin:function(){var a=this.map,c=a.id,d=f(a.prefix);this.depMaps.push(d),h(d,"defined",u(this,function(d){var e,j;j=this.map.name;var n=this.map.parentMap?this.map.parentMap.name:null,o=w.makeRequire(a.parentMap,{enableBuildCallback:!0});this.map.unnormalized?(d.normalize&&(j=d.normalize(j,function(a){return b(a,n,!0)})||""),d=f(a.prefix+"!"+j,this.map.parentMap),h(d,"defined",u(this,function(a){this.init([],function(){return a},null,{enabled:!0,ignore:!0})})),(j=m(D,d.id))&&(this.depMaps.push(d),this.events.error&&j.on("error",u(this,function(a){this.emit("error",a)})),j.enable())):(e=u(this,function(a){this.init([],function(){return a},null,{enabled:!0})}),e.error=u(this,function(a){this.inited=!0,this.error=a,a.requireModules=[c],G(D,function(a){0===a.map.id.indexOf(c+"_unnormalized")&&k(a.map.id)}),i(a)}),e.fromText=u(this,function(b,d){var h=a.name,j=f(h),k=O;d&&(b=d),k&&(O=!1),g(j),s(C.config,c)&&(C.config[h]=C.config[c]);try{l.exec(b)}catch(m){return i(B("fromtexteval","fromText eval for "+c+" failed: "+m,m,[c]))}k&&(O=!0),this.depMaps.push(j),w.completeLoad(h),o([h],e)}),d.load(a.name,o,e,C))})),w.enable(d,this),this.pluginMaps[d.id]=d},enable:function(){E[this.map.id]=this,this.enabling=this.enabled=!0,y(this.depMaps,u(this,function(a,b){var c,d;if("string"==typeof a){if(a=f(a,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[b]=a,c=m(x,a.id))return void(this.depExports[b]=c(this));this.depCount+=1,h(a,"defined",u(this,function(a){this.defineDep(b,a),this.check()})),this.errback&&h(a,"error",this.errback)}c=a.id,d=D[c],!s(x,c)&&d&&!d.enabled&&w.enable(a,this)})),G(this.pluginMaps,u(this,function(a){var b=m(D,a.id);b&&!b.enabled&&w.enable(a,this)})),this.enabling=!1,this.check()},on:function(a,b){var c=this.events[a];c||(c=this.events[a]=[]),c.push(b)},emit:function(a,b){y(this.events[a],function(a){a(b)}),"error"===a&&delete this.events[a]}},w={config:C,contextName:a,registry:D,defined:K,urlFetched:L,defQueue:H,Module:v,makeModuleMap:f,nextTick:l.nextTick,onError:i,configure:function(a){a.baseUrl&&"/"!==a.baseUrl.charAt(a.baseUrl.length-1)&&(a.baseUrl+="/");var b=C.pkgs,c=C.shim,d={paths:!0,config:!0,map:!0};G(a,function(a,b){d[b]?"map"===b?(C.map||(C.map={}),R(C[b],a,!0,!0)):R(C[b],a,!0):C[b]=a}),a.shim&&(G(a.shim,function(a,b){J(a)&&(a={deps:a}),!a.exports&&!a.init||a.exportsFn||(a.exportsFn=w.makeShimExports(a)),c[b]=a}),C.shim=c),a.packages&&(y(a.packages,function(a){a="string"==typeof a?{name:a}:a,b[a.name]={name:a.name,location:a.location||a.name,main:(a.main||"main").replace(ja,"").replace(ea,"")}}),C.pkgs=b),G(D,function(a,b){!a.inited&&!a.map.unnormalized&&(a.map=f(b))}),(a.deps||a.callback)&&w.require(a.deps||[],a.callback)},makeShimExports:function(a){return function(){var b;return a.init&&(b=a.init.apply(aa,arguments)),b||a.exports&&ba(a.exports)}},makeRequire:function(c,d){function e(b,h,j){var k,m;return d.enableBuildCallback&&h&&I(h)&&(h.__requireJsBuild=!0),"string"==typeof b?I(h)?i(B("requireargs","Invalid require call"),j):c&&s(x,b)?x[b](D[c.id]):l.get?l.get(w,b,c,e):(k=f(b,c,!1,!0),k=k.id,s(K,k)?K[k]:i(B("notloaded",'Module name "'+k+'" has not been loaded yet for context: '+a+(c?"":". Use require([])")))):(r(),w.nextTick(function(){r(),m=g(f(null,c)),m.skipMap=d.skipMap,m.init(b,h,j,{enabled:!0}),o()}),e)}return d=d||{},R(e,{isBrowser:A,toUrl:function(a){var d,e=a.lastIndexOf("."),f=a.split("/")[0];return-1!==e&&("."!==f&&".."!==f||e>1)&&(d=a.substring(e,a.length),a=a.substring(0,e)),w.nameToUrl(b(a,c&&c.id,!0),d,!0)},defined:function(a){return s(K,f(a,c,!1,!0).id)},specified:function(a){return a=f(a,c,!1,!0).id,s(K,a)||s(D,a)}}),c||(e.undef=function(a){j();var b=f(a,c,!0),d=m(D,a);delete K[a],delete L[b.url],delete F[a],d&&(d.events.defined&&(F[a]=d.events),k(a))}),e},enable:function(a){m(D,a.id)&&g(a).enable()},completeLoad:function(a){var b,c,e=m(C.shim,a)||{},f=e.exports;for(j();H.length;){if(c=H.shift(),null===c[0]){if(c[0]=a,b)break;b=!0}else c[0]===a&&(b=!0);p(c)}if(c=m(D,a),!b&&!s(K,a)&&c&&!c.inited){if(C.enforceDefine&&(!f||!ba(f)))return d(a)?void 0:i(B("nodefine","No define call for "+a,null,[a]));p([a,e.deps||[],e.exportsFn])}o()},nameToUrl:function(a,b,c){var d,e,f,g,h,i;if(l.jsExtRegExp.test(a))g=a+(b||"");else{for(d=C.paths,e=C.pkgs,g=a.split("/"),h=g.length;h>0;h-=1){if(i=g.slice(0,h).join("/"),f=m(e,i),i=m(d,i)){J(i)&&(i=i[0]),g.splice(0,h,i);break}if(f){a=a===f.name?f.location+"/"+f.main:f.location,g.splice(0,h,a);break}}g=g.join("/"),g+=b||(/\?/.test(g)||c?"":".js"),g=("/"===g.charAt(0)||g.match(/^[\w\+\.\-]+:/)?"":C.baseUrl)+g}return C.urlArgs?g+((-1===g.indexOf("?")?"?":"&")+C.urlArgs):g},load:function(a,b){l.load(w,a,b)},execCb:function(a,b,c,d){return b.apply(d,c)},onScriptLoad:function(a){("load"===a.type||ka.test((a.currentTarget||a.srcElement).readyState))&&(P=null,a=q(a),w.completeLoad(a.id))},onScriptError:function(a){var b=q(a);return d(b.id)?void 0:i(B("scripterror","Script error",a,[b.id]))}},w.require=w.makeRequire(),w}var l,w,x,D,t,E,P,K,Q,fa,la=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,ma=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,ea=/\.js$/,ja=/^\.\//;w=Object.prototype;var L=w.toString,ga=w.hasOwnProperty,ia=Array.prototype.splice,A=!("undefined"==typeof window||!navigator||!document),da=!A&&"undefined"!=typeof importScripts,ka=A&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,Y="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),F={},r={},T=[],O=!1;if("undefined"==typeof define){if("undefined"!=typeof requirejs){if(I(requirejs))return;r=requirejs,requirejs=void 0}"undefined"!=typeof require&&!I(require)&&(r=require,require=void 0),l=requirejs=function(a,b,c,d){var e,f="_";return!J(a)&&"string"!=typeof a&&(e=a,J(b)?(a=b,b=c,c=d):a=[]),e&&e.context&&(f=e.context),(d=m(F,f))||(d=F[f]=l.s.newContext(f)),e&&d.configure(e),d.require(a,b,c)},l.config=function(a){return l(a)},l.nextTick="undefined"!=typeof setTimeout?function(a){setTimeout(a,4)}:function(a){a()},require||(require=l),l.version="2.1.5",l.jsExtRegExp=/^\/|:|\?|\.js$/,l.isBrowser=A,w=l.s={contexts:F,newContext:ha},l({}),y(["toUrl","undef","defined","specified"],function(a){l[a]=function(){var b=F._;return b.require[a].apply(b,arguments)}}),A&&(x=w.head=document.getElementsByTagName("head")[0],D=document.getElementsByTagName("base")[0])&&(x=w.head=D.parentNode),l.onError=function(a){throw a},l.load=function(a,b,c){var d,e=a&&a.config||{};if(A)return d=e.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script"),d.type=e.scriptType||"text/javascript",d.charset="utf-8",d.async=!0,d.setAttribute("data-requirecontext",a.contextName),d.setAttribute("data-requiremodule",b),!d.attachEvent||d.attachEvent.toString&&0>d.attachEvent.toString().indexOf("[native code")||Y?(d.addEventListener("load",a.onScriptLoad,!1),d.addEventListener("error",a.onScriptError,!1)):(O=!0,d.attachEvent("onreadystatechange",a.onScriptLoad)),d.src=c,K=d,D?x.insertBefore(d,D):x.appendChild(d),K=null,d;if(da)try{importScripts(c),a.completeLoad(b)}catch(f){a.onError(B("importscripts","importScripts failed for "+b+" at "+c,f,[b]))}},A&&M(document.getElementsByTagName("script"),function(a){return x||(x=a.parentNode),(t=a.getAttribute("data-main"))?(r.baseUrl||(E=t.split("/"),Q=E.pop(),fa=E.length?E.join("/")+"/":"./",r.baseUrl=fa,t=Q),t=t.replace(ea,""),r.deps=r.deps?r.deps.concat(t):[t],!0):void 0}),define=function(a,b,c){var d,e;"string"!=typeof a&&(c=b,b=a,a=null),J(b)||(c=b,b=[]),!b.length&&I(c)&&c.length&&(c.toString().replace(la,"").replace(ma,function(a,c){b.push(c)}),b=(1===c.length?["require"]:["require","exports","module"]).concat(b)),O&&((d=K)||(P&&"interactive"===P.readyState||M(document.getElementsByTagName("script"),function(a){return"interactive"===a.readyState?P=a:void 0}),d=P),d&&(a||(a=d.getAttribute("data-requiremodule")),e=F[d.getAttribute("data-requirecontext")])),(e?e.defQueue:T).push([a,b,c])},define.amd={jQuery:!0},l.exec=function(b){return eval(b)},l(r)}}(this);var Zepto=function(){function a(a){return null==a?String(a):W[X.call(a)]||"object"}function b(b){return"function"==a(b)}function c(a){return null!=a&&a==a.window}function d(a){return null!=a&&a.nodeType==a.DOCUMENT_NODE}function e(b){return"object"==a(b)}function f(a){return e(a)&&!c(a)&&a.__proto__==Object.prototype}function g(a){return a instanceof Array}function h(a){return"number"==typeof a.length}function i(a){return E.call(a,function(a){return null!=a})}function j(a){return a.length>0?y.fn.concat.apply([],a):a}function k(a){return a.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function l(a){return a in H?H[a]:H[a]=new RegExp("(^|\\s)"+a+"(\\s|$)")}function m(a,b){return"number"!=typeof b||J[k(a)]?b:b+"px"}function n(a){var b,c;return G[a]||(b=F.createElement(a),F.body.appendChild(b),c=I(b,"").getPropertyValue("display"),b.parentNode.removeChild(b),"none"==c&&(c="block"),G[a]=c),G[a]}function o(a){return"children"in a?D.call(a.children):y.map(a.childNodes,function(a){return 1==a.nodeType?a:void 0})}function p(a,b,c){for(x in b)c&&(f(b[x])||g(b[x]))?(f(b[x])&&!f(a[x])&&(a[x]={}),g(b[x])&&!g(a[x])&&(a[x]=[]),p(a[x],b[x],c)):b[x]!==w&&(a[x]=b[x])}function q(a,b){return b===w?y(a):y(a).filter(b)}function r(a,c,d,e){return b(c)?c.call(a,d,e):c}function s(a,b,c){null==c?a.removeAttribute(b):a.setAttribute(b,c)}function t(a,b){var c=a.className,d=c&&c.baseVal!==w;return b===w?d?c.baseVal:c:void(d?c.baseVal=b:a.className=b)}function u(a){var b;try{return a?"true"==a||("false"==a?!1:"null"==a?null:isNaN(b=Number(a))?/^[\[\{]/.test(a)?y.parseJSON(a):a:b):a}catch(c){return a}}function v(a,b){b(a);for(var c in a.childNodes)v(a.childNodes[c],b)}var w,x,y,z,A,B,C=[],D=C.slice,E=C.filter,F=window.document,G={},H={},I=F.defaultView.getComputedStyle,J={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},K=/^\s*<(\w+|!)[^>]*>/,L=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,M=/^(?:body|html)$/i,N=["val","css","html","text","data","width","height","offset"],O=["after","prepend","before","append"],P=F.createElement("table"),Q=F.createElement("tr"),R={tr:F.createElement("tbody"),tbody:P,thead:P,tfoot:P,td:Q,th:Q,"*":F.createElement("div")},S=/complete|loaded|interactive/,T=/^\.([\w-]+)$/,U=/^#([\w-]*)$/,V=/^[\w-]+$/,W={},X=W.toString,Y={},Z=F.createElement("div");return Y.matches=function(a,b){if(!a||1!==a.nodeType)return!1;var c=a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.matchesSelector;if(c)return c.call(a,b);var d,e=a.parentNode,f=!e;return f&&(e=Z).appendChild(a),d=~Y.qsa(e,b).indexOf(a),f&&Z.removeChild(a),d},A=function(a){return a.replace(/-+(.)?/g,function(a,b){return b?b.toUpperCase():""})},B=function(a){return E.call(a,function(b,c){return a.indexOf(b)==c})},Y.fragment=function(a,b,c){a.replace&&(a=a.replace(L,"<$1></$2>")),b===w&&(b=K.test(a)&&RegExp.$1),b in R||(b="*");var d,e,g=R[b];return g.innerHTML=""+a,e=y.each(D.call(g.childNodes),function(){g.removeChild(this)}),f(c)&&(d=y(e),y.each(c,function(a,b){N.indexOf(a)>-1?d[a](b):d.attr(a,b)})),e},Y.Z=function(a,b){return a=a||[],a.__proto__=y.fn,a.selector=b||"",a},Y.isZ=function(a){return a instanceof Y.Z},Y.init=function(a,c){if(a){if(b(a))return y(F).ready(a);if(Y.isZ(a))return a;var d;if(g(a))d=i(a);else if(e(a))d=[f(a)?y.extend({},a):a],a=null;else if(K.test(a))d=Y.fragment(a.trim(),RegExp.$1,c),a=null;else{if(c!==w)return y(c).find(a);d=Y.qsa(F,a)}return Y.Z(d,a)}return Y.Z()},y=function(a,b){return Y.init(a,b)},y.extend=function(a){var b,c=D.call(arguments,1);return"boolean"==typeof a&&(b=a,a=c.shift()),c.forEach(function(c){p(a,c,b)}),a},Y.qsa=function(a,b){var c;return d(a)&&U.test(b)?(c=a.getElementById(RegExp.$1))?[c]:[]:1!==a.nodeType&&9!==a.nodeType?[]:D.call(T.test(b)?a.getElementsByClassName(RegExp.$1):V.test(b)?a.getElementsByTagName(b):a.querySelectorAll(b))},y.contains=function(a,b){return a!==b&&a.contains(b)},y.type=a,y.isFunction=b,y.isWindow=c,y.isArray=g,y.isPlainObject=f,y.isEmptyObject=function(a){var b;for(b in a)return!1;return!0},y.inArray=function(a,b,c){return C.indexOf.call(b,a,c)},y.camelCase=A,y.trim=function(a){return a.trim()},y.uuid=0,y.support={},y.expr={},y.map=function(a,b){var c,d,e,f=[];if(h(a))for(d=0;d<a.length;d++)c=b(a[d],d),null!=c&&f.push(c);else for(e in a)c=b(a[e],e),null!=c&&f.push(c);return j(f)},y.each=function(a,b){var c,d;if(h(a)){for(c=0;c<a.length;c++)if(b.call(a[c],c,a[c])===!1)return a}else for(d in a)if(b.call(a[d],d,a[d])===!1)return a;return a},y.grep=function(a,b){return E.call(a,b)},window.JSON&&(y.parseJSON=JSON.parse),y.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){W["[object "+b+"]"]=b.toLowerCase()}),y.fn={forEach:C.forEach,reduce:C.reduce,push:C.push,sort:C.sort,indexOf:C.indexOf,concat:C.concat,map:function(a){return y(y.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return y(D.apply(this,arguments))},ready:function(a){return S.test(F.readyState)?a(y):F.addEventListener("DOMContentLoaded",function(){a(y)},!1),this},get:function(a){return a===w?D.call(this):this[a>=0?a:a+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(a){return C.every.call(this,function(b,c){return a.call(b,c,b)!==!1}),this},filter:function(a){return b(a)?this.not(this.not(a)):y(E.call(this,function(b){return Y.matches(b,a)}))},add:function(a,b){return y(B(this.concat(y(a,b))))},is:function(a){return this.length>0&&Y.matches(this[0],a)},not:function(a){var c=[];if(b(a)&&a.call!==w)this.each(function(b){a.call(this,b)||c.push(this)});else{var d="string"==typeof a?this.filter(a):h(a)&&b(a.item)?D.call(a):y(a);this.forEach(function(a){d.indexOf(a)<0&&c.push(a)})}return y(c)},has:function(a){return this.filter(function(){return e(a)?y.contains(this,a):y(this).find(a).size()})},eq:function(a){return-1===a?this.slice(a):this.slice(a,+a+1)},first:function(){var a=this[0];return a&&!e(a)?a:y(a)},last:function(){var a=this[this.length-1];return a&&!e(a)?a:y(a)},find:function(a){var b,c=this;return b="object"==typeof a?y(a).filter(function(){var a=this;return C.some.call(c,function(b){return y.contains(b,a)})}):1==this.length?y(Y.qsa(this[0],a)):this.map(function(){return Y.qsa(this,a)})},closest:function(a,b){var c=this[0],e=!1;for("object"==typeof a&&(e=y(a));c&&!(e?e.indexOf(c)>=0:Y.matches(c,a));)c=c!==b&&!d(c)&&c.parentNode;return y(c)},parents:function(a){for(var b=[],c=this;c.length>0;)c=y.map(c,function(a){return(a=a.parentNode)&&!d(a)&&b.indexOf(a)<0?(b.push(a),a):void 0});return q(b,a)},parent:function(a){return q(B(this.pluck("parentNode")),a)},children:function(a){return q(this.map(function(){return o(this)}),a)},contents:function(){return this.map(function(){return D.call(this.childNodes)})},siblings:function(a){return q(this.map(function(a,b){return E.call(o(b.parentNode),function(a){return a!==b})}),a)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(a){return y.map(this,function(b){return b[a]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=null),"none"==I(this,"").getPropertyValue("display")&&(this.style.display=n(this.nodeName))})},replaceWith:function(a){return this.before(a).remove()},wrap:function(a){var c=b(a);if(this[0]&&!c)var d=y(a).get(0),e=d.parentNode||this.length>1;return this.each(function(b){y(this).wrapAll(c?a.call(this,b):e?d.cloneNode(!0):d)})},wrapAll:function(a){if(this[0]){y(this[0]).before(a=y(a));for(var b;(b=a.children()).length;)a=b.first();y(a).append(this)}return this},wrapInner:function(a){var c=b(a);return this.each(function(b){var d=y(this),e=d.contents(),f=c?a.call(this,b):a;e.length?e.wrapAll(f):d.append(f)})},unwrap:function(){return this.parent().each(function(){y(this).replaceWith(y(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(a){return this.each(function(){var b=y(this);(a===w?"none"==b.css("display"):a)?b.show():b.hide()})},prev:function(a){return y(this.pluck("previousElementSibling")).filter(a||"*")},next:function(a){return y(this.pluck("nextElementSibling")).filter(a||"*")},html:function(a){return a===w?this.length>0?this[0].innerHTML:null:this.each(function(b){var c=this.innerHTML;y(this).empty().append(r(this,a,b,c))})},text:function(a){return a===w?this.length>0?this[0].textContent:null:this.each(function(){this.textContent=a})},attr:function(a,b){var c;return"string"==typeof a&&b===w?0==this.length||1!==this[0].nodeType?w:"value"==a&&"INPUT"==this[0].nodeName?this.val():!(c=this[0].getAttribute(a))&&a in this[0]?this[0][a]:c:this.each(function(c){if(1===this.nodeType)if(e(a))for(x in a)s(this,x,a[x]);else s(this,a,r(this,b,c,this.getAttribute(a)))})},removeAttr:function(a){return this.each(function(){1===this.nodeType&&s(this,a)})},prop:function(a,b){return b===w?this[0]&&this[0][a]:this.each(function(c){this[a]=r(this,b,c,this[a])})},data:function(a,b){var c=this.attr("data-"+k(a),b);return null!==c?u(c):w},val:function(a){return a===w?this[0]&&(this[0].multiple?y(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value):this.each(function(b){this.value=r(this,a,b,this.value)})},offset:function(a){if(a)return this.each(function(b){var c=y(this),d=r(this,a,b,c.offset()),e=c.offsetParent().offset(),f={top:d.top-e.top,left:d.left-e.left};"static"==c.css("position")&&(f.position="relative"),c.css(f)});if(0==this.length)return null;var b=this[0].getBoundingClientRect();return{left:b.left+window.pageXOffset,top:b.top+window.pageYOffset,width:Math.round(b.width),height:Math.round(b.height)}},css:function(b,c){if(arguments.length<2&&"string"==typeof b)return this[0]&&(this[0].style[A(b)]||I(this[0],"").getPropertyValue(b));var d="";if("string"==a(b))c||0===c?d=k(b)+":"+m(b,c):this.each(function(){this.style.removeProperty(k(b))});else for(x in b)b[x]||0===b[x]?d+=k(x)+":"+m(x,b[x])+";":this.each(function(){this.style.removeProperty(k(x))});return this.each(function(){this.style.cssText+=";"+d})},index:function(a){return a?this.indexOf(y(a)[0]):this.parent().children().indexOf(this[0])},hasClass:function(a){return C.some.call(this,function(a){return this.test(t(a))},l(a))},addClass:function(a){return this.each(function(b){z=[];var c=t(this),d=r(this,a,b,c);d.split(/\s+/g).forEach(function(a){y(this).hasClass(a)||z.push(a)},this),z.length&&t(this,c+(c?" ":"")+z.join(" "))})},removeClass:function(a){return this.each(function(b){return a===w?t(this,""):(z=t(this),r(this,a,b,z).split(/\s+/g).forEach(function(a){z=z.replace(l(a)," ")}),void t(this,z.trim()))})},toggleClass:function(a,b){return this.each(function(c){var d=y(this),e=r(this,a,c,t(this));e.split(/\s+/g).forEach(function(a){(b===w?!d.hasClass(a):b)?d.addClass(a):d.removeClass(a)})})},scrollTop:function(){return this.length?"scrollTop"in this[0]?this[0].scrollTop:this[0].scrollY:void 0},position:function(){if(this.length){var a=this[0],b=this.offsetParent(),c=this.offset(),d=M.test(b[0].nodeName)?{top:0,left:0}:b.offset();return c.top-=parseFloat(y(a).css("margin-top"))||0,c.left-=parseFloat(y(a).css("margin-left"))||0,d.top+=parseFloat(y(b[0]).css("border-top-width"))||0,d.left+=parseFloat(y(b[0]).css("border-left-width"))||0,{top:c.top-d.top,left:c.left-d.left}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||F.body;a&&!M.test(a.nodeName)&&"static"==y(a).css("position");)a=a.offsetParent;return a})}},y.fn.detach=y.fn.remove,["width","height"].forEach(function(a){y.fn[a]=function(b){var e,f=this[0],g=a.replace(/./,function(a){return a[0].toUpperCase()});return b===w?c(f)?f["inner"+g]:d(f)?f.documentElement["offset"+g]:(e=this.offset())&&e[a]:this.each(function(c){f=y(this),f.css(a,r(this,b,c,f[a]()))})}}),O.forEach(function(b,c){var d=c%2;y.fn[b]=function(){var b,e,f=y.map(arguments,function(c){return b=a(c),"object"==b||"array"==b||null==c?c:Y.fragment(c)}),g=this.length>1;return f.length<1?this:this.each(function(a,b){e=d?b:b.parentNode,b=0==c?b.nextSibling:1==c?b.firstChild:2==c?b:null,f.forEach(function(a){if(g)a=a.cloneNode(!0);else if(!e)return y(a).remove();v(e.insertBefore(a,b),function(a){null==a.nodeName||"SCRIPT"!==a.nodeName.toUpperCase()||a.type&&"text/javascript"!==a.type||a.src||window.eval.call(window,a.innerHTML)})})})},y.fn[d?b+"To":"insert"+(c?"Before":"After")]=function(a){return y(a)[b](this),this}}),Y.Z.prototype=y.fn,Y.uniq=B,Y.deserializeValue=u,y.zepto=Y,y}();window.Zepto=Zepto,void 0===window.$&&(window.$=Zepto),function(a){function b(a){var b=this.os={},c=this.browser={},d=a.match(/Web[kK]it[\/]{0,1}([\d.]+)/),e=a.match(/(Android);?[\s\/]+([\d.]+)?/),f=a.match(/(iPad).*OS\s([\d_]+)/),g=a.match(/(iPod)(.*OS\s([\d_]+))?/),h=!f&&a.match(/(iPhone\sOS)\s([\d_]+)/),i=a.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),j=i&&a.match(/TouchPad/),k=a.match(/Kindle\/([\d.]+)/),l=a.match(/Silk\/([\d._]+)/),m=a.match(/(BlackBerry).*Version\/([\d.]+)/),n=a.match(/(BB10).*Version\/([\d.]+)/),o=a.match(/(RIM\sTablet\sOS)\s([\d.]+)/),p=a.match(/PlayBook/),q=a.match(/Chrome\/([\d.]+)/)||a.match(/CriOS\/([\d.]+)/),r=a.match(/Firefox\/([\d.]+)/),s=a.match(/MSIE\s([\d.]+)/),t=d&&a.match(/Mobile\//)&&!q,u=a.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/)&&!q;(c.webkit=!!d)&&(c.version=d[1]),e&&(b.android=!0,b.version=e[2]),h&&!g&&(b.ios=b.iphone=!0,b.version=h[2].replace(/_/g,".")),f&&(b.ios=b.ipad=!0,b.version=f[2].replace(/_/g,".")),g&&(b.ios=b.ipod=!0,b.version=g[3]?g[3].replace(/_/g,"."):null),i&&(b.webos=!0,b.version=i[2]),j&&(b.touchpad=!0),m&&(b.blackberry=!0,b.version=m[2]),n&&(b.bb10=!0,b.version=n[2]),o&&(b.rimtabletos=!0,b.version=o[2]),p&&(c.playbook=!0),k&&(b.kindle=!0,b.version=k[1]),l&&(c.silk=!0,c.version=l[1]),!l&&b.android&&a.match(/Kindle Fire/)&&(c.silk=!0),q&&(c.chrome=!0,c.version=q[1]),r&&(c.firefox=!0,c.version=r[1]),s&&(c.ie=!0,c.version=s[1]),t&&(a.match(/Safari/)||b.ios)&&(c.safari=!0),u&&(c.webview=!0),b.tablet=!!(f||p||e&&!a.match(/Mobile/)||r&&a.match(/Tablet/)||s&&!a.match(/Phone/)&&a.match(/Touch/)),b.phone=!(b.tablet||b.ipod||!(e||h||i||m||n||q&&a.match(/Android/)||q&&a.match(/CriOS\/([\d.]+)/)||r&&a.match(/Mobile/)||s&&a.match(/Touch/)))}b.call(a,navigator.userAgent),a.__detect=b}(Zepto),function(a){function b(a){return a._zid||(a._zid=m++)}function c(a,c,f,g){if(c=d(c),c.ns)var h=e(c.ns);return(q[b(a)]||[]).filter(function(a){return!(!a||c.e&&a.e!=c.e||c.ns&&!h.test(a.ns)||f&&b(a.fn)!==b(f)||g&&a.sel!=g)})}function d(a){var b=(""+a).split(".");return{e:b[0],ns:b.slice(1).sort().join(" ")}}function e(a){return new RegExp("(?:^| )"+a.replace(" "," .* ?")+"(?: |$)")}function f(a,b){return a.del&&!s&&a.e in t||!!b}function g(a){return u[a]||s&&t[a]||a}function h(c,e,h,i,k,m,n){var o=b(c),p=q[o]||(q[o]=[]);e.split(/\s/).forEach(function(b){if("ready"==b)return a(document).ready(h);var e=d(b);e.fn=h,e.sel=k,e.e in u&&(h=function(b){var c=b.relatedTarget;return!c||c!==this&&!a.contains(this,c)?e.fn.apply(this,arguments):void 0}),e.del=m;var o=m||h;e.proxy=function(a){if(a=j(a),!a.isImmediatePropagationStopped()){a.data=i;var b=o.apply(c,a._args==l?[a]:[a].concat(a._args));return b===!1&&(a.preventDefault(),a.stopPropagation()),b}},e.i=p.length,p.push(e),"addEventListener"in c&&c.addEventListener(g(e.e),e.proxy,f(e,n))})}function i(a,d,e,h,i){var j=b(a);(d||"").split(/\s/).forEach(function(b){c(a,b,e,h).forEach(function(b){delete q[j][b.i],"removeEventListener"in a&&a.removeEventListener(g(b.e),b.proxy,f(b,i))})})}function j(b,c){return(c||!b.isDefaultPrevented)&&(c||(c=b),a.each(y,function(a,d){var e=c[a];b[a]=function(){return this[d]=v,e&&e.apply(c,arguments)},b[d]=w}),(c.defaultPrevented!==l?c.defaultPrevented:"returnValue"in c?c.returnValue===!1:c.getPreventDefault&&c.getPreventDefault())&&(b.isDefaultPrevented=v)),b}function k(a){var b,c={originalEvent:a};for(b in a)x.test(b)||a[b]===l||(c[b]=a[b]);return j(c,a)}var l,m=1,n=Array.prototype.slice,o=a.isFunction,p=function(a){return"string"==typeof a},q={},r={},s="onfocusin"in window,t={focus:"focusin",blur:"focusout"},u={mouseenter:"mouseover",mouseleave:"mouseout"};r.click=r.mousedown=r.mouseup=r.mousemove="MouseEvents",a.event={add:h,remove:i},a.proxy=function(c,d){if(o(c)){var e=function(){return c.apply(d,arguments)};return e._zid=b(c),e}if(p(d))return a.proxy(c[d],c);throw new TypeError("expected function")},a.fn.bind=function(a,b,c){return this.on(a,b,c)},a.fn.unbind=function(a,b){return this.off(a,b)},a.fn.one=function(a,b,c,d){return this.on(a,b,c,d,1)};var v=function(){return!0},w=function(){return!1},x=/^([A-Z]|returnValue$|layer[XY]$)/,y={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};a.fn.delegate=function(a,b,c){return this.on(b,a,c)},a.fn.undelegate=function(a,b,c){return this.off(b,a,c)},a.fn.live=function(b,c){return a(document.body).delegate(this.selector,b,c),this},a.fn.die=function(b,c){return a(document.body).undelegate(this.selector,b,c),this},a.fn.on=function(b,c,d,e,f){var g,j,m=this;return b&&!p(b)?(a.each(b,function(a,b){m.on(a,c,d,b,f)}),m):(p(c)||o(e)||e===!1||(e=d,d=c,c=l),(o(d)||d===!1)&&(e=d,d=l),e===!1&&(e=w),m.each(function(l,m){f&&(g=function(a){return i(m,a.type,e),e.apply(this,arguments)
}),c&&(j=function(b){var d,f=a(b.target).closest(c,m).get(0);return f&&f!==m?(d=a.extend(k(b),{currentTarget:f,liveFired:m}),(g||e).apply(f,[d].concat(n.call(arguments,1)))):void 0}),h(m,b,e,d,c,j||g)}))},a.fn.off=function(b,c,d){var e=this;return b&&!p(b)?(a.each(b,function(a,b){e.off(a,c,b)}),e):(p(c)||o(d)||d===!1||(d=c,c=l),d===!1&&(d=w),e.each(function(){i(this,b,d,c)}))},a.fn.trigger=function(b,c){return b=p(b)||a.isPlainObject(b)?a.Event(b):j(b),b._args=c,this.each(function(){"dispatchEvent"in this?this.dispatchEvent(b):a(this).triggerHandler(b,c)})},a.fn.triggerHandler=function(b,d){var e,f;return this.each(function(g,h){e=k(p(b)?a.Event(b):b),e._args=d,e.target=h,a.each(c(h,b.type||b),function(a,b){return f=b.proxy(e),e.isImmediatePropagationStopped()?!1:void 0})}),f},"focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(b){a.fn[b]=function(a){return a?this.bind(b,a):this.trigger(b)}}),["focus","blur"].forEach(function(b){a.fn[b]=function(a){return a?this.bind(b,a):this.each(function(){try{this[b]()}catch(a){}}),this}}),a.Event=function(a,b){p(a)||(b=a,a=b.type);var c=document.createEvent(r[a]||"Events"),d=!0;if(b)for(var e in b)"bubbles"==e?d=!!b[e]:c[e]=b[e];return c.initEvent(a,d,!0),j(c)}}(Zepto),function(a){function b(b,c,d){var e=a.Event(c);return a(b).trigger(e,d),!e.isDefaultPrevented()}function c(a,c,d,e){return a.global?b(c||s,d,e):void 0}function d(b){b.global&&0===a.active++&&c(b,null,"ajaxStart")}function e(b){b.global&&!--a.active&&c(b,null,"ajaxStop")}function f(a,b){var d=b.context;return b.beforeSend.call(d,a,b)===!1||c(b,d,"ajaxBeforeSend",[a,b])===!1?!1:void c(b,d,"ajaxSend",[a,b])}function g(a,b,d,e){var f=d.context,g="success";d.success.call(f,a,g,b),e&&e.resolveWith(f,[a,g,b]),c(d,f,"ajaxSuccess",[b,d,a]),i(g,b,d)}function h(a,b,d,e,f){var g=e.context;e.error.call(g,d,b,a),f&&f.rejectWith(g,[d,b,a]),c(e,g,"ajaxError",[d,e,a||b]),i(b,d,e)}function i(a,b,d){var f=d.context;d.complete.call(f,b,a),c(d,f,"ajaxComplete",[b,d]),e(d)}function j(){}function k(a){return a&&(a=a.split(";",2)[0]),a&&(a==x?"html":a==w?"json":u.test(a)?"script":v.test(a)&&"xml")||"text"}function l(a,b){return""==b?a:(a+"&"+b).replace(/[&?]{1,2}/,"?")}function m(b){b.processData&&b.data&&"string"!=a.type(b.data)&&(b.data=a.param(b.data,b.traditional)),!b.data||b.type&&"GET"!=b.type.toUpperCase()||(b.url=l(b.url,b.data),b.data=void 0)}function n(b,c,d,e){return a.isFunction(c)&&(e=d,d=c,c=void 0),a.isFunction(d)||(e=d,d=void 0),{url:b,data:c,success:d,dataType:e}}function o(b,c,d,e){var f,g=a.isArray(c),h=a.isPlainObject(c);a.each(c,function(c,i){f=a.type(i),e&&(c=d?e:e+"["+(h||"object"==f||"array"==f?c:"")+"]"),!e&&g?b.add(i.name,i.value):"array"==f||!d&&"object"==f?o(b,i,d,c):b.add(c,i)})}var p,q,r=0,s=window.document,t=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,u=/^(?:text|application)\/javascript/i,v=/^(?:text|application)\/xml/i,w="application/json",x="text/html",y=/^\s*$/;a.active=0,a.ajaxJSONP=function(b,c){if(!("type"in b))return a.ajax(b);var d,e,i=b.jsonpCallback,j=(a.isFunction(i)?i():i)||"jsonp"+ ++r,k=s.createElement("script"),l=window[j],m=function(b){a(k).triggerHandler("error",b||"abort")},n={abort:m};return c&&c.promise(n),a(k).on("load error",function(f,i){clearTimeout(e),a(k).off().remove(),"error"!=f.type&&d?g(d[0],n,b,c):h(null,i||"error",n,b,c),window[j]=l,d&&a.isFunction(l)&&l(d[0]),l=d=void 0}),f(n,b)===!1?(m("abort"),n):(window[j]=function(){d=arguments},k.src=b.url.replace(/\?(.+)=\?/,"?$1="+j),s.head.appendChild(k),b.timeout>0&&(e=setTimeout(function(){m("timeout")},b.timeout)),n)},a.ajaxSettings={type:"GET",beforeSend:j,success:j,error:j,complete:j,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:w,xml:"application/xml, text/xml",html:x,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},a.ajax=function(b){var c=a.extend({},b||{}),e=a.Deferred&&a.Deferred();for(p in a.ajaxSettings)void 0===c[p]&&(c[p]=a.ajaxSettings[p]);d(c),c.crossDomain||(c.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(c.url)&&RegExp.$2!=window.location.host),c.url||(c.url=window.location.toString()),m(c),c.cache===!1&&(c.url=l(c.url,"_="+Date.now()));var i=c.dataType,n=/\?.+=\?/.test(c.url);if("jsonp"==i||n)return n||(c.url=l(c.url,c.jsonp?c.jsonp+"=?":c.jsonp===!1?"":"callback=?")),a.ajaxJSONP(c,e);var o,r=c.accepts[i],s={},t=function(a,b){s[a.toLowerCase()]=[a,b]},u=/^([\w-]+:)\/\//.test(c.url)?RegExp.$1:window.location.protocol,v=c.xhr(),w=v.setRequestHeader;if(e&&e.promise(v),c.crossDomain||t("X-Requested-With","XMLHttpRequest"),t("Accept",r||"*/*"),(r=c.mimeType||r)&&(r.indexOf(",")>-1&&(r=r.split(",",2)[0]),v.overrideMimeType&&v.overrideMimeType(r)),(c.contentType||c.contentType!==!1&&c.data&&"GET"!=c.type.toUpperCase())&&t("Content-Type",c.contentType||"application/x-www-form-urlencoded"),c.headers)for(q in c.headers)t(q,c.headers[q]);if(v.setRequestHeader=t,v.onreadystatechange=function(){if(4==v.readyState){v.onreadystatechange=j,clearTimeout(o);var b,d=!1;if(v.status>=200&&v.status<300||304==v.status||0==v.status&&"file:"==u){i=i||k(c.mimeType||v.getResponseHeader("content-type")),b=v.responseText;try{"script"==i?(1,eval)(b):"xml"==i?b=v.responseXML:"json"==i&&(b=y.test(b)?null:a.parseJSON(b))}catch(f){d=f}d?h(d,"parsererror",v,c,e):g(b,v,c,e)}else h(v.statusText||null,v.status?"error":"abort",v,c,e)}},f(v,c)===!1)return v.abort(),h(null,"abort",v,c,e),v;if(c.xhrFields)for(q in c.xhrFields)v[q]=c.xhrFields[q];var x="async"in c?c.async:!0;v.open(c.type,c.url,x,c.username,c.password);for(q in s)w.apply(v,s[q]);return c.timeout>0&&(o=setTimeout(function(){v.onreadystatechange=j,v.abort(),h(null,"timeout",v,c,e)},c.timeout)),v.send(c.data?c.data:null),v},a.get=function(){return a.ajax(n.apply(null,arguments))},a.post=function(){var b=n.apply(null,arguments);return b.type="POST",a.ajax(b)},a.getJSON=function(){var b=n.apply(null,arguments);return b.dataType="json",a.ajax(b)},a.fn.load=function(b,c,d){if(!this.length)return this;var e,f=this,g=b.split(/\s/),h=n(b,c,d),i=h.success;return g.length>1&&(h.url=g[0],e=g[1]),h.success=function(b){f.html(e?a("<div>").html(b.replace(t,"")).find(e):b),i&&i.apply(f,arguments)},a.ajax(h),this};var z=encodeURIComponent;a.param=function(a,b){var c=[];return c.add=function(a,b){this.push(z(a)+"="+z(b))},o(c,a,b),c.join("&").replace(/%20/g,"+")}}(Zepto),function(a){a.fn.serializeArray=function(){var b,c=[];return a([].slice.call(this.get(0).elements)).each(function(){b=a(this);var d=b.attr("type");"fieldset"!=this.nodeName.toLowerCase()&&!this.disabled&&"submit"!=d&&"reset"!=d&&"button"!=d&&("radio"!=d&&"checkbox"!=d||this.checked)&&c.push({name:b.attr("name"),value:b.val()})}),c},a.fn.serialize=function(){var a=[];return this.serializeArray().forEach(function(b){a.push(encodeURIComponent(b.name)+"="+encodeURIComponent(b.value))}),a.join("&")},a.fn.submit=function(b){if(b)this.bind("submit",b);else if(this.length){var c=a.Event("submit");this.eq(0).trigger(c),c.isDefaultPrevented()||this.get(0).submit()}return this}}(Zepto),function(a,b){function c(a){return a.replace(/([a-z])([A-Z])/,"$1-$2").toLowerCase()}function d(a){return e?e+a:a.toLowerCase()}var e,f,g,h,i,j,k,l,m,n,o="",p={Webkit:"webkit",Moz:"",O:"o"},q=window.document,r=q.createElement("div"),s=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,t={};a.each(p,function(a,c){return r.style[a+"TransitionProperty"]!==b?(o="-"+a.toLowerCase()+"-",e=c,!1):void 0}),f=o+"transform",t[g=o+"transition-property"]=t[h=o+"transition-duration"]=t[j=o+"transition-delay"]=t[i=o+"transition-timing-function"]=t[k=o+"animation-name"]=t[l=o+"animation-duration"]=t[n=o+"animation-delay"]=t[m=o+"animation-timing-function"]="",a.fx={off:e===b&&r.style.transitionProperty===b,speeds:{_default:400,fast:200,slow:600},cssPrefix:o,transitionEnd:d("TransitionEnd"),animationEnd:d("AnimationEnd")},a.fn.animate=function(c,d,e,f,g){return a.isFunction(d)&&(f=d,e=b,d=b),a.isFunction(e)&&(f=e,e=b),a.isPlainObject(d)&&(e=d.easing,f=d.complete,g=d.delay,d=d.duration),d&&(d=("number"==typeof d?d:a.fx.speeds[d]||a.fx.speeds._default)/1e3),g&&(g=parseFloat(g)/1e3),this.anim(c,d,e,f,g)},a.fn.anim=function(d,e,o,p,q){var r,u,v,w={},x="",y=this,z=a.fx.transitionEnd,A=!1;if(e===b&&(e=a.fx.speeds._default/1e3),q===b&&(q=0),a.fx.off&&(e=0),"string"==typeof d)w[k]=d,w[l]=e+"s",w[n]=q+"s",w[m]=o||"linear",z=a.fx.animationEnd;else{u=[];for(r in d)s.test(r)?x+=r+"("+d[r]+") ":(w[r]=d[r],u.push(c(r)));x&&(w[f]=x,u.push(f)),e>0&&"object"==typeof d&&(w[g]=u.join(", "),w[h]=e+"s",w[j]=q+"s",w[i]=o||"linear")}return v=function(b){if("undefined"!=typeof b){if(b.target!==b.currentTarget)return;a(b.target).unbind(z,v)}else a(this).unbind(z,v);A=!0,a(this).css(t),p&&p.call(this)},e>0&&(this.bind(z,v),setTimeout(function(){A||v.call(y)},1e3*e+25)),this.size()&&this.get(0).clientLeft,this.css(w),0>=e&&setTimeout(function(){y.each(function(){v.call(this)})},0),this},r=null}(Zepto),function(){var a=this,b=a._,c={},d=Array.prototype,e=Object.prototype,f=Function.prototype,g=d.push,h=d.slice,i=d.concat,j=e.toString,k=e.hasOwnProperty,l=d.forEach,m=d.map,n=d.reduce,o=d.reduceRight,p=d.filter,q=d.every,r=d.some,s=d.indexOf,t=d.lastIndexOf,u=Array.isArray,v=Object.keys,w=f.bind,x=function(a){return a instanceof x?a:this instanceof x?void(this._wrapped=a):new x(a)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=x),exports._=x):a._=x,x.VERSION="1.4.4";var y=x.each=x.forEach=function(a,b,d){if(null!=a)if(l&&a.forEach===l)a.forEach(b,d);else if(a.length===+a.length){for(var e=0,f=a.length;f>e;e++)if(b.call(d,a[e],e,a)===c)return}else for(var g in a)if(x.has(a,g)&&b.call(d,a[g],g,a)===c)return};x.map=x.collect=function(a,b,c){var d=[];return null==a?d:m&&a.map===m?a.map(b,c):(y(a,function(a,e,f){d[d.length]=b.call(c,a,e,f)}),d)};var z="Reduce of empty array with no initial value";x.reduce=x.foldl=x.inject=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),n&&a.reduce===n)return d&&(b=x.bind(b,d)),e?a.reduce(b,c):a.reduce(b);if(y(a,function(a,f,g){e?c=b.call(d,c,a,f,g):(c=a,e=!0)}),!e)throw new TypeError(z);return c},x.reduceRight=x.foldr=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),o&&a.reduceRight===o)return d&&(b=x.bind(b,d)),e?a.reduceRight(b,c):a.reduceRight(b);var f=a.length;if(f!==+f){var g=x.keys(a);f=g.length}if(y(a,function(h,i,j){i=g?g[--f]:--f,e?c=b.call(d,c,a[i],i,j):(c=a[i],e=!0)}),!e)throw new TypeError(z);return c},x.find=x.detect=function(a,b,c){var d;return A(a,function(a,e,f){return b.call(c,a,e,f)?(d=a,!0):void 0}),d},x.filter=x.select=function(a,b,c){var d=[];return null==a?d:p&&a.filter===p?a.filter(b,c):(y(a,function(a,e,f){b.call(c,a,e,f)&&(d[d.length]=a)}),d)},x.reject=function(a,b,c){return x.filter(a,function(a,d,e){return!b.call(c,a,d,e)},c)},x.every=x.all=function(a,b,d){b||(b=x.identity);var e=!0;return null==a?e:q&&a.every===q?a.every(b,d):(y(a,function(a,f,g){return(e=e&&b.call(d,a,f,g))?void 0:c}),!!e)};var A=x.some=x.any=function(a,b,d){b||(b=x.identity);var e=!1;return null==a?e:r&&a.some===r?a.some(b,d):(y(a,function(a,f,g){return e||(e=b.call(d,a,f,g))?c:void 0}),!!e)};x.contains=x.include=function(a,b){return null==a?!1:s&&a.indexOf===s?-1!=a.indexOf(b):A(a,function(a){return a===b})},x.invoke=function(a,b){var c=h.call(arguments,2),d=x.isFunction(b);return x.map(a,function(a){return(d?b:a[b]).apply(a,c)})},x.pluck=function(a,b){return x.map(a,function(a){return a[b]})},x.where=function(a,b,c){return x.isEmpty(b)?c?null:[]:x[c?"find":"filter"](a,function(a){for(var c in b)if(b[c]!==a[c])return!1;return!0})},x.findWhere=function(a,b){return x.where(a,b,!0)},x.max=function(a,b,c){if(!b&&x.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.max.apply(Math,a);if(!b&&x.isEmpty(a))return-1/0;var d={computed:-1/0,value:-1/0};return y(a,function(a,e,f){var g=b?b.call(c,a,e,f):a;g>=d.computed&&(d={value:a,computed:g})}),d.value},x.min=function(a,b,c){if(!b&&x.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.min.apply(Math,a);if(!b&&x.isEmpty(a))return 1/0;var d={computed:1/0,value:1/0};return y(a,function(a,e,f){var g=b?b.call(c,a,e,f):a;g<d.computed&&(d={value:a,computed:g})}),d.value},x.shuffle=function(a){var b,c=0,d=[];return y(a,function(a){b=x.random(c++),d[c-1]=d[b],d[b]=a}),d};var B=function(a){return x.isFunction(a)?a:function(b){return b[a]}};x.sortBy=function(a,b,c){var d=B(b);return x.pluck(x.map(a,function(a,b,e){return{value:a,index:b,criteria:d.call(c,a,b,e)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(d>c||void 0===d)return-1}return a.index<b.index?-1:1}),"value")};var C=function(a,b,c,d){var e={},f=B(b||x.identity);return y(a,function(b,g){var h=f.call(c,b,g,a);d(e,h,b)}),e};x.groupBy=function(a,b,c){return C(a,b,c,function(a,b,c){(x.has(a,b)?a[b]:a[b]=[]).push(c)})},x.countBy=function(a,b,c){return C(a,b,c,function(a,b){x.has(a,b)||(a[b]=0),a[b]++})},x.sortedIndex=function(a,b,c,d){c=null==c?x.identity:B(c);for(var e=c.call(d,b),f=0,g=a.length;g>f;){var h=f+g>>>1;c.call(d,a[h])<e?f=h+1:g=h}return f},x.toArray=function(a){return a?x.isArray(a)?h.call(a):a.length===+a.length?x.map(a,x.identity):x.values(a):[]},x.size=function(a){return null==a?0:a.length===+a.length?a.length:x.keys(a).length},x.first=x.head=x.take=function(a,b,c){return null==a?void 0:null==b||c?a[0]:h.call(a,0,b)},x.initial=function(a,b,c){return h.call(a,0,a.length-(null==b||c?1:b))},x.last=function(a,b,c){return null==a?void 0:null==b||c?a[a.length-1]:h.call(a,Math.max(a.length-b,0))},x.rest=x.tail=x.drop=function(a,b,c){return h.call(a,null==b||c?1:b)},x.compact=function(a){return x.filter(a,x.identity)};var D=function(a,b,c){return y(a,function(a){x.isArray(a)?b?g.apply(c,a):D(a,b,c):c.push(a)}),c};x.flatten=function(a,b){return D(a,b,[])},x.without=function(a){return x.difference(a,h.call(arguments,1))},x.uniq=x.unique=function(a,b,c,d){x.isFunction(b)&&(d=c,c=b,b=!1);var e=c?x.map(a,c,d):a,f=[],g=[];return y(e,function(c,d){(b?d&&g[g.length-1]===c:x.contains(g,c))||(g.push(c),f.push(a[d]))}),f},x.union=function(){return x.uniq(i.apply(d,arguments))},x.intersection=function(a){var b=h.call(arguments,1);return x.filter(x.uniq(a),function(a){return x.every(b,function(b){return x.indexOf(b,a)>=0})})},x.difference=function(a){var b=i.apply(d,h.call(arguments,1));return x.filter(a,function(a){return!x.contains(b,a)})},x.zip=function(){for(var a=h.call(arguments),b=x.max(x.pluck(a,"length")),c=new Array(b),d=0;b>d;d++)c[d]=x.pluck(a,""+d);return c},x.object=function(a,b){if(null==a)return{};for(var c={},d=0,e=a.length;e>d;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c},x.indexOf=function(a,b,c){if(null==a)return-1;var d=0,e=a.length;if(c){if("number"!=typeof c)return d=x.sortedIndex(a,b),a[d]===b?d:-1;d=0>c?Math.max(0,e+c):c}if(s&&a.indexOf===s)return a.indexOf(b,c);for(;e>d;d++)if(a[d]===b)return d;return-1},x.lastIndexOf=function(a,b,c){if(null==a)return-1;var d=null!=c;if(t&&a.lastIndexOf===t)return d?a.lastIndexOf(b,c):a.lastIndexOf(b);for(var e=d?c:a.length;e--;)if(a[e]===b)return e;return-1},x.range=function(a,b,c){arguments.length<=1&&(b=a||0,a=0),c=arguments[2]||1;for(var d=Math.max(Math.ceil((b-a)/c),0),e=0,f=new Array(d);d>e;)f[e++]=a,a+=c;return f},x.bind=function(a,b){if(a.bind===w&&w)return w.apply(a,h.call(arguments,1));var c=h.call(arguments,2);return function(){return a.apply(b,c.concat(h.call(arguments)))}},x.partial=function(a){var b=h.call(arguments,1);return function(){return a.apply(this,b.concat(h.call(arguments)))}},x.bindAll=function(a){var b=h.call(arguments,1);return 0===b.length&&(b=x.functions(a)),y(b,function(b){a[b]=x.bind(a[b],a)}),a},x.memoize=function(a,b){var c={};return b||(b=x.identity),function(){var d=b.apply(this,arguments);return x.has(c,d)?c[d]:c[d]=a.apply(this,arguments)}},x.delay=function(a,b){var c=h.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)},x.defer=function(a){return x.delay.apply(x,[a,1].concat(h.call(arguments,1)))},x.throttle=function(a,b){var c,d,e,f,g=0,h=function(){g=new Date,e=null,f=a.apply(c,d)};return function(){var i=new Date,j=b-(i-g);return c=this,d=arguments,0>=j?(clearTimeout(e),e=null,g=i,f=a.apply(c,d)):e||(e=setTimeout(h,j)),f}},x.debounce=function(a,b,c){var d,e;return function(){var f=this,g=arguments,h=function(){d=null,c||(e=a.apply(f,g))},i=c&&!d;return clearTimeout(d),d=setTimeout(h,b),i&&(e=a.apply(f,g)),e}},x.once=function(a){var b,c=!1;return function(){return c?b:(c=!0,b=a.apply(this,arguments),a=null,b)}},x.wrap=function(a,b){return function(){var c=[a];return g.apply(c,arguments),b.apply(this,c)}},x.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length-1;c>=0;c--)b=[a[c].apply(this,b)];return b[0]}},x.after=function(a,b){return 0>=a?b():function(){return--a<1?b.apply(this,arguments):void 0}},x.keys=v||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var b=[];for(var c in a)x.has(a,c)&&(b[b.length]=c);return b},x.values=function(a){var b=[];for(var c in a)x.has(a,c)&&b.push(a[c]);return b},x.pairs=function(a){var b=[];for(var c in a)x.has(a,c)&&b.push([c,a[c]]);return b},x.invert=function(a){var b={};for(var c in a)x.has(a,c)&&(b[a[c]]=c);return b},x.functions=x.methods=function(a){var b=[];for(var c in a)x.isFunction(a[c])&&b.push(c);return b.sort()},x.extend=function(a){return y(h.call(arguments,1),function(b){if(b)for(var c in b)a[c]=b[c]}),a},x.pick=function(a){var b={},c=i.apply(d,h.call(arguments,1));return y(c,function(c){c in a&&(b[c]=a[c])}),b},x.omit=function(a){var b={},c=i.apply(d,h.call(arguments,1));for(var e in a)x.contains(c,e)||(b[e]=a[e]);return b},x.defaults=function(a){return y(h.call(arguments,1),function(b){if(b)for(var c in b)null==a[c]&&(a[c]=b[c])}),a},x.clone=function(a){return x.isObject(a)?x.isArray(a)?a.slice():x.extend({},a):a},x.tap=function(a,b){return b(a),a};var E=function(a,b,c,d){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return a===b;a instanceof x&&(a=a._wrapped),b instanceof x&&(b=b._wrapped);var e=j.call(a);if(e!=j.call(b))return!1;switch(e){case"[object String]":return a==String(b);case"[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;for(var f=c.length;f--;)if(c[f]==a)return d[f]==b;c.push(a),d.push(b);var g=0,h=!0;if("[object Array]"==e){if(g=a.length,h=g==b.length)for(;g--&&(h=E(a[g],b[g],c,d)););}else{var i=a.constructor,k=b.constructor;if(i!==k&&!(x.isFunction(i)&&i instanceof i&&x.isFunction(k)&&k instanceof k))return!1;for(var l in a)if(x.has(a,l)&&(g++,!(h=x.has(b,l)&&E(a[l],b[l],c,d))))break;if(h){for(l in b)if(x.has(b,l)&&!g--)break;h=!g}}return c.pop(),d.pop(),h};x.isEqual=function(a,b){return E(a,b,[],[])},x.isEmpty=function(a){if(null==a)return!0;if(x.isArray(a)||x.isString(a))return 0===a.length;for(var b in a)if(x.has(a,b))return!1;return!0},x.isElement=function(a){return!(!a||1!==a.nodeType)},x.isArray=u||function(a){return"[object Array]"==j.call(a)},x.isObject=function(a){return a===Object(a)},y(["Arguments","Function","String","Number","Date","RegExp"],function(a){x["is"+a]=function(b){return j.call(b)=="[object "+a+"]"}}),x.isArguments(arguments)||(x.isArguments=function(a){return!(!a||!x.has(a,"callee"))}),"function"!=typeof/./&&(x.isFunction=function(a){return"function"==typeof a}),x.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))},x.isNaN=function(a){return x.isNumber(a)&&a!=+a},x.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"==j.call(a)},x.isNull=function(a){return null===a},x.isUndefined=function(a){return void 0===a},x.has=function(a,b){return k.call(a,b)},x.noConflict=function(){return a._=b,this},x.identity=function(a){return a},x.times=function(a,b,c){for(var d=Array(a),e=0;a>e;e++)d[e]=b.call(c,e);return d},x.random=function(a,b){return null==b&&(b=a,a=0),a+Math.floor(Math.random()*(b-a+1))};var F={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};F.unescape=x.invert(F.escape);var G={escape:new RegExp("["+x.keys(F.escape).join("")+"]","g"),unescape:new RegExp("("+x.keys(F.unescape).join("|")+")","g")};x.each(["escape","unescape"],function(a){x[a]=function(b){return null==b?"":(""+b).replace(G[a],function(b){return F[a][b]})}}),x.result=function(a,b){if(null==a)return null;var c=a[b];return x.isFunction(c)?c.call(a):c},x.mixin=function(a){y(x.functions(a),function(b){var c=x[b]=a[b];x.prototype[b]=function(){var a=[this._wrapped];return g.apply(a,arguments),L.call(this,c.apply(x,a))}})};var H=0;x.uniqueId=function(a){var b=++H+"";return a?a+b:b},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var I=/(.)^/,J={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},K=/\\|'|\r|\n|\t|\u2028|\u2029/g;x.template=function(a,b,c){var d;c=x.defaults({},c,x.templateSettings);var e=new RegExp([(c.escape||I).source,(c.interpolate||I).source,(c.evaluate||I).source].join("|")+"|$","g"),f=0,g="__p+='";a.replace(e,function(b,c,d,e,h){return g+=a.slice(f,h).replace(K,function(a){return"\\"+J[a]}),c&&(g+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'"),d&&(g+="'+\n((__t=("+d+"))==null?'':__t)+\n'"),e&&(g+="';\n"+e+"\n__p+='"),f=h+b.length,b}),g+="';\n",c.variable||(g="with(obj||{}){\n"+g+"}\n"),g="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+g+"return __p;\n";try{d=new Function(c.variable||"obj","_",g)}catch(h){throw h.source=g,h}if(b)return d(b,x);var i=function(a){return d.call(this,a,x)};return i.source="function("+(c.variable||"obj")+"){\n"+g+"}",i},x.chain=function(a){return x(a).chain()};var L=function(a){return this._chain?x(a).chain():a};x.mixin(x),y(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=d[a];x.prototype[a]=function(){var c=this._wrapped;return b.apply(c,arguments),"shift"!=a&&"splice"!=a||0!==c.length||delete c[0],L.call(this,c)}}),y(["concat","join","slice"],function(a){var b=d[a];x.prototype[a]=function(){return L.call(this,b.apply(this._wrapped,arguments))}}),x.extend(x.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),function(){var a=[],b=a.slice;_.inherit=function(){function a(){_.isFunction(this.initialize)&&this.initialize.apply(this,arguments)}if(0===arguments.length||arguments.length>2)throw"";var c=null,d=b.call(arguments);if("function"==typeof d[0]&&(c=d.shift()),d=d[0],a.superclass=c,c){var e=function(){};e.prototype=c.prototype,a.prototype=new e}var f=a.superclass&&a.superclass.prototype;for(var g in d){var h=d[g];if(f&&"function"==typeof h){var i=/^\s*function\s*\(([^\(\)]*?)\)\s*?\{/i.exec(h.toString())[1].replace(/\s/g,"").split(",");"$super"===i[0]&&f[g]&&(h=function(a,c){return function(){var d=this,e=[function(){return f[a].apply(d,arguments)}];return c.apply(this,e.concat(b.call(arguments)))}}(g,h))}if(_.isObject(a.prototype[g])&&_.isObject(h)&&"function"!=typeof a.prototype[g]&&"fuction"!=typeof h){var j={};_.extend(j,a.prototype[g]),_.extend(j,h),a.prototype[g]=j}else a.prototype[g]=h}return a.prototype.initialize||(a.prototype.initialize=function(){}),a.prototype.constructor=a,a}}(),function(){function a(a,b,c,d,e){var f=Math.abs(a-b),g=Math.abs(c-d),h=f>=g?a-b>0?"left":"right":c-d>0?"up":"down";return e&&("left"==h||"right"==h?g/f>e&&(h=""):("up"==h||"down"==h)&&f/g>e&&(h="")),h}function b(b,c,i,j,k){b&&b.on(f,function(a){var b=a.touches&&a.touches[0]||a;e.x1=b.pageX,e.y1=b.pageY}).on(g,function(a){var b=a.touches&&a.touches[0]||a;e.x2=b.pageX,e.y2=b.pageY,j||a.preventDefault()}).on(h,function(){if(e.x2&&Math.abs(e.x1-e.x2)>d||e.y2&&Math.abs(e.y1-e.y2)>d){var b=a(e.x1,e.x2,e.y1,e.y2,k);c===b&&"function"==typeof i&&i()}else"tap"===c&&"function"==typeof i&&i()})}function c(a){a&&a.off(f).off(g).off(h)}var d=20,e={},f="touchstart",g="touchmove",h="touchend";"ontouchstart"in window||(f="mousedown",g="mousemove",h="mouseup"),_.flip=b,_.flipDestroy=c}(),function(){_.dateUtil={formatNum:function(a){return 10>a?"0"+a:a},parse:function(a,b){if("undefined"==typeof a)return null;if("string"==typeof b){var c=(new Date(b),b.replace(/[^ymd]/g,"").split(""));if(!c&&3!=c.length)return null;for(var b=b.replace(/y|m|d/g,function(a){switch(a){case"y":return"(\\d{4})";case"m":case"d":return"(\\d{1,2})"}}),d=new RegExp(b,"g"),e=d.exec(a),f={},g=0,h=c.length;h>g;g++)f[c[g]]=e[g+1];return new Date(f.y,f.m-1,f.d)}return null},format:function(a,b){return arguments.length<2&&!a.getTime&&(b=a,a=new Date),"string"!=typeof b&&(b="YMD HFS"),b.replace(/Y|y|M|m|D|d|H|h|F|f|S|s/g,function(b){switch(b){case"y":return(a.getFullYear()+"").slice(2);case"Y":return a.getFullYear();case"m":return a.getMonth()+1;case"M":return _.dateUtil.formatNum(a.getMonth()+1);case"d":return a.getDate();case"D":return _.dateUtil.formatNum(a.getDate());case"h":return a.getHours();case"H":return _.dateUtil.formatNum(a.getHours());case"f":return a.getMinutes();case"F":return _.dateUtil.formatNum(a.getMinutes());case"s":return a.getSeconds();case"S":return _.dateUtil.formatNum(a.getSeconds())}})},isDate:function(a){return"object"==typeof a&&a instanceof Date?!0:!1},isLeapYear:function(a){return _.dateUtil.isDate(a)&&(a=a.getFullYear()),a%4==0&&a%100!=0||a%400==0?!0:!1},getDaysOfMonth:function(a,b){return b--,_.dateUtil.isDate(a)&&(b=a.getMonth(),a=a.getFullYear()),[31,_.dateUtil.isLeapYear(a)?29:28,31,30,31,30,31,31,30,31,30,31][b]},getBeginDayOfMouth:function(a,b){b--,"object"==typeof a&&a instanceof Date&&(b=a.getMonth(),a=a.getFullYear());var c=new Date(a,b,1);return c.getDay()}}}(),function(){{var a,b=this,c=b.Backbone,d=[],e=(d.push,d.slice);d.splice}a="undefined"!=typeof exports?exports:b.Backbone={},a.VERSION="1.0.0";var f=b._;f||"undefined"==typeof require||(f=require("underscore")),a.$=b.jQuery||b.Zepto||b.ender||b.$,a.noConflict=function(){return b.Backbone=c,this},a.emulateHTTP=!1,a.emulateJSON=!1;var g=a.Events={on:function(a,b,c){if(!i(this,"on",a,[b,c])||!b)return this;this._events||(this._events={});var d=this._events[a]||(this._events[a]=[]);return d.push({callback:b,context:c,ctx:c||this}),this},once:function(a,b,c){if(!i(this,"once",a,[b,c])||!b)return this;var d=this,e=f.once(function(){d.off(a,e),b.apply(this,arguments)});return e._callback=b,this.on(a,e,c)},off:function(a,b,c){var d,e,g,h,j,k,l,m;if(!this._events||!i(this,"off",a,[b,c]))return this;if(!a&&!b&&!c)return this._events={},this;for(h=a?[a]:f.keys(this._events),j=0,k=h.length;k>j;j++)if(a=h[j],g=this._events[a]){if(this._events[a]=d=[],b||c)for(l=0,m=g.length;m>l;l++)e=g[l],(b&&b!==e.callback&&b!==e.callback._callback||c&&c!==e.context)&&d.push(e);d.length||delete this._events[a]}return this},trigger:function(a){if(!this._events)return this;var b=e.call(arguments,1);if(!i(this,"trigger",a,b))return this;var c=this._events[a],d=this._events.all;return c&&j(c,b),d&&j(d,arguments),this},stopListening:function(a,b,c){var d=this._listeners;if(!d)return this;var e=!b&&!c;"object"==typeof b&&(c=this),a&&((d={})[a._listenerId]=a);for(var f in d)d[f].off(b,c,this),e&&delete this._listeners[f];return this}},h=/\s+/,i=function(a,b,c,d){if(!c)return!0;if("object"==typeof c){for(var e in c)a[b].apply(a,[e,c[e]].concat(d));return!1}if(h.test(c)){for(var f=c.split(h),g=0,i=f.length;i>g;g++)a[b].apply(a,[f[g]].concat(d));return!1}return!0},j=function(a,b){var c,d=-1,e=a.length,f=b[0],g=b[1],h=b[2];switch(b.length){case 0:for(;++d<e;)(c=a[d]).callback.call(c.ctx);return;case 1:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f);return;case 2:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g);return;case 3:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g,h);return;default:for(;++d<e;)(c=a[d]).callback.apply(c.ctx,b)}},k={listenTo:"on",listenToOnce:"once"};f.each(k,function(a,b){g[b]=function(b,c,d){var e=this._listeners||(this._listeners={}),g=b._listenerId||(b._listenerId=f.uniqueId("l"));return e[g]=b,"object"==typeof c&&(d=this),b[a](c,d,this),this}}),g.bind=g.on,g.unbind=g.off,f.extend(a,g);var l=a.View=function(a){this.cid=f.uniqueId("view"),this._configure(a||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},m=/^(\S+)\s*(.*)$/,n=["model","collection","el","id","attributes","className","tagName","events"];f.extend(l.prototype,g,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(b,c){return this.$el&&this.undelegateEvents(),this.$el=b instanceof a.$?b:a.$(b),this.el=this.$el[0],c!==!1&&this.delegateEvents(),this},delegateEvents:function(a){if(!a&&!(a=f.result(this,"events")))return this;this.undelegateEvents();for(var b in a){var c=a[b];if(f.isFunction(c)||(c=this[a[b]]),c){var d=b.match(m),e=d[1],g=d[2];c=f.bind(c,this),e+=".delegateEvents"+this.cid,""===g?this.$el.on(e,c):this.$el.on(e,g,c)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_configure:function(a){this.options&&(a=f.extend({},f.result(this,"options"),a)),f.extend(this,f.pick(a,n)),this.options=a},_ensureElement:function(){if(this.el)this.setElement(f.result(this,"el"),!1);else{var b=f.extend({},f.result(this,"attributes"));this.id&&(b.id=f.result(this,"id")),this.className&&(b["class"]=f.result(this,"className"));var c=a.$("<"+f.result(this,"tagName")+">").attr(b);this.setElement(c,!1)}}});var o=function(a,b){var c,d=this;c=a&&f.has(a,"constructor")?a.constructor:function(){return d.apply(this,arguments)},f.extend(c,d,b);var e=function(){this.constructor=c};return e.prototype=d.prototype,c.prototype=new e,a&&f.extend(c.prototype,a),c.__super__=d.prototype,c};l.extend=o}.call(this),function(a){function b(a){if(a.targetTouches.length>1)return!0;if(q=a.target,x){var b=window.getSelection();if(b.rangeCount&&!b.isCollapsed)return!0;if(a.targetTouches[0].identifier===y)return event.preventDefault(),!1;y=a.targetTouches[0].identifier}return m=!0,n=a.timeStamp,r=a.targetTouches[0].pageX,s=a.targetTouches[0].pageY,a.timeStamp-o<0&&(o=a.timeStamp),a.timeStamp-o<200&&a.preventDefault(),!0}function c(a){return m?(t=a.changedTouches[0].pageX,u=a.changedTouches[0].pageY,(Math.abs(t-r)>v||Math.abs(u-s)>v)&&(q=null,m=!1),!0):!0}function d(b){if(!m)return!0;if(b.timeStamp-o<200)return p=!0,!0;o=b.timeStamp,m=!1;var c=q.tagName.toLowerCase();if("label"==c){var d=j(q);if(d){var e=a(d);if("checkbox"==e.attr("type")||"radio"==e.attr("type")?e.attr("checked")?e.removeAttr("checked"):e.attr("checked","checked"):a(d).focus(),w)return!1;q=d}}else if(i(q))return b.timeStamp-n>100?(q=null,!1):(z&&q.blur(),q.focus(),"select"!==c&&(q=null,b.preventDefault()),!1);return n=0,h(q)||(b.preventDefault(),k(q,b)),!1}function e(){m=!1,q=null}function f(a){return q?a.touchEvent?!0:a.cancelable&&(!h(q)||p)?(a.stopImmediatePropagation?a.stopImmediatePropagation():a.propagationStopped=!0,a.stopPropagation(),a.preventDefault(),!1):!0:!0}function g(a){if(m)return m=!1,q=null,!0;if("submit"===a.target.type&&0===a.detail)return!0;var b=f(a);return b||(q=null),b}function h(a){switch(a.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(a.disabled)return!0;break;case"input":if(a.disabled)return!0;break;case"video":return!0}return/\bneedclick\b/.test(a.className)}function i(a){switch(a.nodeName.toLowerCase()){case"textarea":case"select":return!0;case"input":switch(a.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!a.disabled&&!a.readOnly;
default:return/\bneedfocus\b/.test(a.className)}}function j(a){return void 0!==a.control?a.control:a.htmlFor?document.getElementById(a.htmlFor):a.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")}function k(a,b){var c,d;document.activeElement&&document.activeElement!==a&&document.activeElement.blur(),d=b.changedTouches[0],c=document.createEvent("MouseEvents"),c.initMouseEvent("click",!0,!0,window,1,d.screenX,d.screenY,d.clientX,d.clientY,!1,!1,!1,!1,0,null),c.touchEvent=!0,a.dispatchEvent(c)}function l(){return"undefined"==typeof window.ontouchstart?!1:!0}var m=!1,n=0,o=0,p=!1,q=null,r=0,s=0,t=0,u=0,v=4,w=navigator.userAgent.indexOf("Android")>0,x=/iP(ad|hone|od)/.test(navigator.userAgent),y=0,z=x&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent);a.needFocus=i,a.bindFastClick=function(){return l()?void a(document).ready(function(){w&&(document.addEventListener("mouseover",f,!0),document.addEventListener("mousedown",f,!0),document.addEventListener("mouseup",f,!0)),document.addEventListener("click",g,!0),a(document).on("touchstart",b).on("touchmove",c).on("touchend",d).on("touchcancel",e)}):!0},a.unbindFastClick=function(){return l()?(w&&(document.removeEventListener("mouseover",f,!0),document.removeEventListener("mousedown",f,!0),document.removeEventListener("mouseup",f,!0)),document.removeEventListener("click",g,!0),void a(document).off("touchstart",b).off("touchmove",c).off("touchend",d).off("touchcancel",e)):!0}}($),define("libs",["$","_","B","F"],function(){}),define("text",["module"],function(a){"use strict";var b,c,d,e,f=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],g=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,h=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,i="undefined"!=typeof location&&location.href,j=i&&location.protocol&&location.protocol.replace(/\:/,""),k=i&&location.hostname,l=i&&(location.port||void 0),m=[],n=a.config&&a.config()||{};return b={version:"2.0.5+",strip:function(a){if(a){a=a.replace(g,"");var b=a.match(h);b&&(a=b[1])}else a="";return a},jsEscape:function(a){return a.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:n.createXhr||function(){var a,b,c;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(b=0;3>b;b+=1){c=f[b];try{a=new ActiveXObject(c)}catch(d){}if(a){f=[c];break}}return a},parseName:function(a){var b,c,d,e=!1,f=a.indexOf("."),g=0===a.indexOf("./")||0===a.indexOf("../");return-1!==f&&(!g||f>1)?(b=a.substring(0,f),c=a.substring(f+1,a.length)):b=a,d=c||b,f=d.indexOf("!"),-1!==f&&(e="strip"===d.substring(f+1),d=d.substring(0,f),c?c=d:b=d),{moduleName:b,ext:c,strip:e}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(a,c,d,e){var f,g,h,i=b.xdRegExp.exec(a);return i?(f=i[2],g=i[3],g=g.split(":"),h=g[1],g=g[0],!(f&&f!==c||g&&g.toLowerCase()!==d.toLowerCase()||(h||g)&&h!==e)):!0},finishLoad:function(a,c,d,e){d=c?b.strip(d):d,n.isBuild&&(m[a]=d),e(d)},load:function(a,c,d,e){if(e.isBuild&&!e.inlineText)return void d();n.isBuild=e.isBuild;var f=b.parseName(a),g=f.moduleName+(f.ext?"."+f.ext:""),h=c.toUrl(g),m=n.useXhr||b.useXhr;!i||m(h,j,k,l)?b.get(h,function(c){b.finishLoad(a,f.strip,c,d)},function(a){d.error&&d.error(a)}):c([g],function(a){b.finishLoad(f.moduleName+"."+f.ext,f.strip,a,d)})},write:function(a,c,d){if(m.hasOwnProperty(c)){var e=b.jsEscape(m[c]);d.asModule(a+"!"+c,"define(function () { return '"+e+"';});\n")}},writeFile:function(a,c,d,e,f){var g=b.parseName(c),h=g.ext?"."+g.ext:"",i=g.moduleName+h,j=d.toUrl(g.moduleName+h)+".js";b.load(i,d,function(){var c=function(a){return e(j,a)};c.asModule=function(a,b){return e.asModule(a,j,b)},b.write(a,i,c,f)},f)}},"node"===n.env||!n.env&&"undefined"!=typeof process&&process.versions&&process.versions.node?(c=require.nodeRequire("fs"),b.get=function(a,b){var d=c.readFileSync(a,"utf8");0===d.indexOf("")&&(d=d.substring(1)),b(d)}):"xhr"===n.env||!n.env&&b.createXhr()?b.get=function(a,c,d,e){var f,g=b.createXhr();if(g.open("GET",a,!0),e)for(f in e)e.hasOwnProperty(f)&&g.setRequestHeader(f.toLowerCase(),e[f]);n.onXhr&&n.onXhr(g,a),g.onreadystatechange=function(){var b,e;4===g.readyState&&(b=g.status,b>399&&600>b?(e=new Error(a+" HTTP status: "+b),e.xhr=g,d(e)):c(g.responseText))},g.send(null)}:"rhino"===n.env||!n.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?b.get=function(a,b){var c,d,e="utf-8",f=new java.io.File(a),g=java.lang.System.getProperty("line.separator"),h=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(f),e)),i="";try{for(c=new java.lang.StringBuffer,d=h.readLine(),d&&d.length()&&65279===d.charAt(0)&&(d=d.substring(1)),c.append(d);null!==(d=h.readLine());)c.append(g),c.append(d);i=String(c.toString())}finally{h.close()}b(i)}:("xpconnect"===n.env||!n.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(d=Components.classes,e=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),b.get=function(a,b){var c,f,g={},h=new FileUtils.File(a);try{c=d["@mozilla.org/network/file-input-stream;1"].createInstance(e.nsIFileInputStream),c.init(h,1,0,!1),f=d["@mozilla.org/intl/converter-input-stream;1"].createInstance(e.nsIConverterInputStream),f.init(c,"utf-8",c.available(),e.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),f.readString(c.available(),g),f.close(),c.close(),b(g.value)}catch(i){throw new Error((h&&h.path||"")+": "+i)}}),b}),function(){function loadScript(a,b){var c=document.createElement("script");c.type="text/javascript",c.async=!0,c.onload=b,c.src=a,document.body.appendChild(c)}function mutileLoad(a,b){function c(){e++,e>=d&&b()}var d=a.length,e=0;if(!d)return void c();for(var f=0;d>f;f++){var g=a[f];loadScript(g,c)}}function initLizardConfig(){for(var scripts=document.getElementsByTagName("script")||[],reg=/hih5\.core\.(src\.)*js.*$/gi,i=0;i<scripts.length;i++){var src=scripts[i].getAttribute("src");if(src&&reg.test(src)){Lizard.dir=src.replace(reg,"");var configStr=scripts[i].getAttribute("pdConfig")||"";if(Lizard.pdConfig=JSON.parse('["'+configStr.split(",").join('","')+'"]'),scripts[i].getAttribute("lizardConfig"))try{eval("Lizard.config = {"+scripts[i].getAttribute("lizardConfig")+"}")}catch(e){0}else Lizard.config={};break}}}function amdLoaderLoaded(){var a=Lizard.notpackaged?[Lizard.dir+"config.js"]:["config"];require(a,function(){var a=[];Lizard.isHybrid?a.push("cHybridAppInit"):Lizard.isInCtripApp?(a.push("cHybridAppInit")):a.push("cWebAppInit"),Lizard.notpackaged||((Lizard.isHybrid||Lizard.isInCtripApp)&&a.push("cBaseInit"),define("_",function(){}),define("$",function(){}),define("B",function(){}),define("F",function(){})),require(["_","$"],function(){var b=["appBaseUrl","webresourceBaseUrl","restfullApi","restfullApiHttps","WebresourcePDBaseUrl"];_.each($("meta"),function(a){var c=$(a);(c.attr("lizardExpansion")||_.contains(b,c.attr("name")))&&(Lizard[c.attr("name")]=c.attr("content"))}),require(a,function(){_.isFunction(arguments[arguments.length-1])&&arguments[arguments.length-1]()})})})}function loadRes(){var a=[];Lizard.notpackaged?a=[Lizard.dir+"3rdlibs/require.min.js"]:(Lizard.isHybrid||Lizard.isInCtripApp||a.push(Lizard.dir+"hih5.web.js"),Lizard.isHybrid&&a.push("../ubt/_mubt.min.js")),Lizard.isHybrid||Lizard.isInCtripApp?Lizard.mutileLoad=function(){mutileLoad(a,amdLoaderLoaded)}:mutileLoad(a,amdLoaderLoaded)}Lizard="undefined"!=typeof Lizard?Lizard:{version:"2.1",isHybrid:!!window.LizardLocalroute,isInCtripApp:!(!navigator.userAgent.match(/ctripwireless/i)||"file:"==window.location.protocol),viewReady:function(){},notpackaged:"undefined"==typeof require},initLizardConfig(),loadRes(),window.Lizard=Lizard;var shown=!1;window.onpageshow=function(){shown&&window.location.reload(),shown=!0},window.onunload=function(){},window.getAppUITemplatePath=function(a){return Lizard.notpackaged&&(document.location.href.indexOf("172.16.140.104:5389")>0||document.location.href.indexOf("localhost")>0)?"text!"+Lizard.dir+"ui/"+a+".html":"text!ui/"+a+".html"}}(),define("config",[],function(){var a=Lizard.dir+"3rdlibs/zepto",b=window.navigator.userAgent.indexOf("IEMobile")>-1;b&&(version=window.navigator.userAgent.match(/IEMobile\/\d+/),version.length>0&&(version=version[0].split("/"),version=version[1])),(!("__proto__"in{})||b&&10>version)&&(a=Lizard.dir+"3rdlibs/jquery"),require.config({shim:{$:{exports:"zepto"},_:{exports:"_"},B:{deps:["_","$"],exports:"Backbone"},F:{deps:["$"],exports:"Fastclick"},libs:{deps:["_","$","B"],exports:"libs"},common:{deps:["libs"]},cAjax:{exports:"cAjax"},UIView:{deps:["B"],exports:"UIView"},cServiceGuider:{deps:["_"],exports:"cServiceGuider"}},paths:{json2:Lizard.dir+"3rdlibs/json2",bridge:Lizard.dir+"3rdlibs/bridge",R:Lizard.dir+"3rdlibs/require",$:a,_:Lizard.dir+"3rdlibs/underscore",B:Lizard.dir+"3rdlibs/backbone",F:Lizard.dir+"3rdlibs/fastclick",libs:Lizard.dir+"3rdlibs/libs",text:Lizard.dir+"3rdlibs/require.text",cCoreInherit:Lizard.dir+"common/c.class.inherit",cBusinessCommon:Lizard.dir+"app/c.app.interface",cMessageCenter:Lizard.dir+"common/c.message.center",cAjax:Lizard.dir+"common/c.ajax",cImgLazyload:Lizard.dir+"common/c.img.lazyload",cUtil:Lizard.dir+"util/c.util",cUtilCacheView:Lizard.dir+"util/c.util.cacheview",cUtilCommon:Lizard.dir+"util/c.util.common",cUtilDate:Lizard.dir+"util/c.util.date",cUtilHybrid:Lizard.dir+"util/c.util.hybrid",cUtilObject:Lizard.dir+"util/c.util.object",cUtilPath:Lizard.dir+"util/c.util.path",cUtilPerformance:Lizard.dir+"util/c.util.performance",cUtilValidate:Lizard.dir+"util/c.util.validate",cUtilCryptBase64:Lizard.dir+"util/crypt/c.crypt.base64",cUtilCryptRSA:Lizard.dir+"util/crypt/c.crypt.rsa",cPageParser:Lizard.dir+"app/c.page.parser",cParserUtil:Lizard.dir+"app/c.parser.util",cPageModelProcessor:Lizard.dir+"app/c.page.model.processor",cPageView:Lizard.dir+"page/c.page.view",cPageList:Lizard.dir+"page/c.page.list",cAbstractModel:Lizard.dir+"data/model/c.abstract.model",cModel:Lizard.dir+"data/model/c.model",cUserModel:Lizard.dir+"data/model/c.user.model",cAbstractStore:Lizard.dir+"data/store/c.abstract.store",cLocalStore:Lizard.dir+"data/store/c.local.store",cSessionStore:Lizard.dir+"data/store/c.session.store",cMemoryStore:Lizard.dir+"data/store/c.memory.store",cCommonStore:Lizard.dir+"data/store/c.common.store",cHeadStore:Lizard.dir+"data/store/common/c.head.store",cUserStore:Lizard.dir+"data/store/common/c.user.store",cMarketStore:Lizard.dir+"data/store/common/c.market.store",cAbstractStorage:Lizard.dir+"data/storage/c.abstract.storage",cLocalStorage:Lizard.dir+"data/storage/c.local.storage",cSessionStorage:Lizard.dir+"data/storage/c.session.storage",cMemoryStorage:Lizard.dir+"data/storage/c.memory.storage",cUIInputClear:Lizard.dir+"ui/c.ui.input.clear",cUIBase:Lizard.dir+"ui/c.ui.base",UIView:Lizard.dir+"ui/ui.abstract.view",UILayer:Lizard.dir+"ui/ui.layer",UIAlert:Lizard.dir+"ui/ui.alert",UIMask:Lizard.dir+"ui/ui.mask",UILoadingLayer:Lizard.dir+"ui/ui.loading.layer",UIToast:Lizard.dir+"ui/ui.toast",UIInlineView:Lizard.dir+"ui/ui.inline.view",UINum:Lizard.dir+"ui/ui.num",UISwitch:Lizard.dir+"ui/ui.switch",UIBubbleLayer:Lizard.dir+"ui/ui.bubble.layer",UITab:Lizard.dir+"ui/ui.tab",UIScroll:Lizard.dir+"ui/ui.scroll",UIScrollLayer:Lizard.dir+"ui/ui.scroll.layer",UIRadioList:Lizard.dir+"ui/ui.radio.list",UISelect:Lizard.dir+"ui/ui.select",UIGroupSelect:Lizard.dir+"ui/ui.group.select",UIGroupList:Lizard.dir+"ui/ui.group.list",UICalendar:Lizard.dir+"ui/ui.calendar",UISlider:Lizard.dir+"ui/ui.slider",UIImageSlider:Lizard.dir+"ui/ui.image.slider",UIWarning404:Lizard.dir+"ui/ui.warning404",UIHeader:Lizard.dir+"ui/ui.header",UIIdentitycard:Lizard.dir+"ui/ui.identitycard",UILayerList:Lizard.dir+"ui/ui.layer.list",UIAnimation:Lizard.dir+"ui/c.ui.animation",cGeoService:Lizard.dir+"service/c.service.geo",cMemberService:Lizard.dir+"service/c.service.member",cGuiderService:Lizard.dir+"service/c.service.guider",cHybridMember:Lizard.dir+"service/hybrid/c.hybrid.memberService",cHybridGuider:Lizard.dir+"service/hybrid/c.hybrid.guider",cHybridGeolocation:Lizard.dir+"service/hybrid/c.hybrid.geolocation",cGeoHelper:Lizard.dir+"service/web/c.geo.helper",cWebMember:Lizard.dir+"service/web/c.web.memberService",cWebGuider:Lizard.dir+"service/web/c.web.guider",cWebGeolocation:Lizard.dir+"service/web/c.web.geolocation",cBaseInit:Lizard.dir+"app/c.base.init",cAbstractApp:Lizard.dir+"app/c.abstract.app",cWebApp:Lizard.dir+"app/web/c.web.app",cHybridApp:Lizard.dir+"app/hybrid/c.hybrid.app",cWebViewApp:Lizard.dir+"app/hybrid/c.webview.app",cHybridFacade:Lizard.dir+"app/hybrid/c.hybrid.facade",cHybridShell:Lizard.dir+"app/hybrid/c.hybrid.shell",cHybridHeader:Lizard.dir+"app/hybrid/c.hybrid.header",cHybridAppInit:Lizard.dir+"app/hybrid/c.hybrid.init",cWebAppInit:Lizard.dir+"app/web/c.web.init"},map:{"*":{cUtility:"cUtilCommon",cStore:"cLocalStore",cGuider:"cGuiderService",CommonStore:"cCommonStore"}}})}),define("cCoreInherit",["libs"],function(){var a=[].slice,b=function(){};return b.Class=function(){function b(){this.__propertys__(),this.initialize.apply(this,arguments)}if(0==arguments.length||arguments.length>2)throw"";var c=null,d=a.call(arguments);"function"==typeof d[0]&&(c=d.shift()),d=d[0],b.superclass=c,b.subclasses=[];var e=function(){},f=d.__propertys__||function(){};if(c){c.prototype.__propertys__&&(e=c.prototype.__propertys__);var g=function(){};g.prototype=c.prototype,b.prototype=new g,c.subclasses.push(b)}var h=b.superclass&&b.superclass.prototype;for(var i in d){var j=d[i];if(h&&"function"==typeof j){var k=/^\s*function\s*\(([^\(\)]*?)\)\s*?\{/i.exec(j.toString())[1].replace(/\s/i,"").split(",");"$super"===k[0]&&h[i]&&(j=function(b,c){return function(){var d=this,e=[function(){return h[b].apply(d,arguments)}];return c.apply(this,e.concat(a.call(arguments)))}}(i,j))}b.prototype[i]=j}b.prototype.initialize||(b.prototype.initialize=function(){}),b.prototype.__propertys__=function(){e.call(this),f.call(this)};for(key in c)c.hasOwnProperty(key)&&"prototype"!==key&&"superclass"!==key&&(b[key]=c[key]);return b.prototype.constructor=b,b},b.extend=function(){var b=a.call(arguments),c=b.shift()||{};if(!c)return!1;for(var d=0,e=b.length;e>d;d++)if("object"==typeof b[d])for(var f in b[d])c[f]=b[d][f];return c},b.implement=function(a,b){if("function"!=typeof a)return!1;for(var c in b)a.prototype[c]=b[c];return a},b}),define("cGuiderService",[Lizard.isHybrid||Lizard.isInCtripApp?"cHybridGuider":"cWebGuider"],function(a){var b=["jump","apply","call","init","log","print","callService","backToLastPage","checkUpdate","recommend","addWeixinFriend","showNewestIntroduction","register","create","home","jumpHotel","checkAppInstall","callPhone","cross","refreshNative","copyToClipboard","readFromClipboard","shareToVendor","downloadData","encode","chooseContactFromAddressbook","hideLoadingPage","showLoadingPage","choose_invoice_title","get_device_info","show_voice_search","choose_photo","finished_register","app_call_system_share","app_check_network_status","app_check_android_package_info","app_log_google_remarkting","app_read_verification_code_from_sms","app_h5_page_finish_loading","registerAppearEvent","unregisterAppearEvent","save_photo",{file:["isFileExist","deleteFile","getCurrentSandboxName","getFileSize","makeDir","readTextFromFile","writeTextToFile"]},{pipe:["socketRequest","httpRequest","abortRequest","abortSocketRequest"]},{pay:["checkStatus","payOut","callPay"]},{encrypt:["ctrip_encrypt","ctrip_decrypt"]}],c={},d=function(){return!1};return _.each(b,function(a){if(_.isString(a))c[a]=d;else if(_.isObject(a)){var b=_.keys(a);_.each(b,function(b){c[b]={},_.each(a[b],function(a){c[b][a]=d})})}}),_.extend(c,a),c}),define("cMessageCenter",[],function(){var a={},b={publish:function(b,c){a[b]&&_.each(a[b],function(a){a.handler.apply(a.scope?a.scope:window,c)})},subscribe:function(b,c,d){a[b]||(a[b]=[]),a[b].push({scope:d,handler:c})},unsubscribe:function(b,c){a[b]&&(c?a[b]=_.reject(a[b],function(a){return a.handler!=c}):delete a[b])}};return b}),define("cUtilDate",["cCoreInherit"],function(a){var b=new a.Class({initialize:function(a){a=a||new Date,this.date=new Date(a)},addDay:function(a){return a=a||0,this.date.setDate(this.date.getDate()+a),this},addMonth:function(a){return a=a||0,this.date.setMonth(this.date.getMonth()+a),this},addHours:function(a){return a=a||0,this.date.setHours(this.date.getHours()+a),this},addMinutes:function(a){return a=a||0,this.date.setMinutes(this.date.getMinutes()+a),this},addSeconds:function(a){return a=a||0,this.date.setSeconds(this.date.getSeconds()+a),this},addYear:function(a){return a=a||0,this.date.setYear(this.date.getFullYear()+a),this},setHours:function(){return this.date.setHours.apply(this.date,arguments),this},valueOf:function(){return this.date},getTime:function(){return this.date.valueOf()},toString:function(){return this.date.toString()},format:function(a){"string"!=typeof a&&(a="");for(var b in this._MAPS)a=this._MAPS[b].call(this,a,this.date,b);return a},diffMonth:function(a){var c=parseInt(this.format("Y"),10),d=parseInt(this.format("m"),10),e=new b(a),f=parseInt(e.format("Y"),10),g=parseInt(e.format("m"),10);return 12*(f-c)+(g-d)},_DAY1:["","","","","","",""],_DAY2:["","","","","","",""],_MAPS:{d:function(a,b,c){var d=b.getDate().toString();return d.length<2&&(d="0"+d),a.replace(new RegExp(c,"mg"),d)},j:function(a,b,c){return a.replace(new RegExp(c,"mg"),b.getDate())},N:function(a,b,c){var d=b.getDay();return 0===d&&(d=7),a.replace(new RegExp(c,"mg"),d)},w:function(a,b,c){var d=b.getDay(),e=this._DAY1[d];return a.replace(new RegExp(c,"mg"),e)},W:function(a,b,c){var d=b.getDay(),e=this._DAY2[d];return a.replace(new RegExp(c,"mg"),e)},m:function(a,b,c){var d=(b.getMonth()+1).toString();return d.length<2&&(d="0"+d),a.replace(new RegExp(c,"mg"),d)},n:function(a,b,c){return a.replace(c,b.getMonth()+1)},Y:function(a,b,c){return a.replace(new RegExp(c,"mg"),b.getFullYear())},y:function(a,b,c){return a.replace(new RegExp(c,"mg"),b.getYear())},g:function(a,b,c){var d=b.getHours();return d>=12&&(d-=12),a.replace(new RegExp(c,"mg"),d)},G:function(a,b,c){return a.replace(new RegExp(c,"mg"),b.getHours())},h:function(a,b,c){var d=b.getHours();return d>=12&&(d-=12),d+="",d.length<2&&(d="0"+d),a.replace(new RegExp(c,"mg"),d)},H:function(a,b,c){var d=b.getHours().toString();return d.length<2&&(d="0"+d),a.replace(new RegExp(c,"mg"),d)},i:function(a,b,c){var d=b.getMinutes().toString();return d.length<2&&(d="0"+d),a.replace(new RegExp(c,"mg"),d)},s:function(a,b,c){var d=b.getSeconds().toString();return d.length<2&&(d="0"+d),a.replace(new RegExp(c,"mg"),d)},I:function(a,b,c){var d=b.getMinutes().toString();return a.replace(new RegExp(c,"mg"),d)},S:function(a,b,c){var d=b.getSeconds().toString();return a.replace(new RegExp(c,"mg"),d)},D:function(a,c,d){var e=b.getServerDate();e.setHours(0,0,0,0),c=new Date(c.valueOf()),c.setHours(0,0,0,0);var f=864e5,g="",h=c-e;return h>=0&&(f>h?g="":2*f>h?g="":3*f>h&&(g="")),a.replace(new RegExp(d,"mg"),g)}}});return a.extend(b,{parse:function(a,c){if("undefined"==typeof a)return new Date;if("string"==typeof a){a=a||"";var d=/^(\d{4})\-?(\d{1,2})\-?(\d{1,2})/i;a.match(d)&&(a=a.replace(d,"$2/$3/$1"));var e=Date.parse(a),f=new Date(e||new Date);return c?f:new b(f)}return"number"==typeof a?new Date(a):new Date},getHM:function(a){var b=this._getDate(a),c=b.getHours(),d=b.getMinutes();return(10>c?"0"+c:""+c)+":"+(10>d?"0"+d:""+d)},getIntervalDay:function(a,b){var c=this._getDate(a),d=this._getDate(b);return c.setHours(0,0,0,0),d.setHours(0,0,0,0),parseInt((d-c)/864e5)},m2H:function(a){var b=Math.floor(a/60),c=a%60;return(b>0?b+"":"")+(c>0?c+"":"")},_getDate:function(a){var c=b.parse(a,!0),d=new Date;return d.setTime(c),d},format:function(a,c){return new b(a).format(c)},weekday:function(a){var b=["","","","","","",""],c=new Date(a);return b[c.getDay()]},diffMonth:function(a,c){return a=new b(a),a.diffMonth(c)},getServerDate:function(a){var b=new Date,c=function(b){return"function"==typeof a?a(b):b},d=function(){var a=window.localStorage.getItem("SERVERDATE");if(!a)return c(b);try{if(a=JSON.parse(a),a&&a.server&&a.local){var d=window.parseInt(a.server),e=window.parseInt(a.local),f=(new Date).getTime(),g=new Date(d+f-e);return c(g)}return c(b)}catch(h){return c(b)}},e=function(){if("undefined"==typeof __SERVERDATE__||!__SERVERDATE__.server)return c(b);var a=new Date(__SERVERDATE__.server.valueOf()+((new Date).valueOf()-__SERVERDATE__.local.valueOf()));return c(a)};return Lizard.isHybrid?d():e()}}),b}),define("cAbstractStorage",["cUtilDate","cCoreInherit"],function(a,b){"use strict";var c=window.JSON,d=new b.Class({__propertys__:function(){this.proxy=null,this.overdueClearKey="C_ClEAR_OVERDUE_CATCH"},initialize:function(){},removeOverdueCathch:function(){var b=(new a).getTime(),c=this.proxy.getItem(this.overdueClearKey),d=[],e=[];if(c){d=JSON.parse(c);for(var f,g=0;g<d.length;g++)f=d[g],new Date(f.timeout).getTime()<=b?this.proxy.removeItem(f.key):e.push(f);this.proxy.setItem(this.overdueClearKey,JSON.stringify(e))}},_removeOdCLately:function(a){a=a||5;var b=this.proxy.getItem(this.overdueClearKey),c=[];if(b){c=JSON.parse(b),c.sort(function(a,b){var c=new Date(a.timeout).getTime(),d=new Date(b.timeout).getTime();return c-d});for(var d=c.splice(0,a)||[],e=0;e<d.length;e++)this.proxy.removeItem(d[e].key);this.proxy.removeItem(this.overdueClearKey),c.length>0&&this.proxy.setItem(this.overdueClearKey,JSON.stringify(c))}},_setOverdueCathch:function(b,c){if(b&&c&&!(a.parse(c,!0)<new Date)){var d={},e=[],f=this.proxy.getItem(this.overdueClearKey);d.key=b,d.timeout=c,f&&(e=JSON.parse(f));for(var g,h=!1,i=0;i<e.length;i++)g=e[i],g.key==b&&(e[i]=d,h=!0);h||e.push(d),this.proxy.setItem(this.overdueClearKey,JSON.stringify(e))}},_buildStorageObj:function(a,b,c,d,e){var f={value:a,timeout:b,tag:c,savedate:d};return e&&(f.oldvalue=e),f},set:function(b,d,e,f,g,h){g=g||(new a).format("Y/m/d H:i:s"),e=e?new a(e):(new a).addDay(30);var i=e.format("Y/m/d H:i:s");this._setOverdueCathch(b,i);var j=this._buildStorageObj(d,i,f,g,h);try{return this.proxy.setItem(b,c.stringify(j)),!0}catch(k){"QuotaExceededError"==k.name&&(this._removeOdCLately(),this.set(b,d,e,f,g,h)),console&&0}return!1},get:function(b,d,e){var f,g=null;try{f=this.proxy.getItem(b),f&&(f=c.parse(f),a.parse(f.timeout,!0)>=new Date&&(d?d===f.tag&&(g=e?f.oldvalue:f.value):g=e?f.oldvalue:f.value))}catch(h){console&&0}return g},getTag:function(a){var b,d=null;try{b=this.proxy.getItem(a),b&&(b=c.parse(b),d=b&&b.tag)}catch(e){console&&0}return d},getSaveDate:function(b,d){var e,f=null;try{e=this.proxy.getItem(b),e&&(e=c.parse(e),e.savedate&&(f=a.parse(e.savedate),d||(f=f.valueOf())))}catch(g){console&&0}return f},getExpireTime:function(a){var b=null,d=null;try{b=this.proxy.getItem(a),b&&(b=c.parse(b),d=Date.parse(b.timeout))}catch(e){console&&0}return d},remove:function(a){return this.proxy.removeItem(a)},getAll:function(){for(var a=this.proxy.length,b=[],c=0;a>c;c++){var d=this.proxy.key(c),e={key:d,value:this.get(d)};b.push(e)}return b},clear:function(){this.proxy.clear()},gc:function(){for(var a=this.proxy,b=this.proxy.length,c=0;b>c;c++){var d=a.key(c);if("GUID"==d)break;try{this.get(d)||this.remove(d)}catch(e){}}}});return d}),define("cLocalStorage",["cCoreInherit","cUtilDate","cAbstractStorage"],function(a,b,c){var d=new a.Class(c,{__propertys__:function(){},initialize:function($super,a){this.proxy=window.localStorage,$super(a)},oldGet:function(a){var c=localStorage.getItem(a),d=c?JSON.parse(c):null;if(d&&d.timeout){var e=new Date,f=b.parse(d.timeout).valueOf();if(d.timeby){if(f-e>=0)return d}else if(f-b.parse(b.format(e,"Y-m-d")).valueOf()>=0)return d;return localStorage.removeItem(a),null}return d},oldSet:function(a,b){localStorage.setItem(a,b)},getExpireTime:function(a){var c=localStorage.getItem(a),d=c?JSON.parse(c):null;return d&&d.timeout?d.timeout:new b(b.getServerDate()).addDay(2).format("Y-m-d")},oldRemove:function(a){localStorage.removeItem(a)}});return d.getInstance=function(){return this.instance?this.instance:this.instance=new this},d.localStorage=d.getInstance(),d}),define("cBusinessCommon",["cGuiderService","cMessageCenter","cLocalStorage"],function(a,b,c){return function(){Lizard.saveAppUrl=function(a){var b=$("#app_url"),c=!1;if(a&&a.getAppUrl&&"function"==typeof a.getAppUrl){var d=a.getAppUrl();d&&_.isString(d)&&(c=!0,b.length?b.val(d):$('<INPUT type="hidden" id="app_url" value="'+d+'"/>').appendTo($("body")))}c||b.length>0&&b.val("")},b.subscribe("viewReady",function(b){if("undefined"!=typeof _gaq&&_gaq.push(["_trackPageview",window.location.href]),Lizard.isHybrid){if(!b||!b._getViewUrl)return;var g=b._getViewUrl();a.app_log_google_remarkting(g)}else f();Lizard.saveAppUrl(b),d(),e();try{c.getInstance().removeOverdueCathch()}catch(h){console&&0}});var d=function(){var a=Lizard.P("orderID"),b=Lizard.P("type")||Lizard.P("busType")||"",c=Lizard.P("val")||Lizard.P("price")||"";if(a){var d="https://2113.xg4ken.com/media/redir.php?track=1&token=8515ce29-9946-4d41-9edc-2907d0a92490&promoCode=&valueCurrency=CNY&GCID=&kw=&product=";d+="&val="+c+"&orderId="+a+"&type="+b;var e="<img style='position: absolute;' width='1' height='1' src='"+d+"'/>";$("body").append(e)}},e=function(){var a=Lizard.P("orderID"),b=Lizard.P("type")||Lizard.P("busType")||"",c=Lizard.P("val")||Lizard.P("price")||"";if(a){var d="https://tracker.marinsm.com/tp?act=2&cid=6484iki26001&script=no";d+="&price="+c+"&orderid="+a+"&convtype="+b;var e="<img style='position: absolute;' width='1' height='1' src='"+d+"'/>";$("body").append(e)}},f=function(){"undefined"!=typeof ga&&ga("send","pageview",location.href)}}}),define("cUtilPerformance",[],function(){function a(){this.performance={},this.isapp=Lizard.isHybrid?"1":"0",this.defaults={Domready:{name:"JS.Lizard.Domready",tags:{}},Onload:{name:"JS.Lizard.Onload",tags:{}},AjaxReady:{name:"JS.Lizard.AjaxReady",tags:{url:""}},AjaxMessageSize:{name:"JS.Lizard.AjaxMessageSize",tags:{url:""}},TemplateRender:{name:"JS.Lizard.TemplateRender",tags:{url:""}},GeoRequest:{name:"JS.Lizard.GeoRequest",tags:{url:"",errno:"0"}}},this.uuid=0}return window.__bfi||(window.__bfi=[]),a.prototype={send:function(a,b,c,d){var e=["_trackMatrix",a,b,c,d];("JS.Lizard.GeoRequest"!=a||"string"==typeof b.url&&b.url.match(/^(Native|Web) function (number|detail|error)$/))&&window.__bfi.push(e)},getTime:function(){return(new Date).getTime()},initOptions:function(a){a.version=Lizard.version,a.isapp=this.isapp,a.network=Lizard.networkType||"unknown"},log:function(a,b){a.url&&_.isString(a.url)&&(a.url=a.url.replace(new RegExp((+new Date+"").slice(0,8)+"\\d{5}"),"__TIME__"));var c=this.defaults[a.name],d={};this.initOptions(d);for(var e in c.tags)d[e]=(a[e]||c.tags[e])+"";"AjaxMessageSize"!=a.name&&(d.distribution=this.distribution(b)),this.send(c.name,d,b,this.getTime())},group:function(a,b){b.startTime=this.getTime(),this.performance[a]=b},groupTag:function(a,b,c){var d=this.performance[a];return d||(this.performance[a]=d={}),3==arguments.length&&(d[b]=c),d[b]},groupEnd:function(a){var b=this.performance[a]||{};this.log(b,this.getTime()-b.startTime)},getUuid:function(){return"Performance_"+ ++this.uuid},distribution:function(a){var b="";return a>=0&500>=a?b="[0,500]":a>=501&1e3>=a?b="[501,1000]":a>=1001&2e3>=a?b="[1001,2000]":a>=2001&3e3>=a?b="[2001,3000]":a>=3001&4e3>=a?b="[3001,4000]":a>=4001&&(b="[4001,--]"),b+"(ms)"}},new a}),define("cAjax",["libs","cUtilPerformance"],function(a,b){var c={json:"application/json",jsonp:"application/json"},d=function(a){return a&&(a=c[a]?c[a]:a),a},e=function(a){function c(a,b,c,d){var e=j(a,b,c,d);return e.type="GET",i(e)}function e(a,b,c,e){var f=b.contentType;b=JSON.stringify(b);var g=j(a,b,c,e);return g.type="POST",g.dataType="json",g.timeout=3e4,g.contentType=d(f)||"application/json",i(g)}function f(a,b,c,d){var e=j(a,b,c,d);return e.type="GET",e.dataType="jsonp",e.crossDomain=!0,i(e)}function g(a,b,c,e,f){var g=c.contentType;"get"!==b.toLowerCase()&&(c=JSON.stringify(c));var h=j(a,c,e,f);return h.type=b,h.dataType="json",h.crossDomain=!0,h.data=c,h.contentType=d(g)||"application/json",i(h)}function h(b,c,d,e){var f=null,g="";f=a("string"==typeof c?"#"+c:c),f&&f.length>0&&(g=f.serialize());var h=j(b,g,d,e);return i(h)}function i(c){var d=b.getUuid();b.group(d,{name:"AjaxReady",url:c.url,data:c.data});var e=0,f={url:c.url,type:c.type,dataType:c.dataType,data:c.data,contentType:c.contentType,timeout:c.timeout||5e4,beforeSend:function(a){a.onprogress=function(a){e=a.loaded?a.loaded:a.position}},success:function(a){b.log({name:"AjaxMessageSize",url:c.url},e),b.groupEnd(d),c.callback(a)},error:function(a){b.groupEnd(d),c.error&&c.error(a)}};return-1===c.url.indexOf(window.location.host)&&(f.crossDomain=!!c.crossDomain),a.ajax(f)}function j(a,b,c,d){return{url:a,data:b,callback:c,error:d}}return{get:c,post:e,jsonp:f,cros:g,form:h}}($);return e}),define("cImgLazyload",["libs"],function(){"use strict";var a=_.inherit({__propertys__:function(){this.isError=!1,this.uuid=_.uniqueId()+(new Date).getTime()},initialize:function(a){this.handleOpts(a),this.init()},checkWrapperDisplay:function(){this.isError||(this.TIMERRES&&clearInterval(this.TIMERRES),0==$(this.imgs[0]).offset().top&&(this.isError=!0,this.TIMERRES=setInterval($.proxy(function(){0,$(this.imgs[0]).offset().top>0&&(this.TIMERRES&&clearInterval(this.TIMERRES),0,this.isError=!1,this.refresh())},this),100)))},handleOpts:function(a){return this.isError=!1,a&&a.imgs&&a.imgs.length?(this.imgs=a.imgs,this.container=a.container||$(window),this.width=a.width,this.height=a.height,this.loadingImg=a.loadingImg||"http://pic.c-ctrip.com/vacation_v2/h5/group_travel/no_product_pic.png",this.loadingBg=a.loadingBg||"#ebebeb",this.needWrapper=!1,(this.width||this.height)&&(this.needWrapper=!0),this.wrapper=a.wrapper||'<div class="cui_lazyload_wrapper" style="text-align: center; vertical-align: middle; "></div>',void(this.imgContainer={})):void(this.isError=!0)},init:function(){this.isError||(this.initImgContainer(),this.lazyLoad(),this.bindEvents())},refresh:function(a){a&&this.handleOpts(a),this.init()},bindEvents:function(){this.isError||(this.destroy(),this.container.on("scroll.imglazyload"+this.uuid,$.proxy(function(){this.lazyLoad()},this)),$(window).on("resize.imglazyload"+this.uuid,$.proxy(function(){this.initImgContainer()},this)))},initImgContainer:function(){if(!this.isError){var a,b,c,d;for(b=0,c=this.imgs.length;c>b;b++)a=$(this.imgs[b]),a.attr("data-src")&&""!=a.attr("data-src")&&"1"!=a.attr("data-load")&&(d=a.offset(),this.imgContainer[d.top]||(this.imgContainer[d.top]=[]),this.imgContainer[d.top].push(a))}},_handleImg:function(a){var b,c;a.attr("data-src")&&""!=a.attr("data-src")&&(this.needWrapper&&(c=$(this.wrapper),c.css({width:this.width+"px",height:this.height+"px","background-color":this.loadingBg}),c.insertBefore(a),c.append(a)),b=$(new Image),a.attr("src")||a.attr("src",this.loadingImg),b.on("error",function(){a.attr("src",this.loadingImg)}).on("load",function(){a.attr("src",a.attr("data-src")),a.attr("data-load","1"),setTimeout(function(){c&&c[0]&&(a.insertBefore(c),c.remove())},1)}).attr("src",a.attr("data-src")))},lazyLoad:function(){if(!this.isError){var a,b,c,d,e,f=this.container.height(),g=this.container.scrollTop();for(a in this.imgContainer)if(parseInt(a)<g+f){for(b=this.imgContainer[a],d=0,e=b.length;e>d;d++)c=$(b[d]),this._handleImg(c);delete this.imgContainer[a]}}},destroy:function(){this.isError||(this.TIMERRES&&clearInterval(this.TIMERRES),this.container.off(".imglazyload"+this.uuid),$(window).off(".imglazyload"+this.uuid))
}});return a}),define("cUtilObject",[],function(){var a={};return a.set=function(a,b,c){if(!b)return null;var d=b.split(".");a=a||{};for(var e=0,f=d.length,g=Math.max(f-1,0);f>e;e++)g>e?a=a[d[e]]=a[d[e]]||{}:a[d[e]]=c;return a},a.get=function(a,b){if(!a||!b)return null;var c=b.split(".");a=a||{};var d=0,e=c.length;for(Math.max(e-1,0);e>d;d++)if(a=a[c[d]],null===a||"undefined"==typeof a)return null;return a},a}),define("cAbstractStore",["cCoreInherit","cUtilDate","cUtilObject"],function(a,b,c){HObject=c;var d=new a.Class({__propertys__:function(){this.NULL={},this.key=this.NULL,this.lifeTime="30M",this.useServerTime=!1,this.defaultData=null,this.sProxy=this.NULL,this.userData=!1,this.rollbackEnabled=!1},initialize:function(a){for(var b in a)this[b]=a[b];this.assert()},assert:function(){if(this.key===this.NULL)throw"not override key property"},set:function(a,b,c){var d=this._getNowTime();d.addSeconds(this._getLifeTime()),this.rollbackEnabled&&!c&&(c=a),this.sProxy.set(this.key,a,d,b,null,c)},setAttr:function(a,b,c){if(!_.isObject(a)){c=c||this.getTag();var d=this.get(c)||{},e={};if(d){if(this.rollbackEnabled){e=this.get(c,!0);var f=HObject.get(d,a);HObject.set(e,a,f)}return HObject.set(d,a,b),this.set(d,c,e)}return!1}for(var g in a)a.hasOwnProperty(g)&&this.setAttr(g,a[g],b)},setLifeTime:function(a,c){this.lifeTime=a;var d,e=this.getTag(),f=this.get();d=c?this._getNowTime():this.sProxy.getSaveDate(this.key,!0)||this._getNowTime();var g=new b(d.valueOf()).format("Y/m/d H:i:s");d.addSeconds(this._getLifeTime()),this.sProxy.set(this.key,f,d,e,g)},get:function(b,c){var d=null,e=!0;"[object Array]"===Object.prototype.toString.call(this.defaultData)?d=this.defaultData.slice(0):this.defaultData&&(d=_.clone(this.defaultData));var f=this.sProxy.get(this.key,b,c),g=typeof f;if({string:!0,number:!0,"boolean":!0}[g])return f;if(f)if("[object Array]"==Object.prototype.toString.call(f)){d=[];for(var h=0,i=f.length;i>h;h++)d[h]=f[h]}else f&&!d&&(d={}),a.extend(d,f);for(var j in d){e=!1;break}return e?null:d},getAttr:function(a,b){var c=this.get(b),d=null;return c&&(d=HObject.get(c,a)),d},getTag:function(){return this.sProxy.getTag(this.key)},remove:function(){this.sProxy.remove(this.key)},removeAttr:function(a){var b=this.get()||{};b[a]&&delete b[a],this.set(b)},getExpireTime:function(){var a=null;try{a=this.sProxy.getExpireTime(this.key)}catch(b){console&&0}return a},setExpireTime:function(a){var c=this.get(),d=b.parse(a);this.sProxy.set(this.key,c,d)},_getNowTime:function(){return this.useServerTime?new b(cUtilityServertime.getServerDate()):new b},_getLifeTime:function(){var a=0,b=this.lifeTime+"",c=b.charAt(b.length-1),d=+b.substring(0,b.length-1);return c="number"==typeof c?"M":c.toUpperCase(),a="D"==c?24*d*60*60:"H"==c?60*d*60:"M"==c?60*d:"S"==c?d:60*d},rollback:function(a){if(this.rollbackEnabled){var b=this.getTag(),c=this.sProxy.get(this.key,b),d=this.sProxy.get(this.key,b,!0);if(a&&a instanceof Array)for(var e in a){var f=a[e],g=d[f];"undefined"!=typeof g&&(c[f]=g)}else c=d,d={};this.set(c,b,d)}}});return d.getInstance=function(){return this.instance?this.instance:this.instance=new this},d}),define("cLocalStore",["cCoreInherit","cAbstractStore","cLocalStorage"],function(a,b,c){var d=new a.Class(b,{__propertys__:function(){this.sProxy=c.getInstance()},initialize:function($super,a){$super(a)}});return d}),define("cUtilCommon",["cUtilDate"],function(a){var b={};return b.Date=a,b.getServerDate=a.getServerDate,b.isInApp=Lizard.isHybrid,b.isSupportPushState=function(){return Lizard.isHybrid?!1:!!(window.history&&window.history.pushState&&window.history.replaceState)}(),b.isExternalLink=function(a){var b=new RegExp(/^mailto:|^tel:|^javascript:/);return b.test(a)},b.weakUpApp=function(a){var c=document.createElement("iframe");c.height=1,c.width=1,c.frameBorder=0,c.style.position="absolute",c.style.left="-9999px",c.style.top="-9999px",document.body.appendChild(c),b.weakUpApp=function(a){c.src=a},b.weakUpApp(a)},b.createGuid=function(){function a(){return(65536*(1+Math.random())|0).toString(16).substring(1)}function b(){return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()}return b()},b.getGuid=function(){var a=window.localStorage,c=a.getItem("GUID")||"";if(!c){c=b.createGuid();try{a.setItem("GUID",c)}catch(d){}}return c},b.isAndroid=function(){return"android"==$.os.android}(),b.isIphone=function(){return"iphone"==$.os.iphone}(),b.isIpad=function(){return"ipad"==$.os.ipad}(),b.isWPhone=function(){return window.navigator.userAgent.indexOf("Windows Phone")>1}(),b.isUrl=function(a){return/^http(s)?:\/\/[A-Za-z0-9\-]+\.[A-Za-z0-9]+[\/=\?%\-&_~`@[\]\:+!]*([^<>])*$/.test(a)},b}),define("cUserStore",["cCoreInherit","cLocalStore","cLocalStorage","cUtilCommon"],function(a,b,c,d){var e=c.localStorage,f=new a.Class(b,{__propertys__:function(){this.key="USER",this.lifeTime="30D"},initialize:function($super,a){$super(a)},getUser:function(){var a=e.oldGet("USERINFO");return a=a&&a.data||null,a&&this.set(a),a||this.get()},setUser:function(a){this.set(a);var b=e.getExpireTime("USERINFO"),c={data:a,timeout:b};e.oldSet("USERINFO",JSON.stringify(c))},removeUser:function(){e.oldRemove("USERINFO"),this.remove()},isNonUser:function(){var a=this.getUser();return a&&!!a.IsNonUser},isLogin:function(){var a=this.getUser();return a&&!!a.Auth&&!a.IsNonUser},getUserName:function(){var a=this.getUser();return a.UserName},getUserId:function(){var a=this.getUser()||{};return a.UserID||d.getGuid()},getAuth:function(){var a=this.getUser();return a&&a.Auth},setAuth:function(a){var b=this.isLogin(),c=this.getUser()||{};c.Auth=a,c.IsNonUser=b?!1:!0,this.setUser(c)},setNonUser:function(a){var b=Common.HeadStore.getInstance();b.setAttr("auth",a);var c={};c.Auth=a,c.IsNonUser=!0,this.setUser(c)},setExpireTime:function($super,a){$super(a);var b=this.get(),c={data:b,timeout:a};e.oldSet("USERINFO",JSON.stringify(c))}});return f}),define("cHeadStore",["cCoreInherit","cLocalStore","cUtilCommon"],function(a,b,c){var d=new a.Class(b,{__propertys__:function(){this.key="HEADSTORE",this.lifeTime="15D",this.defaultData={cid:c.getGuid(),ctok:"351858059049938",cver:"1.0",lang:"01",sid:"8888",syscode:"09",auth:""}},initialize:function($super,a){$super(a)},setAuth:function(a){this.setAttr("auth",a)}});return d}),define("cMarketStore",["cCoreInherit","cLocalStore","cLocalStorage","cUtilCommon"],function(a,b,c){{var d={};c.localStorage}return d.UnionStore=new a.Class(b,{__propertys__:function(){this.key="UNION",this.lifeTime="7D",this.store=c.localStorage},initialize:function($super,a){$super(a)},get:function(){var a=this.store.oldGet(this.key);return a&&a.data||null}}),d.SalesStore=new a.Class(b,{__propertys__:function(){this.key="SALES",this.lifeTime="30D",this.store=c.localStorage},initialize:function($super,a){$super(a)},get:function(){var a=this.store.oldGet(this.key);return a&&a.data||null}}),d.SalesObjectStore=new a.Class(b,{__propertys__:function(){this.key="SALES_OBJECT",this.lifeTime="30D"},initialize:function($super,a){$super(a)}}),d.UnionStore.getInstance=d.SalesStore.getInstance=function(){return this.instance||new this},d}),define("cCommonStore",["cCoreInherit","cUserStore","cHeadStore","cMarketStore"],function(a,b,c,d){var e={};return e.UserStore=b,e.HeadStore=c,e.UnionStore=d.UnionStore,e.SalesStore=d.SalesStore,e.SalesObjectStore=d.SalesObjectStore,e}),define("cParserUtil",[],function(){function a(a){var b={"\r":"\\r","\n":"\\n","	":"\\t"},c=/([\.\\\/\+\*\?\[\]\{\}\(\)\^\$\|])/g,d=/[\r\t\n]/g;return a.replace(c,"\\$1").replace(d,function(a){return b[a]})}function b(a){for(var b=a.split(""),c=!1,d="",e=[];d=b.shift();)e.push(d),"\\"==d?e.push(b.shift()):"["!=d||c?"]"==d&&c?c=!1:"("!=d||c||"?"==b[0]&&("!"==b[1]||(":"==b[1]||"="==b[1]?(b.shift(),b.shift(),e.push("?"),e.push(":")):(e.push("?"),e.push(":")))):c=!0;return e.join("")}function c(c,d){var e=[],f=[],g={},h=c.replace(/\{\{(.+?)\}\}/g,function(a,b){return f.push(b),"{@"+(f.length-1)+"}"}).replace(/\{(@?)(.+?)\}|[^\{\}]+/g,function(c,d,g){var h="";if(g)if(d){var i=f[g].match(/^(?:(?:\((\w+)\))?([^!=]+?)|([^!=]+?)=(.*))$/);if(i)if(i[2]){switch(i[1]){case"number":h="(\\d+(?:\\.\\d*)?|\\.\\d+)";break;case"int":h="(\\d+)";break;case"letter":h="([a-z _\\-\\$]+)";break;default:h="([^\\/]*)"}e.push(i[2])}else if(e.push(i[3]),/^\/.*\/$/.test(i[4]))h="("+b(i[4].slice(1,-1))+")";else{for(var j=i[4].split("||"),k=0;k<j.length;k++)j[k]=a(j[k]);h="("+j.join("|")+")"}else h=""}else e.push(g),h="([^\\/]*)";else h=a(c);return h});d=d.replace(/[#\?].*$/g,"");var i=d.match(new RegExp(h,"i")),j="/([^/]*)";"\\"!=h[h.length-1]&&(j="\\/([^/]*)");var k=d.match(new RegExp(h+j,"i"));if(i&&!k){for(var l=0;l<e.length;l++)g[e[l]]=i[l+1]||null;return{reStr:h,param:g,index:i.index}}return{}}var d={},e=0;return d.getID=function(){var a="client_id_viewport_"+ ++e+"_"+(new Date).getTime();return a},d._containFunc=function(a,b){var c=!1;for(var d in a){if(c)return!0;if(_.isFunction(a[d])&&a[d].toString().indexOf(b.trim())>-1)return a[d]=a[d].toString().trim(),!0;(_.isObject(a[d])||_.isArray(a[d]))&&(c=_containFunc(a[d],b))}return c},d.getPageParams=function(a,b){a=decodeURIComponent(a);var c={};"string"==typeof b&&(b=[b]),_.each(b,function(b){var d=Lizard.schema2re(b,a);d.reStr&&d.param&&(c=d.param)});for(var d,e,f,g,h=a.replace(/^[^\?#]*\??/g,"").replace(/#DIALOG_.*$/g,"").replace(/#\|cui-.*$/g,""),i=/([^&=?]+)=([^&]+)/g,j=/\/+.*\?/,k=/(.+)\[\]$/;d=i.exec(h);){if(e=d[1].toLowerCase(),f=d[2],g=e.match(k),j.test(f)){c[e]=h.substr(h.indexOf(f));break}g?(e=g[1],c[e]=c[e]||[],c[e].push(f)):c[e]=f}return c},d.parseDepend=function(a){var b=a.match(/Lizard.D\(([\'\"])(.*?)([\'\"])\)(.*?)(,|\s)/g),c=[];return b&&_.each(b,function(a){var b=a.split(",").join("").split("}").join("");c.push(b)}),c},d._runUnderscore=function(a,b){b||(b={});var c="";if(a){{var d=_.template(a);Lizard.T}c=d(b,{Lizard:Lizard}).trim()}return c},Lizard.T=Lizard._T=function(a,b){if(1==arguments.length){var c="",d=Lizard.T.lizTmpl[a];return d&&"server"!=d.runat&&(c=d.text),c}return _runUnderscore(Lizard._T(a),b)},Lizard.P=function(a,b){var c=null;return c=_.isUndefined(b)?Lizard.P.lizParam[a]||Lizard.P.lizParam[a.toLowerCase()]:Lizard.P.lizParam[a]=b},Lizard.schema2re=c,d}),define("cPageParser",["cCoreInherit","cLocalStore","cCommonStore","cParserUtil"],function(cCoreInherit,cStore,CommonStore,ParseUtil){function getPageUrlschema(){var configStr=getPageConfigStr(),ret="",arr=configStr.match(/([\'\"])?url_schema\1\s*:\s*([\'\"])(.*?)\2/)||configStr.match(/([\'\"])?url_schema\1\s*:\s*\[\s*([\'\"])((.|\s)*?)\2(\s*|,)]/);return arr?(eval("ret = {"+arr[0]+"}['url_schema']"),ret):""}function getPageConfigStr(){var a=pageDocNode.find('script[type="text/lizard-config"]').text();return a||(a='{"url_schema": "","model": {"apis": []},"view":{}}'),a}function getPageConfig(){var configStr=getPageConfigStr(),dataexpr=parseDepend(configStr);if(eval("var ret = "+configStr),!ret.viewName){var viewName=ret.controller.substring(ret.controller.lastIndexOf("/")+1);ret.viewName=viewName.substring(0,viewName.indexOf("."))}return ret.dataexpr=dataexpr,ret}function getPageTemplates(){var a={},b=pageDocNode.find('script[type="text/lizard-template"]');return _.each(b,function(b){var c=$(b);c.attr("id")&&(a[c.attr("id")]={runat:c.attr("runat")||"all",text:removeTags(c.text(),"client")})}),a}function removeTags(a,b){var c=$("<SCRIPT>"+a+"</SCRIPT>");return c.find("[runat="+b+"]").remove(),c.text()}function _setTDKInfo(a,b){var c=[],d=b.model.setTDK?b.model.setTDK(a):{},e=pageDocNode.find("title");return d.title&&(e&&e.remove(),c.push("<title>"+d.title+"</title>")),_.each(d,function(a,b){if(a){var d=pageDocNode.find('meta[name="'+b+'"]');d&&d.remove(),c.push('<meta name="'+b+'" content="'+a+'" />')}}),{TDK:d,TDKStr:c.join("")}}function _setUBTInfo(){var varNames=["page_id","bf_ubt_orderid","ab_testing_tracker"];if(_.each(varNames,function(varName){var values="",node=pageDocNode.find("#"+varName);node.get(0)&&(values=node.val()),eval(varName+" = '"+values+"'")}),_.isArray(ab_testing_tracker)){var ret=[];_.each(ab_testing_tracker,function(a){_.each(a.attr("value").split(";"),function(a){a&&ret.push(a)})}),ab_testing_tracker=ret.join(";")}}var pageDocNode=null;_.each(_.keys(ParseUtil),function(a){window[a]=ParseUtil[a]}),Lizard._initParser=function(a,b){pageDocNode=$("<DIV>"+b+"</DIV>"),Lizard.T.lizTmpl=getPageTemplates(),Lizard.P.lizParam=getPageParams(a,getPageUrlschema());var c=getPageConfig();return c.pageUrl=a,c},Lizard.getModels=function(pageConfig){pageConfig.model||(pageConfig.model={});var apis=pageConfig.model.apis||[],ret=[],dataexpr=pageConfig.dataexpr;return _.each(apis,function(api){api.runat=api.runat||"all",("client"==api.runat&&api.runat==Lizard.renderAt||"all"==api.runat)&&ret.push(api),api.suspend="suspend"in api?api.suspend.toString():!1,_.each(dataexpr,function(p){var postdataStr=JSON.stringify(api.postdata);(JSON.stringify(postdataStr).indexOf(p)>-1||_containFunc(api.postdata,p)||api.suspend&&api.suspend.indexOf(p)>-1)&&(api.depends||(api.depends=[],api.expressionMap={}),api.depends.push(eval(p.match(/Lizard.D\(([\'\"])(.*?)([\'\"])\)/g)[0].split("Lizard.D").join(""))),api.expressionMap[p]=dataexpr[p])})}),Lizard.errorBack=_.isFunction(pageConfig.errorBack)?pageConfig.errorBack:null,apis},Lizard.S=function(a,b,c){return this.loacaStores||(this.loacaStores={}),this.loacaStores[a]||(this.loacaStores[a]="SALES"==a?CommonStore.SalesStore:"SALES_OBJECT"==a?CommonStore.SalesObjectStore:"UNION"==a?CommonStore.UnionStore:new cCoreInherit.Class(cStore,{__propertys__:function(){this.key=a}})),b?this.loacaStores[a].getInstance().get()&&this.loacaStores[a].getInstance().get().hasOwnProperty(b)?this.loacaStores[a].getInstance().get()[b]:c:this.loacaStores[a].getInstance().get()},Lizard.D=function(a){return this.ajaxDatas&&this.ajaxDatas[a]?this.ajaxDatas[a]:null},Lizard.render=function(a,b,c){var d={header:"",viewport:""},e=!0;if(_.isFunction(a.validate))e=a.validate(b),!e&&_.isFunction(a.modelOnError)&&(d=a.modelOnError(b));else{var f=_setTDKInfo(b,a);2==arguments.length&&_setUBTInfo(),a.model.filter&&(b=a.model.filter.call(this,b,f.TDK))}for(var g in a.view)a.view.hasOwnProperty(g)&&(d[g]=_runUnderscore(a.view[g],b));var h=c?c.pageID+"$"+c.dialogName:getID(a.pageUrl);return d.viewport=['<div id="',h,'" page-url="',a.pageUrl,'">',d.viewport,"</div>"].join("").trim(),d.id=h,d.controller=a.controller,d.config=a,d.datas=b,d.lizTmpl=Lizard.T.lizTmpl,d.lizParam=Lizard.P.lizParam,d.TDK=f.TDKStr,d.validateRet=e,c?d=_.extend(d,c.ubtInfo):(d.page_id=page_id,d.ab_testing_tracker=ab_testing_tracker,d.bf_ubt_orderid=bf_ubt_orderid),d},Lizard.getController=function(a){return a.controller}}),define("cUtilCacheView",[],function(){function a(){this.catchs={},this.backups={},this.orderCaches=[]}return a.prototype={add:function(a,b){this.catchs[a]=b,this.orderCaches.push({key:a,url:b.url,viewName:b.viewName}),this.backups[a]={url:b.url,opts:b.opts,text:b.text,datas:b.datas,viewName:b.viewName}},_delElemFromCollection:function(a,b,c){a=_.reject(a,function(a){return a[b]==c})},delOrderCaches:function(a,b){this._delElemFromCollection(this.orderCaches,a,b)},delById:function(a){this.catchs[a]&&delete this.catchs[a],this.delOrderCaches("key",a)},delByName:function(a){this._delElemFromCollection(this.catchs,"viewName",a),this.delOrderCaches("viewName",a)},delByURL:function(a){this._delElemFromCollection(this.catchs,"url",a),this.delOrderCaches("url",a)},delByIdFromBackups:function(a){this.backups[a]&&delete this.backups[a],this.delOrderCaches("key",a)},delByNameFromBackups:function(a){this._delElemFromCollection(this.backups,"viewName",a),this.delOrderCaches("viewName",a)},delByURLFromBackups:function(a){this._delElemFromCollection(this.backups,"url",a),this.delOrderCaches("url",a)},findById:function(a){return this.catchs[a]},findByName:function(a){return _.findWhere(this.catchs,{viewName:a})},findByIdFromBackups:function(a){return this.backups[a]},findByNameFromBackups:function(a){return _.findWhere(this.backups,{viewName:a})},findByURLFromBackups:function(a){return _.findWhere(this.backups,{url:a})},length:function(){return _.size(this.catchs)},each:function(a){_.isFunction(a)&&_.each(this.catchs,function(b,c){a(c,b)})}},a}),define("cUtilPath",["$"],function(){var a={};return a.parseUrl=function(a){var b=/^\s*(((([^:\/#\?]+:)?(?:(\/\/)((?:(([^:@\/#\?]+)(?:\:([^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((\/?(?:[^\/\?#]+\/+)*)([^\?#]*)))?(\?[^#]+)?)(#.*)?/,c=b.exec(a||"")||[];return{href:c[0]||"",hrefNoHash:c[1]||"",hrefNoSearch:c[2]||"",domain:c[3]||"",protocol:c[4]||"",doubleSlash:c[5]||"",authority:c[6]||"",username:c[8]||"",password:c[9]||"",host:c[10]||"",hostname:c[11]||"",port:c[12]||"",pathname:c[13]||"",directory:c[14]||"",filename:c[15]||"",search:c[16]||"",hash:c[17]||""}},a.getUrlParam=function(a,b){var c=new RegExp("(\\?|&)"+b+"=([^&]+)(&|$)","i"),d=a.match(c);return d?d[2]:""},a.getUrlParams=function(a){for(var b,c,d,e,a=a.split("://"),f=/([^&=?]+)=([^&]+)/g,g={};b=f.exec(a[0]);)e=b[1],c=b[2],g[e]=c;if(a[1]){var h=0;d=_.size(g),_.each(g,function(b,c){++h==d&&(g[c]+="://"+a[1])})}return g},a}),define("cUtilValidate",["$"],function(){var a={isEmail:function(a){var b=/^(?:\w+\.?)*\w+@(?:\w+\.?)*\w+$/;return b.test(a)},isPassword:function(a){var b=/^[a-zA-Z0-9]{6,20}$/;return b.test(a)},isMobile:function(a){var b=/^(1[3-8][0-9])\d{8}$/;return b.test(a)},isChinese:function(a){var b=/^[\u4e00-\u9fff]{0,}$/;return b.test(a)},isEnglish:function(a){var b=/^[A-Za-z]+$/;return b.test(a)},isZip:function(a){var b=/^\d{6}$/;return b.test(a)},isDateStr:function(a){var b=/^(([0-9]{3}[1-9]|[0-9]{2}[1-9][0-9]{1}|[0-9]{1}[1-9][0-9]{2}|[1-9][0-9]{3})(((0[13578]|1[02])(0[1-9]|[12][0-9]|3[01]))|((0[469]|11)(0[1-9]|[12][0-9]|30))|(02(0[1-9]|[1][0-9]|2[0-8]))))|((([0-9]{2})(0[48]|[2468][048]|[13579][26])|((0[48]|[2468][048]|[3579][26])00))0229)$/;return b.test(a)?!0:!1},isTraditional:function(a){for(var b="",c=0;c<a.length;c++){var d=a.charAt(c);if(b.indexOf(d)>-1)return!0}return!1},isIdCard:function(a){var b=a.toLowerCase().match(/\w/g);if(a.match(/^\d{17}[\dx]$/i)){for(var c=0,d=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],e=0;17>e;e++)c+=parseInt(b[e],10)*d[e];return"10x98765432".charAt(c%11)!=b[17]?!1:!!a.replace(/^\d{6}(\d{4})(\d{2})(\d{2}).+$/,"$1-$2-$3")}return a.match(/^\d{15}$/)?!!a.replace(/^\d{6}(\d{2})(\d{2})(\d{2}).+$/,"19$1-$2-$3"):!1},isQq:function(a){return/^[1-9]\d{4,}$/.test(a)},isUrl:function(a){return/^http(s)?:\/\/[A-Za-z0-9\-]+\.[A-Za-z0-9]+[\/=\?%\-&_~`@[\]\:+!]*([^<>])*$/.test(a)},isIP:function(a){if(!a||result.isNull(a))return!1;var b=/^(\d+)\.(\d+)\.(\d+)\.(\d+)$/g;return b.test(a)&&RegExp.$1<256&&RegExp.$2<256&&RegExp.$3<256&&RegExp.$4<256?!0:!1},isCharsLenWithinRange:function(a,b){if(!result.isString(a))return!1;var c=a.match(/\W/g),d=null==c?a.length:a.length+c.length,e=d>=0&&b>=d;return e?(this.cutLen=a.length,!0):!1}};return a}),define("cUtilCryptBase64",[],function(){"use strict";var a,b={},c=b.Base64,d="2.1.4";"undefined"!=typeof module&&module.exports&&(a=require("buffer").Buffer);var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=function(a){for(var b={},c=0,d=a.length;d>c;c++)b[a.charAt(c)]=c;return b}(e),g=String.fromCharCode,h=function(a){if(a.length<2){var b=a.charCodeAt(0);return 128>b?a:2048>b?g(192|b>>>6)+g(128|63&b):g(224|b>>>12&15)+g(128|b>>>6&63)+g(128|63&b)}var b=65536+1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320);return g(240|b>>>18&7)+g(128|b>>>12&63)+g(128|b>>>6&63)+g(128|63&b)},i=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,j=function(a){return a.replace(i,h)},k=function(a){var b=[0,2,1][a.length%3],c=a.charCodeAt(0)<<16|(a.length>1?a.charCodeAt(1):0)<<8|(a.length>2?a.charCodeAt(2):0),d=[e.charAt(c>>>18),e.charAt(c>>>12&63),b>=2?"=":e.charAt(c>>>6&63),b>=1?"=":e.charAt(63&c)];return d.join("")},l=b.btoa?function(a){return b.btoa(a)}:function(a){return a.replace(/[\s\S]{1,3}/g,k)},m=a?function(b){return new a(b).toString("base64")}:function(a){return l(j(a))},n=function(a,b){return b?m(a).replace(/[+\/]/g,function(a){return"+"==a?"-":"_"}).replace(/=/g,""):m(a)},o=function(a){return n(a,!0)},p=new RegExp(["[-][-]","[-][-]{2}","[-][-]{3}"].join("|"),"g"),q=function(a){switch(a.length){case 4:var b=(7&a.charCodeAt(0))<<18|(63&a.charCodeAt(1))<<12|(63&a.charCodeAt(2))<<6|63&a.charCodeAt(3),c=b-65536;return g((c>>>10)+55296)+g((1023&c)+56320);case 3:return g((15&a.charCodeAt(0))<<12|(63&a.charCodeAt(1))<<6|63&a.charCodeAt(2));default:return g((31&a.charCodeAt(0))<<6|63&a.charCodeAt(1))}},r=function(a){return a.replace(p,q)},s=function(a){var b=a.length,c=b%4,d=(b>0?f[a.charAt(0)]<<18:0)|(b>1?f[a.charAt(1)]<<12:0)|(b>2?f[a.charAt(2)]<<6:0)|(b>3?f[a.charAt(3)]:0),e=[g(d>>>16),g(d>>>8&255),g(255&d)];return e.length-=[0,0,2,1][c],e.join("")},t=b.atob?function(a){return b.atob(a)}:function(a){return a.replace(/[\s\S]{1,4}/g,s)},u=a?function(b){return new a(b,"base64").toString()}:function(a){return r(t(a))},v=function(a){return u(a.replace(/[-_]/g,function(a){return"-"==a?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))},w=function(){var a=b.Base64;return b.Base64=c,a};if(b.Base64={VERSION:d,atob:t,btoa:l,fromBase64:v,toBase64:n,utob:j,encode:n,encodeURI:o,btou:r,decode:v,noConflict:w},"function"==typeof Object.defineProperty){var x=function(a){return{value:a,enumerable:!1,writable:!0,configurable:!0}};b.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",x(function(){return v(this)})),Object.defineProperty(String.prototype,"toBase64",x(function(a){return n(this,a)})),Object.defineProperty(String.prototype,"toBase64URI",x(function(){return n(this,!0)}))}}return b}),define("cUtilHybrid",[],function(){var a=window.navigator.userAgent,b=window.localStorage,c={};return c.isPreProduction=function(){return b.getItem("isPreProduction")},c.getAppSys=function(){if(a.indexOf("CtripLite")>-1)return"ctriplite";var b=/.+_(\w+)_CtripWireless_(\w+)/,c=b.exec(a);return c&&c[1]?c[1].toLowerCase():null},c.getAppVer=function(){var b=a.match(/_([^_]+)$/);return b&&b[1]?b[1]:"1.0"},c.isInApp=Lizard.isHybrid,c.isInWeichat=function(){return a.indexOf("MicroMessenger")>-1?!0:!1}(),c.isLite=function(){return"ctriplite"==c.getAppSys()}(),c.isStandard=function(){return"ctrip"==c.getAppSys()}(),c.isPro=function(){return"pro"==c.getAppSys()}(),c.isUnicom=function(){return"unicom"==c.getAppSys()}(),c.isYounth=function(){return"youth"==c.getAppSys()}(),c.getNetStatus=function(){var a=b.getItem("CINFO"),c="None";try{var d=JSON.parse(a);c=d.networkStatus||""}catch(e){}return c},c}),define("cSessionStorage",["cCoreInherit","cAbstractStorage"],function(a,b){var c=new a.Class(b,{__propertys__:function(){},initialize:function($super,a){this.proxy=window.sessionStorage,$super(a)}});return c.getInstance=function(){return this.instance?this.instance:this.instance=new this},c.sessionStorage=c.getInstance(),c}),define("cSessionStore",["cCoreInherit","cAbstractStore","cSessionStorage"],function(a,b,c){var d=new a.Class(b,{__propertys__:function(){this.sProxy=c.getInstance()},initialize:function($super,a){$super(a)}});return d}),define("cMemoryStorage",["cCoreInherit","cUtilDate","cAbstractStorage"],function(a,b,c){var d={dataMap:{},setItem:function(a,b){this.dataMap[a]=b},getItem:function(a){return this.dataMap[a]},removeItem:function(a){delete this.dataMap[a]},clear:function(){this.dataMap={}}},e=new a.Class(c,{__propertys__:function(){},initialize:function($super,a){this.proxy=d,$super(a)}});return e.getInstance=function(){return this.instance?this.instance:this.instance=new this},e}),define("cMemoryStore",["cCoreInherit","cAbstractStore","cMemoryStorage"],function(a,b,c){"use strict";var d=new a.Class(b,{__propertys__:function(){this.data=null,this.key="memory_store",this.sProxy=c.getInstance()},initialize:function($super,a){$super(a)}});return d}),define("cAbstractModel",["libs","cCoreInherit","cAjax","cUtilCommon","cUtilPath"],function(a,b,c,d,e){var f=new b.Class({__propertys__:function(){this.url=null,this.param=null,this.dataformat=null,this.validates=[],this.protocol=window.location.protocol.indexOf("https")>-1?"https":"http",this.contentType=f.CONTENT_TYPE_JSON,this.method="POST",this.ajaxOnly=!1,this.ajax,this.isAbort=!1,this.onBeforeCompleteCallback=null},initialize:function(a){this.assert();for(var b in a)this[b]=a[b]},assert:function(){},setAttr:function(a,b){this[a]=b},pushValidates:function(a){"function"==typeof a&&this.validates.push($.proxy(a,this))},setParam:function(a,b){"object"!=typeof a||b?this.param[a]=b:this.param=a},getParam:function(){return this.param},getResult:function(){return this.result},getResultStore:function(){return this.getResult()},buildurl:function(){if(d.isUrl(this.url))return this.url;var a="m.ctrip.com/restapi/soa2",b="";return"http"==this.protocol&&Lizard.restfullApi?b=Lizard.restfullApi:"https"==this.protocol&&Lizard.restfullApiHttps&&(b=Lizard.restfullApiHttps),b&&d.isUrl(b)&&(a=e.parseUrl(b).hostname),this.protocol+"://"+a+"/restapi"+this.url},_execute:function(a,b,d,e,g){this.isAbort=!1;var h=this.buildurl(),i=this,j=$.proxy(function(c){if(this.validates&&this.validates.length>0)for(var e=0,f=this.validates.length;f>e;e++){var g=this.validates[e](c);if("boolean"==typeof g){if(!g)return"function"==typeof b?b.call(d||this,c):!1}else g&&g.overdue&&require([Lizard.isHybrid||Lizard.isInCtripApp?"cHybridMember":"cWebMember"],function(a){a.memberLogin({param:"from="+encodeURIComponent(window.location.pathname)})})}var h="function"==typeof this.dataformat?this.dataformat(c):c;"function"==typeof this.onBeforeCompleteCallback&&this.onBeforeCompleteCallback(h),"function"==typeof a&&a.call(d||this,h,c)},this),k=$.proxy(function(a){return i.isAbort?(i.isAbort=!1,"function"==typeof e?e.call(d||this,a):!1):void("function"==typeof b&&b.call(d||this,a))},this),g=g||_.clone(this.getParam()||{});return g.contentType=this.contentType,this.ajax=this.contentType===f.CONTENT_TYPE_JSON?c.cros(h,this.method,g,j,k):this.contentType===f.CONTENT_TYPE_JSONP?c.jsonp(h,g,j,k):c.post(h,g,j,k)},execute:function(a,b,c,d,e){this._execute(a,b,c,d,e)},abort:function(){this.isAbort=!0,this.ajax&&this.ajax.abort&&this.ajax.abort()}});return f.getInstance=function(){return this.instance instanceof this?this.instance:this.instance=new this},f.CONTENT_TYPE_JSON="json",f.CONTENT_TYPE_FORM="form",f.CONTENT_TYPE_JSONP="jsonp",f}),define("cModel",["cCoreInherit","cAbstractStore","cHeadStore","cUserStore","cMarketStore","cAbstractModel","cUtilObject"],function(a,b,c,d,e,f,g){var h=new a.Class(f,{__propertys__:function(){this.usehead=!0,this.headStore=c.getInstance(),this.userStore=d.getInstance(),this.salesStore=e.SalesStore.getInstance(),this.headinfo=null,this.result=null,this.checkAuth=!0},initialize:function($super,a){$super(a)},getTag:function(){var a=_.clone(this.getParamData()||{});return JSON.stringify(a)},getParamData:function(){return this.param instanceof b?this.param.get():this.param},execute:function(a,c,d,e,g){this.headStore.setAuth(this.userStore.getAuth()),this.headStore.setAttr("sid",this.salesStore.getAttr("sourceid")||"8888");var h=_.clone(this.getParamData()||{});this.pushValidates(function(a){var b=this._getResponseHead(a);return b.overdue?{overdue:b.overdue}:b.success});var i=this.getTag(),j=this.result&&this.result.get(i);!j||this.ajaxOnly||d?("get"!==this.method.toLowerCase()&&this.usehead&&this.contentType!==f.CONTENT_TYPE_JSONP?(h.head=this.headStore.get(),h.head.time=(new Date).getTime()):"get"===this.method.toLowerCase()||this.usehead||this.contentType===f.CONTENT_TYPE_JSONP||this.headinfo&&(h.head=this.headinfo),this.onBeforeCompleteCallback=function(a){if(this.result instanceof b){try{}catch(c){}this.result.set(a,i)}},this._execute(a,c,e,g,h)):"function"==typeof a&&a.call(e||this,j)},excute:function(a,b,c,d,e){this.execute(a,b,c,d,e)},_getResponseHead:function(a){var b=!!a.ResponseStatus,c=b?a.ResponseStatus:a.head,d=!1,e=!1;if(b&&c){var f=c.Ack;if("Failure"===f||1==f){var g=c.Errors;if(g instanceof Array&&g.length>0)for(var h,i=0;i<g.length;i++)if(h=g[i],h&&h.ErrorCode&&"MobileRequestFilterException"==h.ErrorCode){this.checkAuth&&(e=!0,this.headStore.setAuth(""),this.userStore.removeUser());break}}d="Success"===c.Ack||"0"==c.Ack}else d=c&&0===c.errcode;return{success:d,overdue:e}},setParam:function(a,c){var d={};"object"!=typeof a||c?d[a]=c:d=a;for(var e in d)this.param instanceof b?this.param.setAttr(e,d[e]):g.set(this.param,e,d[e])},clearResult:function(){this.result&&"function"==typeof this.result.remove?this.result.remove():this.result=null}});return h}),define("cUserModel",["cCoreInherit","cModel","cCommonStore","cUtilCommon"],function(a,b,c,d){"use strict";var e=c.UserStore.getInstance(),f=(c.HeadStore.getInstance(),{});return f.NotUserLoginModel=new a.Class(b,{__propertys__:function(){this.url="/html5/Account/NonUserLogin",this.param={},this._abortres={},this.isAbort=!1},initialize:function($super,a){$super(a)},excute:function(a,b,c,d,f){this.isAbort=!1;var g=window.location.host;"localhost"==g&&(g="m.fat19.qa.nt.ctripcorp.com");var h="http://"+g+this.url,i=function(c){1==c.ServerCode&&c.Data?(e.setUser(c.Data),"function"==typeof a&&a.call(d,c)):"function"==typeof b&&b.call(d)},j=function(){return this.isAbort?("function"==typeof f&&f.call(d),void(this.isAbort=!1)):void("function"==typeof b&&b.apply(d,arguments))};this._abortres=$.ajax({type:"get",url:h,dataType:"json",crossDomain:!0,success:$.proxy(i,this),error:$.proxy(j,this),timeout:25e3})
},abort:function(){this.isAbort=!0,this._abortres&&"function"==typeof this._abortres.abort&&this._abortres.abort()}}),f.UserLoginModel=new a.Class(b,{__propertys__:function(){this.param={},this.url="10090/GetUserInfoToH5.json"},initialize:function($super,a){$super(a),this.baseurl=this.seturl()},seturl:function(){var a=window.location.host,b="restapi/soa2/",c="m.ctrip.com";return a.match(/^m\.ctrip\.com/i)?c="m.ctrip.com":a.match(/\.uat\.qa/i)?c="gateway.m.uat.qa.nt.ctripcorp.com":a.match(/\.fat/i)&&(c="gateway.m.fws.qa.nt.ctripcorp.com"),{domain:c,path:b}},buildurl:function(){return d.isUrl(this.url)?this.url:this.protocol+"://"+this.baseurl.domain+"/restapi/soa2/"+this.url}}),f}),define("cUIBase",[],function(){var a={};return a.config={prefix:"cui-"},a.setConfig=function(b,c){a.config[b]=c},a.getElementPos=function(a){var b=0,c=0;do b+=a.offsetTop,c+=a.offsetLeft;while(a=a.offsetParent);return{top:b,left:c}},a.getCreateId=function(){var b=(new Date).getTime();return function(){return a.config.prefix+ ++b}}(),a.getBiggerzIndex=function(){var a=3e3;return function(){return++a}}(),a.getCurStyleOfEl=function(a,b){if(document.defaultView&&document.defaultView.getComputedStyle)return document.defaultView.getComputedStyle(a).getPropertyValue(b);if(a.currentStyle){for(var c,d=b.split("-"),e=[],f=0;f<d.length;f++)0==f?e.push(d[f]):(c=d[f].split(""),c[0]=c[0].toUpperCase(),e.push(c.join("")));return e=e.join(""),a.currentStyle[e]}},a.bindthis=function(a,b){return function(){a.apply(b,arguments)}},a.strToNum=function(a){var b=parseInt(a.replace(/[a-z]/i,""));return isNaN(b)?0:b},a.getElementRealSize=function(a){var b=$(a);return{width:b.width(),height:b.height()}},a.getPageSize=function(){var a=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),b=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight);return{width:a,height:b}},a.getPageScrollPos=function(){var a=Math.max(document.documentElement.scrollLeft,document.body.scrollLeft),b=Math.max(document.documentElement.scrollTop,document.body.scrollTop),c=Math.min(document.documentElement.clientHeight,document.body.clientHeight),d=Math.min(document.documentElement.clientWidth,document.body.clientWidth),e=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),f=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight);return{top:b,left:a,height:c,width:d,pageWidth:e,pageHeight:f}},a.getMousePos=function(a){var b=Math.max(document.body.scrollTop,document.documentElement.scrollTop),c=Math.max(document.body.scrollLeft,document.documentElement.scrollLeft);return{top:b+a.clientY,left:c+a.clientX}},a.getMousePosOfElement=function(b,c){var d=a.getMousePos(b),e=a.getElementPos(c),f=c.clientWidth,g=c.clientHeight,h=d.left-e.left,i=d.top-e.top;return h=0>h?0:h>f?f:h,i=0>i?0:i>g?g:i,{x:h,y:i}},a.createElement=function(a,b){var c,d,e=document.createElement(a);if(b)for(c in b)switch(c){case"attr":if("object"==typeof b[c])for(d in b[c])null!=b[c][d]&&e.setAttribute(d,b[c][d]);break;case"styles":if("object"==typeof b[c])for(d in b[c])null!=b[c][d]&&(e.style[d]=b[c][d]);break;case"id":e.id=b[c];break;case"class":e.className=b[c];break;case"html":e.innerHTML=b[c]}return e},a}),define("UIView",[],function(){var a=function(){var a=3e3;return function(b){return b+ ++a}}(),b=function(){var a={};return{addItem:function(b,c){a[b]=c},removeItem:function(b){a[b]&&delete a[b]},getItem:function(b){return b?a[b]:a}}}();return _.inherit({propertys:function(){this.wrapper=$("body"),this.id=_.uniqueId("ui-view-"),this.template="",this.datamodel={},this.events={},this.eventArr={},this.status="init",this.animateShowAction=null,this.animateHideAction=null},on:function(a,b,c){this.eventArr[a]||(this.eventArr[a]=[]),c?this.eventArr[a].splice(0,0,b):this.eventArr[a].push(b)},off:function(a,b){this.eventArr[a]&&(this.eventArr[a]=b?_.without(this.eventArr[a],b):[])},trigger:function(a){var b,c,d=Array.prototype.slice,e=d.call(arguments,1),f=this.eventArr,g=[];if(f[a])for(b=0,c=f[a].length;c>b;b++)g[g.length]=f[a][b].apply(this,e);return g},createRoot:function(a){this.$el=$('<div class="view" style="display: none; " id="'+this.id+'"></div>'),this.$el.html(a)},_isAddEvent:function(a){return"onCreate"==a||"onPreShow"==a||"onShow"==a||"onRefresh"==a||"onHide"==a?!0:!1},setOption:function(a){for(var b in a)"datamodel"!=b&&"events"!=b?this._isAddEvent(b)?this.on(b,a[b]):this[b]=a[b]:_.extend(this[b],a[b])},initialize:function(a){this.propertys(),this.setOption(a),this.resetPropery(),this.addEvent(),this.create(),this.addSysEvents(),this.initElement(),b.addItem(this.id,this)},getUIContainer:function(){return b.getItem()},addSysEvents:function(){"function"==typeof this.availableFn&&(this.removeSysEvents(),this.$el.on("click.system"+this.id,$.proxy(function(a){this.availableFn()||(a.preventDefault(),a.stopImmediatePropagation&&a.stopImmediatePropagation())},this)))},removeSysEvents:function(){this.$el.off(".system"+this.id)},$:function(a){return this.$el.find(a)},resetPropery:function(){},addEvent:function(){},create:function(){this.trigger("onPreCreate"),this.createRoot(this.render()),this.status="create",this.trigger("onCreate")},initElement:function(){},render:function(a){data=this.getViewModel()||{};var b=this.template;return this.template?(data&&(b=_.template(this.template)(data)),"function"==typeof a&&a.call(this),b):""},refresh:function(a){this.resetPropery(),a?this.create():this.$el.html(this.render()),this.initElement(),"show"==this.status&&this.show(),this.trigger("onRefresh")},show:function(){this.wrapper[0]&&this.$el[0]&&($.contains(this.wrapper[0],this.$el[0])||this.wrapper.append(this.$el),this.trigger("onPreShow"),"function"==typeof this.animateShowAction?this.animateShowAction.call(this,this.$el):this.$el.show(),this.status="show",this.bindEvents(),this.trigger("onShow"))},hide:function(){this.$el&&"show"===this.status&&(this.trigger("onPreHide"),"function"==typeof this.animateHideAction?this.animateHideAction.call(this,this.$el):this.$el.hide(),this.status="hide",this.unBindEvents(),this.removeSysEvents(),this.trigger("onHide"))},destroy:function(){this.status="destroy",this.unBindEvents(),this.removeSysEvents(),b.removeItem(this.id),this.$el.remove(),this.trigger("onDestroy"),delete this},getViewModel:function(){return this.datamodel},setzIndexTop:function(b,c){b||(b=this.$el),(!c||c>10)&&(c=0),c=1e3*c,b.css("z-index",a(c))},bindEvents:function(){var a=this.events;if(!a&&!(a=_.result(this,"events")))return this;this.unBindEvents();var b,c,d,e,f,g=/^(\S+)\s*(.*)$/;for(b in a)c=a[b],_.isFunction(c)||(c=this[a[b]]),c&&(d=b.match(g),e=d[1],f=d[2],c=_.bind(c,this),e+=".delegateUIEvents"+this.id,""===f?this.$el.on(e,c):this.$el.on(e,f,c));return this},unBindEvents:function(){return this.$el.off(".delegateUIEvents"+this.id),this}})}),define("UIMask",["UIView",getAppUITemplatePath("ui.mask")],function(a){return _.inherit(a,{propertys:function($super){$super()},initialize:function($super,a){$super(a)},setRootStyle:function(){var a=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight);this.$el.css({width:"100%",height:a+"px",position:"absolute",left:"0px",top:"0px"})},addEvent:function($super){$super(),this.on("onCreate",function(){this.$el.addClass("cui-mask")}),this.on("onShow",function(){this.setRootStyle(),this.setzIndexTop()})}})}),define("UILayer",["UIView","UIMask"],function(a,b){return _.inherit(a,{propertys:function($super){$super(),this.mask=new b,this.type="layer",this.resetDefaultProperty()},resetDefaultProperty:function(){this.needMask=!0,this.needAnimat=!1,this.maskToHide=!0,this.needReposition=!0,this.hasPushState=history&&history.pushState,this.hasPushState=!1,this.historyBack=!1,this.animateShowAction=null,this.animateHideAction=null},initialize:function($super,a){$super(a),this.clearRes()},resetPropery:function(){this.needAnimat&&(this.animateShowAction=function(a){a.show(),a.addClass("cm-up-in"),a.one($.fx.animationEnd,function(){a.removeClass("cm-up-in")})},this.animateHideAction=function(a){a.addClass("cm-up-out"),a.one($.fx.animationEnd,function(){a.removeClass("cm-up-out"),a.hide()})}),this.mask.animateHideAction=this.animateHideAction?function(a){a.addClass("cm-overlay-out"),a.one($.fx.animationEnd,function(){a.removeClass("cm-overlay-out"),a.hide()})}:null},clearRes:function(){},_addTouchEvent:function(){this._removeTouchEvent();var a=function(a){a.preventDefault()};this.$el.on("touchmove.layertouchmove"+this.id,a),this.$el.on("mousemove.layertouchmove"+this.id,a)},_removeTouchEvent:function(){this.$el.off(".layertouchmove"+this.id)},_addPushStateEvent:function(){this.hasPushState&&(history.pushState({},document.title,location.href),this.historyBack=!1,$(window).on("popstate.pageviewpopstate"+this.id,$.proxy(function(){this.historyBack=!0,this.hide()},this)))},_removePushStateEvent:function(){this.hasPushState&&$(window).off(".pageviewpopstate"+this.id)},addEvent:function(){this.on("onCreate",function(){this.$el.addClass("cui-layer")}),this.on("onPreShow",function(){var a=this;this.needMask&&this.mask.show(),this.needMask&&this.maskToHide&&this.mask.$el.on("click.uimask"+this.mask.id,function(){a.hide()})}),this.on("onShow",function(){this.needReposition&&this.reposition(),this.setzIndexTop(),this._addTouchEvent(),this._addPushStateEvent()}),this.on("onPreHide",function(){return this.hasPushState&&!this.historyBack?void history.back():void 0}),this.on("onHide",function(){(!this.hasPushState||this.historyBack)&&(this.mask.$el.off(".uimask"+this.mask.id),this.mask.hide(),this._removeTouchEvent(),this._removePushStateEvent())}),this.on("onDestroy",function(){this.mask.destroy()})},reposition:function(){this.$el.css({"margin-left":-(this.$el.width()/2)+"px","margin-top":-(this.$el.height()/2)+"px"})}})}),define("UIAlert",["UILayer",getAppUITemplatePath("ui.alert")],function(a,b){return _.inherit(a,{propertys:function($super){$super()},resetDefaultProperty:function($super){$super(),this.maskToHide=!1,this.datamodel={title:"",content:"content",btns:[{name:"",className:"cui-btns-ok"}]},this.template=b,this.events={"click .cui-btns-ok":"okAction","click .cui-btns-cancel":"cancelAction"},this.okAction=function(){this.hide()},this.cancelAction=function(){this.hide()}},initialize:function($super,a){$super(a)},addEvent:function($super){$super(),this.on("onCreate",function(){this.$el.addClass("cui-alert")}),this.maskToHide=!1},setDatamodel:function(a,b,c){a||(a={}),_.extend(this.datamodel,a),b&&(this.okAction=b),c&&(this.cancelAction=c),this.refresh()}})}),define("UILoading",["UILayer",getAppUITemplatePath("ui.loading")],function(a,b){return _.inherit(a,{propertys:function($super){$super(),this.template=b,this.maskToHide=!1,this.hasPushState=!1,this.type="loading"},initialize:function($super,a){$super(a)},addEvent:function($super){$super(),this.on("onCreate",function(){this.$el.addClass("cui-loading")})}})}),define("UILoadingLayer",["UILayer",getAppUITemplatePath("ui.loading.layer")],function(a,b){return _.inherit(a,{propertys:function($super){$super()},resetDefaultProperty:function($super){$super(),this.template=b,this.datamodel={closeBtn:!1,content:""},this.events={"click .cui-grayload-close":"closeAction"},this.maskToHide=!1,this.hasPushState=!1,this.closeAction=function(){this.hide()}},initElement:function(){this.el=this.$(".cui-grayload-text")},reposition:function(){this.el.css({"margin-left":-(this.el.width()/2)+"px","margin-top":-(this.el.height()/2)+"px"})},initialize:function($super,a){$super(a)},addEvent:function($super){$super(),this.on("onCreate",function(){this.$el.addClass("cui-loading")})},setDatamodel:function(a,b){var c=!1;a?(this.datamodel.content=a,c=!0):this.datamodel.content="",b?(this.closeAction=b,c=!0,this.datamodel.closeBtn=!0):this.datamodel.closeBtn=!1,c&&this.refresh()}})}),define("UIToast",["UILayer",getAppUITemplatePath("ui.toast")],function(a,b){return _.inherit(a,{propertys:function($super){$super()},resetDefaultProperty:function($super){$super(),this.template=b,this.datamodel={content:"toast"},this.hideSec=2e3,this.hasPushState=!1,this.TIMERRES=null,this.hideAction=function(){0}},initialize:function($super,a){$super(a)},addEvent:function($super){$super(),this.on("onCreate",function(){this.$el.addClass("cui-toast")}),this.on("onShow",function(){this.TIMERRES&&clearTimeout(this.TIMERRES),this.TIMERRES=setTimeout($.proxy(function(){this.hide()},this),this.hideSec)}),this.on("onHide",function(){this.TIMERRES&&clearTimeout(this.TIMERRES),this.hideAction()})},setDatamodel:function(a,b,c,d){this.datamodel.content=a,b&&(this.hideSec=b),c&&(this.hideAction=c),this.maskToHide=d,this.refresh()}})}),define("UIInlineView",["UIView"],function(a){return _.inherit(a,{propertys:function($super){$super()},initialize:function($super,a){$super(a)}})}),define("UINum",["UIView",getAppUITemplatePath("ui.num")],function(a,b){return _.inherit(a,{propertys:function($super){$super(),this.datamodel={min:1,max:9,curNum:1,addClass:"num-add",minusClass:"num-minus",curClass:"num-value-txt",unit:"",needText:!0},this.template=b,this.events={"click .num-minus":"minusAction","click .num-add":"addAction","focus .num-value-txt":"txtFocus","blur .num-value-txt":"txtBlur"}},initElement:function(){this.curNum=this.$(".num-value-txt")},txtFocus:function(){this.curNum.val("")},txtBlur:function(){this.setVal(this.curNum.val())},addAction:function(){this.setVal(this.datamodel.curNum+1)},minusAction:function(){this.setVal(this.datamodel.curNum-1)},changed:function(a){0},getVal:function(){return this.datamodel.curNum},setVal:function(a){var b=!0,c=this.datamodel.curNum;""===a&&(a=c),a==parseInt(a)&&(a=parseInt(a),this.datamodel.curNum=a,a<this.datamodel.min&&(this.datamodel.curNum=this.datamodel.min),a>this.datamodel.max&&(this.datamodel.curNum=this.datamodel.max),this.curNum.val(this.datamodel.curNum),b=this.datamodel.curNum!=c),this.resetNum(b)},resetNum:function(a){this.refresh(),a&&this.changed.call(this,this.datamodel.curNum)},initialize:function($super,a){$super(a)},resetPropery:function(){this.datamodel.curNum>this.datamodel.max?this.datamodel.curNum=this.datamodel.max:this.datamodel.curNum<this.datamodel.min&&(this.datamodel.curNum=this.datamodel.min)},addEvent:function($super){$super(),this.on("onCreate",function(){this.$el.addClass("cui-add")})}})}),define("UISwitch",["UIView",getAppUITemplatePath("ui.switch")],function(a,b){return _.inherit(a,{propertys:function($super){$super(),this.template=b,this.datamodel={checkedFlag:!1,checkedClass:"current"}},initialize:function($super,a){$super(a)},changed:function(a){0},initElement:function(){this.el=this.$el,this.switchBar=this.$(".cui-switch-bg")},checked:function(){("function"!=typeof this.checkAvailabe||this.checkAvailabe())&&(this.getStatus()||(this.el.addClass("current"),this.switchBar.addClass("current"),this.datamodel.checkedFlag=!0,this._triggerChanged()))},unChecked:function(){("function"!=typeof this.checkAvailabe||this.checkAvailabe())&&this.getStatus()&&(this.el.removeClass("current"),this.switchBar.removeClass("current"),this.datamodel.checkedFlag=!1,this._triggerChanged())},_triggerChanged:function(){"function"==typeof this.changed&&this.changed.call(this,this.getStatus())},getStatus:function(){return this.datamodel.checkedFlag},createRoot:function(a){this.$el=$(a).hide().attr("id",this.id)},addEvent:function($super){$super(),this.on("onCreate",function(){}),this.on("onShow",function(){_.flip(this.$el,"left",$.proxy(function(){this.unChecked()},this)),_.flip(this.$el,"right",$.proxy(function(){this.checked()},this)),_.flip(this.$el,"tap",$.proxy(function(){this.getStatus()?this.unChecked():this.checked()},this))}),this.on("onHide",function(){_.flipDestroy(this.$el)})}})}),define("UIBubbleLayer",["UILayer",getAppUITemplatePath("ui.bubble.layer")],function(a,b){return _.inherit(a,{propertys:function($super){$super(),this.template=b,this.needMask=!1,this.datamodel={scope:this,data:[],upClass:"cm-pop--triangle-up",downClass:"cm-pop--triangle-down",wrapperClass:"cm-pop--border",curClass:"active",itemStyleClass:"",needBorder:!0,index:-1,dir:"up"},this.events={"click .cm-pop-list>li":"clickAction"},this.onClick=function(a,b){0,this.setIndex(b)},this.width=null,this.triangleLeft=null,this.triangleRight=null,this.triggerEl=null,this.needAnimat=!0},initialize:function($super,a){$super(a)},createRoot:function(a){this.$el=$(a).hide().attr("id",this.id)},clickAction:function(a){var b=$(a.currentTarget),c=b.attr("data-index"),d=this.datamodel.data[c];this.onClick.call(this,d,c,b,a)},initElement:function(){this.el=this.$el,this.triangleEl=this.$(".icond-pop-triangle"),this.windowWidth=$(window).width()},setIndex:function(a){var b=this.datamodel.curClass;a=parseInt(a),0>a||a>this.datamodel.data.length||a==this.datamodel.index||(this.datamodel.index=a,this.$(".cm-pop-list li").removeClass(b),this.$('li[data-index="'+a+'"]').addClass(b))},reposition:function(){if(this.triggerEl){var a=this.triggerEl.offset(),b=6,c=a.width-b,d=0,e=0;d="up"==this.datamodel.dir?a.top+a.height+8+"px":a.top-this.el.offset().height-8+"px",e=a.left+2+"px",this.el.css(a.left+(this.width||c)>this.windowWidth?{width:this.width||c,top:d,right:"2px"}:{width:this.width||c,top:d,left:e}),this.triangleLeft&&this.triangleEl.css({left:this.triangleLeft,right:"auto"}),this.triangleRight&&this.triangleEl.css({right:this.triangleRight,left:"auto"})}},addEvent:function($super){$super(),this.on("onCreate",function(){this.$el.removeClass("cui-layer"),this.$el.css({position:"absolute"})}),this.on("onShow",function(){this.setzIndexTop(this.el)})}})}),define("UITab",["UIView",getAppUITemplatePath("ui.tab")],function(a,b){return _.inherit(a,{propertys:function($super){$super(),this.template=b,this.datamodel={data:[],curClass:"cui-tab-current",index:0},this.events={"click .cui-tab-mod>li":"clickAction"},this.onChange=function(){0}},resetPropery:function(){if((this.datamodel.index<0||this.datamodel.index>this.datamodel.data.length)&&(this.datamodel.index=0),!this.datamodel.selectedKey)return void(this.datamodel.selectedKey=this.datamodel.data[this.datamodel.index].id);for(var a=0,b=this.datamodel.data.length;b>a;a++)if(this.datamodel.selectedKey==this.datamodel.data[a].id){this.datamodel.index=a;break}},initElement:function(){this.el=this.$(".cui-tab-current"),this.tab=this.$(".cui-tab-scrollbar"),this.tabs=this.$("li")},clickAction:function(a){{var b=$(a.currentTarget),c=b.attr("data-index");this.datamodel.data[c]}this.datamodel.selectedKey=c,this.setIndex(c)},setVal:function(a){this.el=this.$('li[data-key="'+a+'"]');var b=this.el.attr("data-index"),c=this.datamodel.data[b];if(!c)return void 0;var d=this.datamodel.selectedKey==a;if(this.datamodel.selectedKey=a,this.tabs.removeClass(this.datamodel.curClass),this.el&&this.el.addClass(this.datamodel.curClass),navigator.userAgent.toLowerCase().indexOf("android")>-1){var e=this._tab.css("width");setTimeout($.proxy(function(){this._tab.css("width",e)},this),0)}0==d&&"function"==typeof this.onChange&&this.onChange.call(this,c)},getVal:function(){return this.datamodel.selectedKey},setIndex:function(a){0>a||a>this.datamodel.data.length-1||this.setVal(this.datamodel.data[a].id)},getIndex:function(){for(var a=0,b=this.datamodel.data.length;b>a;a++)if(this.getVal()==this.datamodel.data[a].id)return a;return-1},initialize:function($super,a){$super(a)},addEvent:function($super){$super()}})}),define("UIScroll",[],function(){function a(a){if(this.wrapper="string"==typeof a.wrapper?$(a.wrapper):a.wrapper,this.scroller="string"==typeof a.scroller?$(a.scroller):a.scroller,!a.wrapper[0]||!a.scroller[0])throw"param error";this.swrapper=this.wrapper,this.wrapper=this.wrapper[0],this.scroller=this.scroller[0],this.scrollerStyle=this.scroller.style,this.options={step:!1,scrollbars:!0,startY:0,preventDefault:!0,scrollOffset:0,scrollType:"y",bounceTime:400,bounceEasing:d.ease.circular,bounce:!0,momentum:!0,bindToWrapper:!0,resizePolling:60,startX:0,startY:0};for(var b in a)this.options[b]=a[b];this.translateZ=" translateZ(0)",this.x=0,this.y=0,this._events={},this.dir="forward",this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable()}function b(a){var b=document.createElement("div"),c=document.createElement("div");return b.style.cssText="position:absolute;z-index:9999",c.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px","y"==a?(b.style.cssText+=";height:7px;left:2px;right:2px;bottom:0",c.style.height="100%"):(b.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px",c.style.width="100%"),b.style.cssText+=";overflow:hidden",b.appendChild(c),b}function c(a,b){this.wrapper="string"==typeof b.el?document.querySelector(b.el):b.el,this.indicator=this.wrapper.children[0],this.scrollType=b.scrollType,this.wrapperStyle=this.wrapper.style,this.indicatorStyle=this.indicator.style,this.scroller=a,this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.wrapperStyle[d.style.transform]=this.scroller.translateZ,this.wrapperStyle[d.style.transitionDuration]="0ms",this.wrapperStyle.opacity="0"}var d=function(){function a(a){return d===!1?!1:""===d?a:d+a.charAt(0).toUpperCase()+a.substr(1)}var b={},c=document.createElement("div").style,d=function(){for(var a,b=["t","webkitT","MozT","msT","OT"],d=0,e=b.length;e>d;d++)if(a=b[d]+"ransform",a in c)return b[d].substr(0,b[d].length-1);return!1}();return b.getTime=Date.now||function(){return(new Date).getTime()},b.addEvent=function(a,b,c,d){a[0]&&a!=window.top&&(a=a[0]),a.addEventListener(b,c,!!d)},b.removeEvent=function(a,b,c,d){a[0]&&a!=window.top&&(a=a[0]),a.removeEventListener(b,c,!!d)},b.momentum=function(a,b,c,d,e){var f,g,h=a-b,i=Math.abs(h)/c,j=6e-4;return f=a+i*i/(2*j)*(0>h?-1:1),g=i/j,d>f?(f=e?d-e/2.5*(i/8):d,h=Math.abs(f-a),g=h/i):f>0&&(f=e?e/2.5*(i/8):0,h=Math.abs(a)+f,g=h/i),{destination:Math.round(f),duration:g}},$.extend(b,{hasTouch:"ontouchstart"in window}),$.extend(b.style={},{transform:a("transform"),transitionTimingFunction:a("transitionTimingFunction"),transitionDuration:a("transitionDuration"),transitionDelay:a("transitionDelay"),transformOrigin:a("transformOrigin")}),$.extend(b.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2}),$.extend(b.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(a){return a*(2-a)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(a){return Math.sqrt(1- --a*a)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(a){var b=4;return(a-=1)*a*((b+1)*a+b)+1}},bounce:{style:"",fn:function(a){return(a/=1)<1/2.75?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375}},elastic:{style:"",fn:function(a){var b=.22,c=.4;return 0===a?0:1==a?1:c*Math.pow(2,-10*a)*Math.sin(2*(a-b/4)*Math.PI/b)+1}}}),b}();return a.prototype={_init:function(){this._initEvents(),this.options.scrollbars&&this._initIndicator()},refresh:function(){this.wrapper.offsetHeight;this.wrapperWidth=this.wrapper.clientWidth,this.scrollerWidth=this.scroller.offsetWidth,this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.wrapperHeight=this.wrapper.clientHeight,this.scrollerHeight=this.scroller.offsetHeight,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.maxScrollX=this.maxScrollX-this.options.scrollOffset,this.maxScrollY=this.maxScrollY-this.options.scrollOffset,"y"==this.options.scrollType?this.maxScrollX=0:this.maxScrollY=0,this.endTime=0,this._execEvent("refresh"),this.resetPosition()},_initEvents:function(a){var b=a?d.removeEvent:d.addEvent,c=this.options.bindToWrapper?this.wrapper:window;b(window,"orientationchange",this),b(window,"resize",this),d.hasTouch?(b(this.wrapper,"touchstart",this),b(c,"touchmove",this),b(c,"touchcancel",this),b(c,"touchend",this)):(b(this.wrapper,"mousedown",this),b(c,"mousemove",this),b(c,"mousecancel",this),b(c,"mouseup",this)),b(this.scroller,"transitionend",this),b(this.scroller,"webkitTransitionEnd",this),b(this.scroller,"oTransitionEnd",this),b(this.scroller,"MSTransitionEnd",this)},_start:function(a){if(this.enabled&&(!this.initiated||d.eventType[a.type]===this.initiated)){var b,c=a.touches?a.touches[0]:a;if(this.initiated=d.eventType[a.type],this.moved=!1,this.distY=0,this._transitionTime(),this.startTime=d.getTime(),this.isInTransition){this.isInTransition=!1,b=this.getComputedPosition();var e=Math.round(b.x),f=Math.round(b.y);this._translate(e,f),this._execEvent("scrollEnd")}this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=c.pageX,this.pointY=c.pageY,this._execEvent("beforeScrollStart")}},_move:function(a){if(this.enabled&&d.eventType[a.type]===this.initiated){var b,c,e,f,g=a.touches?a.touches[0]:a,h=g.pageX-this.pointX,i=g.pageY-this.pointY,j=d.getTime(),k=this.x,l=this.y,m=this.x+h,n=this.y+i,o=Math.abs(h)>=Math.abs(i)?k-m>0?"left":"right":l-n>0?"up":"down";if(this.pointX=g.pageX,this.pointY=g.pageY,this.distX+=h,this.distY+=i,e=Math.abs(this.distX),f=Math.abs(this.distY),!(j-this.endTime>300&&10>e&&10>f)){"y"==this.options.scrollType?(!this.options.preventDefault||"top"!=o&&"down"!=o||a.preventDefault(),h=0):(!this.options.preventDefault||"left"!=o&&"right"!=o||a.preventDefault(),i=0),this.flipDir=o,b=this.x+h,c=this.y+i,(b>this.options.scrollOffset||b<this.maxScrollX)&&(b=this.options.bounce?this.x+h/3:b>this.options.scrollOffset?this.options.scrollOffset:this.maxScrollX),(c>this.options.scrollOffset||c<this.maxScrollY)&&(c=this.options.bounce?this.y+i/3:c>this.options.scrollOffset?this.options.scrollOffset:this.maxScrollY),this.moved||this._execEvent("scrollStart"),this.moved=!0;var p=document.activeElement;if("input"==p.nodeName.toLowerCase())return p.blur(),this.disable(),void setTimeout($.proxy(function(){this.enable()},this),250);this.dir=b>this.x||c>this.y?"forward":"back",this._translate(b,c,!0)}}},_end:function(a){if(this.enabled&&d.eventType[a.type]===this.initiated){var b,c,e=(a.changedTouches?a.changedTouches[0]:a,d.getTime()-this.startTime),f=Math.round(this.x),g=Math.round(this.y),h=(Math.abs(f-this.startX),Math.abs(g-this.startY),Math.abs(f-this.startX)),i=Math.abs(g-this.startY),j=0,k="";if(this.isInTransition=0,this.initiated=0,this.endTime=d.getTime(),!this.resetPosition(this.options.bounceTime)){if(this.scrollTo(f,g),!this.moved)return void this._execEvent("scrollCancel");if(this.options.momentum&&300>e&&(b=d.momentum(this.x,this.startX,e,this.maxScrollX,this.options.bounce?this.wrapperWidth:0),c=d.momentum(this.y,this.startY,e,this.maxScrollY,this.options.bounce?this.wrapperHeight:0),f=b.destination,g=c.destination,j="y"==this.options.scrollType?Math.max(0,c.duration):Math.max(b.duration,0),this.isInTransition=1),h=Math.abs(f-this.startX),i=Math.abs(g-this.startY),this.options.step){var l=f,m=g,n=Math.abs(l),o=Math.abs(m),p=l>0?1:-1,q=m>0?1:-1,r=this.options.step-h%this.options.step,s=this.options.step-i%this.options.step;"forward"==this.dir?(l=l>0?n+r:n-r,m=m>0?o+s:o-s):(l=l>0?n-r:n+r,m=m>0?o-s:o+s),l%this.options.step!=0&&(l=Math.round(l/this.options.step)*this.options.step),m%this.options.step!=0&&(m=Math.round(m/this.options.step)*this.options.step),l*=p,m*=q,j=this.options.stepTime||200,("x"==this.options.scrollType&&50>h||"y"==this.options.scrollType&&50>i)&&(j=100),f=l,g=m,k=this.options.bounceEasing}return f!=this.x||g!=this.y?((f>this.options.scrollOffset||f<this.maxScrollX||g>this.options.scrollOffset||g<this.maxScrollY)&&(k=d.ease.quadratic),0==j&&(j=1),void this.scrollTo(f,g,j,k)):void this._execEvent("scrollEnd")}}},_resize:function(){var a=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){a.refresh()},this.options.resizePolling)},_transitionTimingFunction:function(a){this.scrollerStyle[d.style.transitionTimingFunction]=a,this.indicator&&this.indicator.transitionTimingFunction(a)},_transitionTime:function(a){a=a||0,this.scrollerStyle[d.style.transitionDuration]=a+"ms",this.indicator&&this.indicator.transitionTime(a)},getComputedPosition:function(){var a,b,c=window.getComputedStyle(this.scroller,null);return c=c[d.style.transform].split(")")[0].split(", "),a=+(c[12]||c[4]),b=+(c[13]||c[5]),{x:a,y:b}},_initIndicator:function(){var a=b("y"==this.options.scrollType?"x":"y");this.wrapper.appendChild(a),this.indicator=new c(this,{el:a,scrollType:this.options.scrollType}),this.on("scrollEnd",function(){this.indicator.fade()});var d=this;this.on("scrollCancel",function(){d.indicator.fade()}),this.on("scrollStart",function(){d.indicator.fade(1)}),this.on("beforeScrollStart",function(){d.indicator.fade(1,!0)}),this.on("refresh",function(){d.indicator.refresh()})},_translate:function(a,b){"y"==this.options.scrollType?a=0:b=0,this.scrollerStyle[d.style.transform]="translate("+a+"px,"+b+"px)"+this.translateZ,this.x=a,this.y=b,this.options.scrollbars&&this.indicator.updatePosition()},resetPosition:function(a){var b=this.x,c=this.y;return a=a||0,"x"==this.options.scrollType?(this.x>this.options.scrollOffset&&(b=this.options.scrollOffset),this.x<this.maxScrollX&&(b=this.maxScrollX)):(this.y>this.options.scrollOffset&&(c=this.options.scrollOffset),this.y<this.maxScrollY&&(c=this.maxScrollY)),"x"==this.options.scrollType&&b==this.x||"y"==this.options.scrollType&&c==this.y?!1:(this.scrollTo(b,c,a,this.options.bounceEasing),!0)},scrollTo:function(a,b,c,e){e=e||d.ease.circular,this.isInTransition=c>0,(!c||e.style)&&(this._transitionTimingFunction(e.style),this._transitionTime(c),this._translate(a,b))},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},on:function(a,b){this._events[a]||(this._events[a]=[]),this._events[a].push(b)},_execEvent:function(a){if(this._events[a]){var b=0,c=this._events[a].length;if(c)for(;c>b;b++)this._events[a][b].call(this)}},destroy:function(){this.TIMERRES&&clearInterval(this.TIMERRES),this._initEvents(!0),this._execEvent("destroy"),this.indicator&&this.indicator.destroy()},_transitionEnd:function(a){a.target==this.scroller&&this.isInTransition&&(this._transitionTime(),this._execEvent("animatEnd"),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd")))},handleEvent:function(a){switch(a.type){case"touchstart":case"mousedown":this._start(a);break;case"touchmove":case"mousemove":this._move(a);break;case"touchend":case"mouseup":case"touchcancel":case"mousecancel":this._end(a);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(a)}}},c.prototype={transitionTime:function(a){a=a||0,this.indicatorStyle[d.style.transitionDuration]=a+"ms"},transitionTimingFunction:function(a){this.indicatorStyle[d.style.transitionTimingFunction]=a},refresh:function(){this.transitionTime();this.wrapper.offsetHeight;"y"==this.scrollType?(this.wrapperHeight=this.wrapper.clientHeight,this.indicatorHeight=Math.max(Math.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px",this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.sizeRatioY=this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY):(this.wrapperWidth=this.wrapper.clientWidth,this.indicatorWidth=Math.max(Math.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px",this.maxPosX=this.wrapperWidth-this.indicatorWidth,this.sizeRatioX=this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX),this.updatePosition()},destroy:function(){this.wrapper.remove()},updatePosition:function(){var a="x"==this.scrollType&&Math.round(this.sizeRatioX*this.scroller.x)||0,b="y"==this.scrollType&&Math.round(this.sizeRatioY*this.scroller.y)||0;
this.x=a,this.y=b,this.indicatorStyle[d.style.transform]="translate("+a+"px,"+b+"px)"+this.scroller.translateZ},fade:function(a,b){if(!b||this.visible){var c=this;clearTimeout(this.fadeTimeout),this.fadeTimeout=null;var e=a?250:500,f=a?0:300;a=a?"1":"0",this.wrapperStyle[d.style.transitionDuration]=e+"ms",this.fadeTimeout=setTimeout(function(a){c.wrapperStyle.opacity=a,c.visible=+a}(a),f)}}},a.utils=d,a}),define("UIScrollLayer",["UILayer",getAppUITemplatePath("ui.scroll.layer"),"UIScroll"],function(a,b,c){return _.inherit(a,{propertys:function($super){$super(),this.template=b,this.datamodel={title:"",btns:[{name:"cancel",className:"cui-btns-cancel"},{name:"ok",className:"cui-btns-ok"}]},this.events={"click .cui-btns-ok":"okAction","click .cui-btns-cancel":"cancelAction","click .cui-top-close":"closeAction"},this.html=null,this.html="",this.maxHeight=300,this.sheight=0,this.scrollOpts={}},okAction:function(){0},cancelAction:function(){0},closeAction:function(){this.hide()},initElement:function(){this.swrapper=this.$(".cui-bd"),this.box_wrapper=this.$(".cui-pop-box")},initSize:function(){this.html&&(this.html=$(this.html),this.html.length>1&&(this.html=$("<div></div>").append(this.html)),this.html.css({"background-color":"white",position:"absolute"}),this.swrapper.append(this.html),this._initWrapperSize())},_initWrapperSize:function(){var a=0;this.sheight=this.html.height(),a=Math.min(this.sheight,this.maxHeight),this.swrapper.height(a),this.width&&this.box_wrapper.width(this.width)},refreshHeight:function(){this._initWrapperSize(),this.scroll&&this.scroll.refresh&&this.scroll.refresh(),this._initScroll()},initialize:function($super,a){$super(a)},_initScroll:function(){this.scroll&&this.scroll.destory&&this.scroll.destory(),this.sheight>=this.maxHeight&&(this.scrollOpts.wrapper=this.swrapper,this.scrollOpts.scroller=this.html,this.scroll=new c(this.scrollOpts))},addEvent:function($super){$super(),this.on("onShow",function(){this.initSize(),this._initScroll()},1),this.on("onHide",function(){this.scroll&&(this.scroll.destroy(),this.scroll=null)})}})}),define("UIRadioList",["UILayer",getAppUITemplatePath("ui.radio.list"),"UIScroll"],function(a,b,c){return _.inherit(a,{propertys:function($super){$super(),this.template=b,this.datamodel={title:"",data:[],selectId:null,index:1},this.itemNum=this.datamodel.data.length,this.displayNum=5,this.scroll=null,this.events={"click .cui-select-view> li":"clickAction"},this.onClick=function(a){0}},resetPropery:function(){this._resetNum(),this._resetIndex()},_resetIndex:function(){if(this.datamodel.selectId)for(var a=0,b=this.datamodel.data.length;b>a;a++)if(this.datamodel.selectId==this.datamodel.data[a].id){this.datamodel.index=a;break}},_resetNum:function(){this.displayNum=this.displayNum%2==0?this.displayNum+1:this.displayNum,this.itemNum=this.datamodel.data.length},clickAction:function(a){var b=$(a.currentTarget),c=b.attr("data-index");this.setIndex(c),this.onClick&&this.onClick.call(this,this.getSelected(),a)},setId:function(a){if(a){var b,c,d=-1;for(b=0,c=this.datamodel.data.length;c>b;b++)if(this.datamodel.data[b].id==a){d=b;break}-1!=d&&(this.datamodel.selectId=a,this.datamodel.index=d,this.setIndex(d))}},setDatamodel:function(a){_.extend(this.datamodel,a),this.itemNum=this.datamodel.data.length,this.refresh()},getId:function(){return this.datamodel.selectId},setIndex:function(a,b){a=parseInt(a),0>a||a>=this.datamodel.data.length||(this.datamodel.index=a,this.datamodel.selectId=this.datamodel.data[a].id,this.$("li").removeClass("current"),this.$('li[data-index="'+a+'"]').addClass("current"),b&&this._position())},getIndex:function(){return this.datamodel.index},getSelected:function(){return this.datamodel.data[this.datamodel.index]},initElement:function(){this.swrapper=this.$(".cui-bd"),this.scroller=this.$(".cui-select-view")},initSize:function(){var a=this.displayNum;this.sheight=this.scroller.height(),this.itemHeight=parseInt(this.sheight/this.itemNum),a>this.itemNum&&(a=this.itemNum),this.swrapper.height(this.itemHeight*a)},_position:function(){if(this.scroll){var a,b=this.datamodel.index;this.itemNum-b<this.displayNum&&(b=this.itemNum-this.displayNum),a=this.itemHeight*b*-1,this.scroll.scrollTo(0,a)}},initialize:function($super,a){$super(a)},addEvent:function($super){$super(),this.on("onShow",function(){this.initSize(),this.scroll&&this.scroll.destory&&this.scroll.destory(),this.itemNum>this.displayNum&&(this.scroll=new c({wrapper:this.swrapper,scroller:this.scroller}),this._position())},1),this.on("onHide",function(){this.scroll&&(this.scroll.destroy(),this.scroll=null)})}})}),define("UISelect",["UIView",getAppUITemplatePath("ui.select"),"UIScroll"],function(a,b,c){return _.inherit(a,{propertys:function($super){$super(),this.template=b,this.datamodel={curClass:"current",data:[],id:null,index:0},this.animatTime=100,this.stepTime=150,this.itemNum=this.datamodel.data.length,this.displayNum=5,this.scrollOffset=0,this.scroll=null,this.changed=function(a){0}},resetPropery:function(){this._resetNum(),this._resetIndex()},_resetIndex:function(){if(this.datamodel.id)for(var a=0,b=this.datamodel.data.length;b>a;a++)if(this.datamodel.id==this.datamodel.data[a].id){this.datamodel.index=a;break}},_resetNum:function(){this.displayNum=this.displayNum%2==0?this.displayNum+1:this.displayNum,this.itemNum=this.datamodel.data.length},initElement:function(){this.swrapper=this.$el,this.scroller=this.$(".ul-list")},initSize:function(){this.itemHeight=parseInt(window.getComputedStyle&&getComputedStyle(this.scroller.find("li").eq(0)[0]).height),this.scroller.height(this.itemHeight*this.itemNum),this.swrapper.height(this.itemHeight*this.displayNum),this.scrollOffset=(this.displayNum-1)/2*this.itemHeight},adjustPosition:function(a){if(this.scroll){this.datamodel.index<0&&(this.datamodel.index=0),this.datamodel.index>this.itemNum-1&&(this.datamodel.index=this.itemNum-1);var b,c=this.datamodel.index,d=0;b=this.itemHeight*c*-1+this.scrollOffset,a&&(d=this.animatTime),this.scroll.scrollTo(0,b,d)}},_initScroll:function(){return this.scroll?void this.scroll.refresh():(this.scroll=new c({scrollbars:!1,scrollOffset:this.scrollOffset,step:this.itemHeight,wrapper:this.swrapper,bounceTime:200,scroller:this.scroller}),this.scroll.on("scrollEnd",$.proxy(function(){this.setIndex(this.getIndexByPosition(),!0)},this)),void this.scroll.on("scrollCancel",$.proxy(function(){this.setIndex(this.getIndexByPosition(),!1)},this)))},reload:function(a){"object"==typeof a&&(a instanceof Array?this.datamodel.data=a:_.extend(this.datamodel,a)),this.scroll&&(this.scroll.destroy(),this.scroll=null),this._dataChanged=!0,this.refresh()},checkDisable:function(a){a=a||"down";var b=this.datamodel.index;this.datamodel.data[b]&&"undefined"!=typeof this.datamodel.data[b].disabled&&0==this.datamodel.data[b].disabled&&("up"==a?(this.datamodel.index=this._checkSelectedDown(b),"number"!=typeof this.datamodel.index&&(this.datamodel.index=this._checkSelectedUp(b))):(this.datamodel.index=this._checkSelectedUp(b),"number"!=typeof this.datamodel.index&&(this.datamodel.index=this._checkSelectedDown(b)))),"number"!=typeof this.datamodel.index&&(this.datamodel.index=b)},_checkSelectedUp:function(a){for(var b=!1,c=a;-1!=c;c--)if(this.datamodel.data[c]&&("undefined"==typeof this.datamodel.data[c].disabled||1==this.datamodel.data[c].disabled)){a=c,b=!0;break}return b?a:null},_checkSelectedDown:function(a){for(var b=!1,c=a,d=this.datamodel.data.length;d>c;c++)if(this.datamodel.data[c]&&("undefined"==typeof this.datamodel.data[c].disabled||1==this.datamodel.data[c].disabled)){a=c,b=!0;break}return b?a:null},setIndex:function(a,b,c){"undefined"==typeof b&&a==this.datamodel.index&&(b=!0);var d,e=a,f=this.datamodel.index!=a,g=a>this.datamodel.index?"up":"down";a=parseInt(a),0>a||a>=this.itemNum||(d=this.datamodel.index,this.datamodel.index=a,this.checkDisable(g),f=d!=this.datamodel.index?!0:!1,e!=this.datamodel.index&&(b=!1),b||this.adjustPosition(!0),this.resetCss(),this._dataChanged?(this.triggerChangedAction(),this._dataChanged=!1):c!==!0&&f&&this.triggerChangedAction())},triggerChangedAction:function(){this.changed&&this.changed.call(this,this.getSelected())},resetCss:function(){this.$("li").removeClass("current"),this.$('li[data-index="'+this.datamodel.index+'"]').addClass("current")},resetIndex:function(){this.setIndex(this.datamodel.index,!0,!0)},getIndex:function(){return this.datamodel.index},setId:function(a){if(a){var b,c,d=-1;for(b=0,c=this.datamodel.data.length;c>b;b++)if(this.datamodel.data[b].id==a){d=b;break}-1!=d&&(this.datamodel.index=d,this.setIndex(d,!1))}},getId:function(){return this.getSelected().id},getSelected:function(){return this.datamodel.data[this.datamodel.index]},getIndexByPosition:function(){var a=this.scroll.y-this.scrollOffset,b=Math.abs(a)/this.itemHeight;return Math.round(b)},initialize:function($super,a){$super(a)},addEvent:function($super){$super(),this.on("onCreate",function(){this.$el.addClass("cui-roller-bd"),this.$el.addClass("cui-roller")}),this.on("onShow",function(){this.initSize(),this._initScroll(),this.adjustPosition(),this.resetCss(),this.resetIndex()},1),this.on("onHide",function(){this.scroll&&(this.scroll.destroy(),this.scroll=null)})}})}),define("UIGroupSelect",["UILayer",getAppUITemplatePath("ui.group.select"),"UISelect"],function(a,b,c){return _.inherit(a,{propertys:function($super){$super(),this.template=b,this.datamodel={title:"scrollLayer",tips:"tips",btns:[{name:"",className:"cui-btns-cancel"},{name:"",className:"cui-btns-ok"}]},this.data=[],this.indexArr=[0,0,0],this.idArr=[],this.scrollArr=[],this.changedArr=[function(){},function(){},function(){}],this.onOkAction=function(){},this.onCancelAction=function(){this.hide()},this.displayNum=5,this.events={"click .cui-btns-ok":"okAction","click .cui-btns-cancel":"cancelAction"}},okAction:function(){var a=[];for(i=0,len=this.scrollArr.length;len>i;i++)a.push(this.scrollArr[i].getSelected());this.onOkAction.call(this,a)},cancelAction:function(){var a=[];for(i=0,len=this.scrollArr.length;len>i;i++)a.push(this.scrollArr[i].getSelected());this.onCancelAction.call(this,a)},initElement:function(){this.scrollWrapper=this.$(".cui-roller"),this.tips=this.$(".cui-roller-tips")},_initScroll:function(){this._destroyScroll();var a,b,d,e;for(a=0,b=this.data.length;b>a;a++)d=this.data[a],e=this.changedArr[a]||function(){},this.scrollArr[a]=new c({datamodel:{data:d,index:this.indexArr[a],id:this.idArr[a]},displayNum:this.displayNum,changed:$.proxy(e,this),wrapper:this.scrollWrapper}),0==a&&3==b&&this.scrollArr[a].on("onShow",function(){this.$el.addClass("cui-flex2")}),this.scrollArr[a].show()},setTips:function(a){this.datamodel.tips=a,this.tips.html(a)},_destroyScroll:function(){var a,b;for(a=0,b=this.data.length;b>a;a++)this.scrollArr[a]&&(this.scrollArr[a].destroy(),this.scrollArr[a]=null)},initialize:function($super,a){$super(a)},addEvent:function($super){$super(),this.on("onShow",function(){this._initScroll()},1),this.on("onHide",function(){this._destroyScroll()},1)}})}),define("UIGroupList",["UIView",getAppUITemplatePath("ui.group.list")],function(a,b){return _.inherit(a,{propertys:function($super){$super(),this.template=b,this.datamodel={data:[],filter:"name"},this.events={"click .cui-city-t":"groupAction","click .cui-city-n>li":"itemAction"},this.onGroupClick=function(){},this.onItemClick=function(){0}},itemAction:function(a){var b=$(a.currentTarget),c=b.attr("data-group"),d=b.attr("data-index"),e=this.datamodel.data[c].data[d];this.onItemClick&&this.onItemClick.call(this,e,c,d,a)},groupAction:function(a){var b=$(a.currentTarget).parent(),c=b.attr("data-groupindex"),d=this.datamodel.data[c];b.hasClass("cui-arrow-open")?this.closeGroup(c):this.openGroup(c),this.onGroupClick&&this.onGroupClick.call(this,c,d,a)},getFilterList:function(a){var b=this.$('li[data-filter*="'+a+'"]');return b.clone()},openGroup:function(a){this._switchStatus(a,"cui-arrow-close","cui-arrow-open")},closeGroup:function(a){this._switchStatus(a,"cui-arrow-open","cui-arrow-close")},_switchStatus:function(a,b,c){if("undefined"==typeof a)return this.groups.removeClass(b),void this.groups.addClass(c);var d=this.$('li[data-groupindex="'+a+'"]');d.addClass(c),d.removeClass(b)},initElement:function(){this.groups=this.$(".cui-city-itmes>li")},initialize:function($super,a){$super(a)}})}),define("UICalendar",["UIView",getAppUITemplatePath("ui.calendar")],function(a,b){return _.inherit(a,{propertys:function($super){$super(),this.template=b,this.dateObj=new Date,this.solarHoliday={"0101":"","0214":"","0308":"","0312":"","0314":"","0401":"","0405":"","0501":"","0504":"","0531":"","0601":"","0910":"",1001:"",1225:""},this.lunarHoliday={20150218:"",20150219:"",20150305:"",20150405:"",20150620:"",20150820:"",20150828:"",20150927:"",20151021:"",20160207:"",20160208:"",20160222:"",20160404:"",20160609:"",20160809:"",20160817:"",20160915:"",20161009:"",20170127:"",20170128:"",20170211:"",20170404:"",20170530:"",20170828:"",20170905:"",20171004:"",20171028:"",20180215:"",20180216:"",20180302:"",20180405:"",20180618:"",20180817:"",20180825:"",20180924:"",20181017:""},this.specialDates=!1,this.datamodel={scope:this,weekDayArr:["","","","","","",""],displayMonthNum:5,curTime:new Date(this.dateObj.getFullYear(),this.dateObj.getMonth(),this.dateObj.getDate()).getTime(),MonthClapFn:function(a,b){return b+=1,a+""+b+""},dayItemFn:function(a,b,c,d,e){var f={day:c},g=[],h="<div>",i=_.dateUtil.formatNum(b+1)+_.dateUtil.formatNum(c),j=a.toString()+_.dateUtil.formatNum(b+1)+_.dateUtil.formatNum(c);return 0==e?f.day1="":e/36e5==24?f.day1="":e/36e5==48&&(f.day1=""),this.solarHoliday[i]&&(h='<div class=" " >',f.solarHoliday=this.solarHoliday[i]),this.lunarHoliday[j]&&(h='<div class=" " >',f.lunarHoliday=this.lunarHoliday[j]),this.specialDates,g[0]="<em>"+f.day+"</em>",f.day1&&(g[0]="<em>"+f.day1+"</em>"),f.solarHoliday&&(g[1]="<i>"+f.solarHoliday+"</i>"),f.lunarHoliday&&(g[1]="<i>"+f.lunarHoliday+"</i>"),h=h+g.join("")+"</div>",this.dayItemAction?this.dayItemAction.call(this,f,a,b,c,d,e):h}},this.dayItemAction=null,this.events={"click .cui_calendar_item ":"itemAction"},this.onItemClick=function(){0}},resetPropery:function(){this.datamodel.year=this.dateObj.getFullYear(),this.datamodel.month=this.dateObj.getMonth(),this.datamodel.endDate=new Date(this.datamodel.year,this.datamodel.month+this.datamodel.displayMonthNum,0)},itemAction:function(a){var b=$(a.currentTarget);if(!b.hasClass("cui_cld_daypass")){var c=b.attr("data-date");if(c=c.split("-"),3!=c.length)return!1;c=new Date(c[0],c[1],c[2]),this.onItemClick&&this.onItemClick.call(this,c,b,a)}},initElement:function(){this.weekDay=this.$(".cui_cldweek")},initialize:function($super,a){$super(a)}})}),define("UISlider",["UIView",getAppUITemplatePath("ui.slider"),"UIScroll"],function(a,b,c){return _.inherit(a,{propertys:function($super){$super(),this.template=b,this.datamodel={key:this.id,className:"",curClass:"current",data:[],index:0},this.itemNum=0,this.displayNum=5,this.animatTime=100,this.momentum=!1,this.itemWidth=0,this.itemHeight=0,this.scrollWidth=0,this.scrollOffset=0,this.scroll=null,this.events={"click .ul-list>li":"itemClickAction"},this.changed=function(){},this.itemClick=function(){}},itemClickAction:function(a){var b=$(a.currentTarget),c=b.attr("data-index");this.setIndex(c),this.itemClick.call(this,this.getSelected())},initialize:function($super,a){$super(a)},resetPropery:function(){this._resetNum(),this._resetIndex()},_resetIndex:function(){if(this.datamodel.id)for(var a=0,b=this.datamodel.data.length;b>a;a++)if(this.datamodel.id==this.datamodel.data[a].id){this.datamodel.index=a;break}},_resetNum:function(){this.itemNum=this.datamodel.data.length},initElement:function(){this.swrapper=this.$el,this.scroller=this.$(".ul-list")},initSize:function(){var a=this.scroller.find("li").eq(0),b=(a.offset(),this.$el.parent()),c=b[0]&&b[0].clientHeight||b.height();this.wrapeWidth=this.swrapper[0]&&this.swrapper[0].clientWidth||this.swrapper.width(),this.itemWidth=parseInt(this.wrapeWidth/this.displayNum),this.scroller.find("li").width(this.itemWidth),this.scroller.width(this.itemWidth*this.itemNum),this.itemHeight=this.scroller.height(),this.itemHeight=c,this.scroller.find("li").height(this.itemHeight),this.swrapper.css({height:this.itemHeight+"px"}),this.scrollOffset=(this.displayNum-1)/2*this.itemWidth},reload:function(a){_.extend(this.datamodel,a),this.scroll&&(this.scroll.destroy(),this.scroll=null),this.refresh()},_initScroll:function(){this.scroll&&this.scroll.destroy(),this.scroll=new c({scrollbars:!1,scrollOffset:this.scrollOffset,scrollType:"x",step:this.itemWidth,wrapper:this.swrapper,bounceTime:200,momentum:this.momentum,scroller:this.scroller}),this.scroll.on("scrollEnd",$.proxy(function(){this.setIndex(this.getIndexByPosition(),!0)},this)),this.scroll.on("scrollCancel",$.proxy(function(){this.setIndex(this.getIndexByPosition(),!1)},this)),$(window).off(".silder"+this.id),$(window).on("resize.silder"+this.id,$.proxy(function(){this.refresh()},this))},adjustPosition:function(a,b){if(this.scroll){var c,d=this.datamodel.index,e=0;c=this.itemWidth*d*-1+this.scrollOffset,a&&(e=this.animatTime),b&&(e=b),this.scroll.scrollTo(c,0,e)}},resetCss:function(){this.$("li").removeClass("current"),this.$('li[data-index="'+this.datamodel.index+'"]').addClass("current")},resetIndex:function(){this.setIndex(this.datamodel.index,!0,!0)},getIndexByPosition:function(){var a=this.scroll.x-this.scrollOffset,b=Math.abs(a)/this.itemWidth;return Math.round(b)},getIndex:function(){return this.datamodel.index},setIndex:function(a,b,c,d){"undefined"==typeof b&&a==this.datamodel.index&&(b=!0);var e=this.datamodel.index!=a;this.datamodel.index=a,b||this.adjustPosition(!0,d),this.resetCss(),c!==!0&&e&&(this.changedAction&&this.changedAction.call(this,this.getSelected()),this.changed&&this.changed.call(this,this.getSelected()))},setId:function(a){if(a){var b,c,d=-1;for(b=0,c=this.datamodel.data.length;c>b;b++)if(this.datamodel.data[b].id==a){d=b;break}-1!=d&&this.setIndex(d,!1)}},getId:function(){return this.getSelected().id},getSelected:function(){return this.datamodel.data[this.datamodel.index]},handleItem:function(){},handleEachItem:function(){for(var a=0,b=this.datamodel.data.length;b>a;a++)this.handleItem&&this.handleItem.call(this,a,this.$('li[data-index="'+a+'"]'))},addEvent:function($super){$super(),this.on("onCreate",function(){this.$el.addClass("cui-roller-bd"),this.$el.addClass("cui-roller")}),this.on("onShow",function(){this.initSize(),this._initScroll(),this.adjustPosition(),this.resetCss(),this.resetIndex(),this.handleEachItem()},1),this.on("onHide",function(){this.scroll&&(this.scroll.destroy(),this.scroll=null,$(window).off(".silder"+this.id),this.freeInstance())})}})}),define("UIImageSlider",["UISlider"],function(a){return _.inherit(a,{propertys:function($super){$super(),this.autoPlay=!1,this.timerSrc=null,this.delaySec=3e3,this.playTime=500,this.sliderNav=null,this.displayNum=1},play:function(){this.autoPlay&&(this.stop(),this.timerSrc=setInterval($.proxy(function(){var a=this.datamodel.index;a++,a==this.itemNum&&(a=0),this.setIndex(a,null,null,this.playTime)},this),this.delaySec))},stop:function(){this.timerSrc&&(clearInterval(this.timerSrc),this.timerSrc=null)},createNav:function(){if(!this.sliderNav){for(var a='<div class="cui-navContainer" style="color: rgb(20, 145, 197); position: absolute;">',b=0;b<this.itemNum;b++)a+='<span class="cui-slide-nav-item" data-index="'+b+'"></span>';a+="</div>",this.sliderNav=$(a),this.$el.append(this.sliderNav),this._setNavPos(),this.setzIndexTop(this.sliderNav),this._setNavIndex(this.datamodel.index)}},_setNavPos:function(){var a=(parseInt(this.wrapper.width())-20*this.itemNum)/2;this.sliderNav.css({left:a,bottom:"10px"})},_addTouchEvent:function(){var a=this;this._removeTouchEvent();var b=function(){a.stop()},c=function(){a.play()};this.$el.on("touchstart.imageslidertouchmove"+this.id,b),this.$el.on("touchmove.imageslidertouchmove"+this.id,b),this.$el.on("touchend.imageslidertouchmove"+this.id,c),this.$el.on("mousedown.imageslidertouchmove"+this.id,b),this.$el.on("mousemove.imageslidertouchmove"+this.id,b),this.$el.on("mouseup.imageslidertouchmove"+this.id,c)},_removeTouchEvent:function(){this.$el.off(".imageslidertouchmove"+this.id)},_setNavIndex:function(a){this.$(".cui-navContainer").find("span").removeClass("cui-slide-nav-item-current"),this.$(".cui-navContainer").find('span[data-index="'+a+'"]').addClass("cui-slide-nav-item-current")},changedAction:function(){this._setNavIndex(this.datamodel.index)},addEvent:function($super){$super(),this.on("onRefresh",function(){this.sliderNav=null}),this.on("onShow",function(){this.createNav(),this.play(),this._addTouchEvent()}),this.on("onHide",function(){this.stop(),this._removeTouchEvent()})}})}),define("cUIInputClear",["libs"],function(){var a=function(){var a="placeholder"in document.createElement("input"),b=function(b,c,d,e,f){c||(c=""),e=e||{};var g="string"==typeof b?$(b):b;g.each(function(){var b=$('<a class="clear-input '+c+'" href="javascript:;"><span></span></a>'),g=$(this);if(f&&(b=$('<span class="cui-focus-close '+c+'"></span>')),e.left&&b.css({left:e.left+"px",right:"auto"}),e.top&&b.css({top:e.top+"px",bottom:"auto"}),e.right&&b.css({right:e.right+"px",left:"auto"}),e.bottom&&b.css({bottom:e.bottom+"px",top:"auto"}),g.parent().addClass("clear-input-box"),!a)var h=g.attr("placeholder"),i=$('<span class="placeholder-title'+(c?" placeholder-"+c:"")+'">'+h+"</span>");b.hide(),g.bind({focus:function(){var a=$.trim(g.val());""!=a&&b.show()},input:function(){window.setTimeout(function(){var c=g.val();""==c?b.hide():b.show(),a||(""==c?i.show():i.hide())},10)},blur:function(){var c=$.trim(g.val());a||(""==c?i.show():i.hide()),setTimeout(function(){b.hide()},200)}}),b.bind("click",function(){g.val(""),g.keyup(),b.hide(),g.focus(),g.trigger("input"),"function"==typeof d&&d.call(this)}),g.after(b),a||(g.after(i),i.bind("click",function(){g.focus()})),g.blur()})};return b}();return a}),define("UIWarning404",["UIView",getAppUITemplatePath("ui.warning404"),"cGuiderService"],function(a,b,c){return _.inherit(a,{propertys:function($super){$super(),this.resetDefaultProperty()},resetDefaultProperty:function(){this.template=b,this.datamodel={tel:"4000086666",loadFail:"",telText:"",tryAgain:"",contact:"",showContact:!0},this.events={"click .cui-btns-tel":"callTelAction","click .cui-btns-retry":"retryAction"},this.retryAction=function(){0},this.callTelAction=function(){c.apply({hybridCallback:function(){c.callService()},callback:function(){window.location.href="tel:"+self.tel}})}},createRoot:function(a){this.$el=$(a).hide().attr("id",this.id)},setDatamodel:function(a,b,c){a||(a={}),_.extend(this.datamodel,a),this.retryAction=b,this.callTelAction=c,this.refresh()},initialize:function($super,a){$super(a)}})}),define("UIAnimation",[],function(){return{slideleft:function(a,b,c,d){{var e=a.$el;b.$el}b.hide(),e.show(),e.bind("webkitAnimationEnd",function(){e.unbind("webkitAnimationEnd"),$("body").removeClass("hiddenx"),e.removeClass("animatestart"),e.removeClass("sliderightin"),a.show(),"function"==typeof c&&(d?c.call(d,a,b):c(a,b))}),$("body").addClass("hiddenx"),e.addClass("animatestart"),e.addClass("sliderightin")},slideright:function(a,b,c,d){var e=(a.$el,b.$el);e.bind("webkitAnimationEnd",function(){e.unbind("webkitAnimationEnd"),$("body").removeClass("hiddenx"),e.removeClass("animatestart"),e.removeClass("sliderightout"),b.hide(),a.show(),"function"==typeof c&&(d?c.call(d,a,b):c(a,b))}),$("body").addClass("hiddenx"),e.addClass("animatestart"),e.addClass("sliderightout")},noAnimate:function(a,b,c,d){b&&b.__hide(a.viewname),a.__show(),c&&c.call(d,a,b)}}}),define("text!ui/ui.alert.html",[],function(){return'<div class="cui-pop-box">\r\n<%if(typeof title == \'string\' && title.length > 0){ %>\r\n  <div class="cui-hd">\r\n      <%=title%>\r\n  </div>\r\n<%} %>\r\n  <div class="cui-bd">\r\n    <div class="cui-error-tips">\r\n      <%=content%></div>\r\n    <div class="cui-roller-btns">\r\n      <% for(var i = 0, len = btns.length; i < len; i++ ) {%>\r\n      <div class="cui-flexbd <%=btns[i].className%>">\r\n        <%=btns[i].name%></div>\r\n      <% } %>\r\n    </div>\r\n  </div>\r\n</div>\r\n'}),define("text!ui/ui.bubble.layer.html",[],function(){return'<section class="cm-pop cm-pop--radius <%=wrapperClass %>  <%if(dir == \'up\'){ %> <%=upClass %> <% } else { %> <%=downClass %> <% } %>">\r\n<i class="icond-pop-triangle"></i>\r\n<div class="cm-pop-bd">\r\n  <ul class="cm-pop-list <%=itemStyleClass %>">\r\n    <% for(var i = 0, len = data.length; i < len; i++) { %>\r\n    <% var itemData = data[i]; %>\r\n    <li data-index="<%=i%>" data-flag="c" class="<% if(index == i){ %><%=curClass %><%} %>"  ><%if(typeof itemFn == \'function\') { %><%=itemFn.call(scope, itemData, i) %> <% } else { %><%=itemData.name%><%} %></li>\r\n    <% } %>\r\n  </ul>\r\n</div>\r\n</section>\r\n\r\n'}),define("text!ui/ui.calendar.html",[],function(){return'<ul class="cui_cldweek" style=" position: static; ">\r\n<% var i = 0, day1 = 0;  %>\r\n<%for(day1 = 0; day1 < 7; day1++) { %>\r\n<li><%=weekDayArr[day1] %></li>\r\n<%} %>\r\n</ul>\r\n\r\n<section class="cui_cldunit">\r\n<%for(var j = 0; j < displayMonthNum; j++) { %>\r\n<%\r\n  var changedMonth = month + j;\r\n  var yyy =  parseInt(( month + j ) / 12);\r\n  if(changedMonth > 11) { \r\n    changedMonth = changedMonth - 12 * yyy;\r\n  }\r\n  changedYear = year + yyy;\r\n  var d = new Date(changedYear, changedMonth);\r\n  var days = _.dateUtil.getDaysOfMonth(d);\r\n  var beginWeek = _.dateUtil.getBeginDayOfMouth(d);\r\n  var endDateTime = endDate.getTime();\r\n\r\n  var str_month = MonthClapFn(changedYear, changedMonth);\r\n%>\r\n  <%if(str_month.length > 0 ) { %>\r\n  <h1 class="cui_cldmonth">\r\n    <%=str_month %>\r\n  </h1>\r\n    <% } %>\r\n  <ul class="cui_cld_daybox">\r\n     <% for(i = 0; i < beginWeek; i++) { %>\r\n        <li class="cui_invalid"></li>\r\n      <% } %>\r\n      <% for(i = 0; i < days; i++) { %>\r\n        <% var day = i + 1; %>\r\n        <% var calendar_time = (new Date(changedYear, changedMonth, day )).getTime(); %>\r\n        <% var difftime = calendar_time - curTime; %>\r\n        <% var dateObj = new Date(changedYear, changedMonth, day ); %>\r\n\r\n        <li class="cui_calendar_item cui_cld_day_havetxt <%if(calendar_time == endDateTime){ %>cui_endDate <%} %> <%if(difftime < 0) { %> cui_cld_daypass <%} %>"data-date="<%=changedYear%>-<%=changedMonth%>-<%=day%>"><%=dayItemFn.call(scope, changedYear, changedMonth, day, dateObj, difftime)%> </li>\r\n      <% } %>\r\n  </ul>\r\n<%} %>\r\n</section>'}),define("text!ui/ui.group.list.html",[],function(){return'<%filter = filter.replace(/\\s+/g, "").split(\',\'); %>\r\n\r\n<ul class="cui-city-itmes">\r\n<%for(var i = 0, len = data.length; i < len; i++) { %>\r\n  <li data-groupindex="<%=i %>" class="<%if(typeof data[i].needFold != \'undefined\' && data[i].needFold == true) { %>cui-arrow-close<%} else{ %> cui-arrow-open<% } %>" >\r\n  <span class="cui-city-t">\r\n   <%=data[i].name %> </span>\r\n   <%var item = data[i].data; %>\r\n   <%if(item && item.length > 0) { %>\r\n    <ul class="cui-city-n">\r\n\r\n     <%for(var j = 0, len1 = item.length; j < len1; j++) { %>\r\n      <li data-index="<%=j %>" data-group="<%=i %>" data-filter="<%for(var k in filter){ var v = filter[k]; if(typeof item[j][v]==\'string\') { %><%=item[j][v] %> <% } %><% } %>" ><%=item[j].name %> </li>\r\n     <% } %>\r\n    </ul>\r\n\r\n   <% } %>\r\n   \r\n<% } %>\r\n\r\n</ul>\r\n'}),define("text!ui/ui.group.select.html",[],function(){return'<div class="cui-pop-box" style="border-radius: 0; ">\r\n  <div class="cui-hd">\r\n    <div class="cui-text-center">\r\n      <%=title %></div>\r\n  </div>\r\n  <div class="cui-bd ">\r\n    <div class="cui-roller">\r\n    </div>\r\n    <div class="cui-roller-tips">\r\n      <%=tips %></div>\r\n    <div class="cui-roller-btns">\r\n      <% for(var i = 0, len = btns.length; i < len; i++ ) {%>\r\n      <div class="cui-flexbd <%=btns[i].className%>">\r\n        <%=btns[i].name%></div>\r\n      <% } %>\r\n    </div>\r\n  </div>\r\n</div>\r\n'}),define("text!ui/ui.loading.html",[],function(){return'<div class="cui-breaking-load">\r\n  <div class="cui-i cui-w-loading">\r\n  </div>\r\n  <div class="cui-i cui-m-logo">\r\n  </div>\r\n</div>\r\n'}),define("text!ui/ui.mask.html",[],function(){return'<div class="cui-pop-box">\r\n  <div class="cui-hd">\r\n      <%=title%>\r\n  </div>\r\n  <div class="cui-bd">\r\n    <div class="cui-error-tips">\r\n      <%=content%></div>\r\n    <div class="cui-roller-btns">\r\n      <% for(var i = 0, len = btns.length; i < len; i++ ) {%>\r\n      <div class="cui-flexbd <%=btns[i].className%>">\r\n        <%=btns[i].name%></div>\r\n      <% } %>\r\n    </div>\r\n  </div>\r\n</div>\r\n'}),define("text!ui/ui.num.html",[],function(){return'<span class="cui-number-ma">\r\n<i class="<%=minusClass %> <% if(min == curNum) { %>num-invalid<% } %>" ></i>\r\n  <input type="tel" class="<%=curClass %>" <%if(needText == false){ %>disabled="disabled"<%} %> value="<%=curNum %><%=unit %>">\r\n<i class="<%=addClass %> <% if(max == curNum) { %>num-invalid<% } %> "></i>\r\n</span>'}),define("text!ui/ui.radio.list.html",[],function(){return'<div class="cui-pop-box">\r\n<%if(typeof title == \'string\' && title.length > 0){ %>\r\n  <div class="cui-hd">\r\n    <div class="cui-text-center">\r\n      <%=title %></div>\r\n  </div>\r\n<%} %>\r\n\r\n  <div class="cui-bd cui-roller-bd" style="overflow: hidden; position: relative;">\r\n    <ul class="cui-select-view " style="position: absolute; width: 100%; ">\r\n      <%for(var i = 0, len = data.length; i < len; i++) { %>\r\n        <li data-index="<%=i %>" <%if(i == index){ %>class="current"<%} %> ><%=data[i].name || data[i].id %></li>\r\n      <% } %>\r\n    </ul>\r\n  </div>\r\n</div>'}),define("text!ui/ui.loading.layer.html",[],function(){return'<%\r\nvar hasText = (typeof content == \'string\' && content.length > 0);\r\n %>\r\n<div class="cui-grayload-text" style=" <% if(!hasText && !closeBtn){%> width: 80px; height: 70px; <%}%> " >\r\n  <div class="cui-i cui-w-loading">\r\n  </div>\r\n  <div class="cui-i cui-m-logo">\r\n  </div>\r\n  <%if(closeBtn) %>\r\n  <div class="cui-grayload-close">\r\n  </div>\r\n  <% %>\r\n  <div class="cui-grayload-bfont">\r\n  <%if(hasText){ %>\r\n    <%=content %>\r\n    <%} %>\r\n    </div>\r\n</div>\r\n'}),define("text!ui/ui.scroll.layer.html",[],function(){return'<div class="cui-pop-box">\r\n\r\n<%if(typeof title == \'string\' && title.length > 0){ %>\r\n  <div class="cui-hd">\r\n    <%=title %><div class="lab-close-area">\r\n      <span class="cui-top-close"></span></div>\r\n  </div>\r\n<%} %>\r\n  <div class="cui-bd" style="overflow: hidden; position: relative; background-color: #fafafa;\r\n    width: 100%;">\r\n  \r\n  </div>\r\n  <div class="cui-roller-btns">\r\n    <%if(typeof btns == \'string\'){ %>\r\n      <%=btns %>\r\n    <% } else { %>\r\n      <% for(var i = 0, len = btns.length; i < len; i++ ) {%>\r\n      <div class="cui-flexbd <%=btns[i].className%>">\r\n        <%=btns[i].name%></div>\r\n      <% } %>\r\n    <%} %>\r\n  </div>\r\n</div>\r\n'}),define("text!ui/ui.select.html",[],function(){return'<ul class="ul-list" style="position: absolute; width: 100%; top: 0; left: 0;">\r\n  <%for(var i = 0, len = data.length; i < len; i++) { %>\r\n  <li data-key="<%=data[i].id %>" data-index="<%=i%>" <%if(typeof data[i].disabled != \'undefined\' && data[i].disabled == false){ %> class="disabled"\r\n    <%} %>>\r\n    <%=data[i].name %></li>\r\n  <%} %>\r\n</ul>\r\n<div class="cui-mask-gray">\r\n</div>\r\n<div class="cui-lines">\r\n  &nbsp;</div>\r\n'
}),define("text!ui/ui.slider.html",[],function(){return'<ul class="ul-list horizontal <%=className %>" style="position: absolute; top: 0; left: 0;">\r\n  <%for(var i = 0, len = data.length; i < len; i++) { %>\r\n  <li data-key="<%=data[i].id %>" data-index="<%=i%>" <%if(data[i].disabled){ %> class="disabled"\r\n    <%} %>>\r\n      <%=((typeof itemFn == \'function\' && itemFn(data[i], key, i)) || data[i].name) %>\r\n    </li>\r\n  <%} %>\r\n</ul>\r\n\r\n'}),define("text!ui/ui.switch.html",[],function(){return'<div class="cui-switch <%if(checkedFlag) { %><%=checkedClass %><% } %> ">\r\n  <div class="cui-switch-bg <%if(checkedFlag) { %><%=checkedClass %><% } %> ">\r\n  </div>\r\n  <div class="cui-switch-scroll">\r\n  </div>\r\n</div>\r\n'}),define("text!ui/ui.tab.html",[],function(){return'<ul class="cui-tab-mod">\r\n  <%for(var i = 0, len = data.length; i < len; i++) { %>\r\n  <li data-key="<%=data[i].id %>" data-index="<%=i%>" <%if(i == index){ %>class=" <%=curClass %>"\r\n    <%} %>>\r\n    <%=data[i].name %></li>\r\n  <%} %>\r\n  <i class="cui-tab-scrollbar cui-tabnum<%=len %>"></i>\r\n</ul>\r\n'}),define("text!ui/ui.toast.html",[],function(){return'<div class="cui-layer-padding">\r\n  <div class="cui-layer-content">\r\n    <%=content %></div>\r\n</div>\r\n'}),define("text!ui/ui.header.html",[],function(){return'<header>\r\n<%if (data.home) {%>\r\n<i class="icon_home i_bef" id="c-ui-header-home"></i>\r\n<%}%>\r\n<%if (data.customtitle) {%>\r\n<div><%=data.customtitle %></div>\r\n<%} else {%>\r\n<%if (data.tel) {%>\r\n<a href="tel:<%=data.tel.number||4000086666 %>" class="icon_phone i_bef __hreftel__" id="c-ui-header-tel"></a>\r\n<%}%>\r\n<%if (data.title) {%>\r\n<h1><%=data.title %></h1>\r\n<%}%>\r\n<%if (data.btn) {%>\r\n<%if (data.events.commitHandler) {%>\r\n<i id="<%=data.btn.id%>" class="<%=data.btn.classname%> cui-header-btn"><%=data.btn.title %></i>\r\n<%} else {%>\r\n<i id="<%=data.btn.id%>" class="<%=data.btn.classname%> icon_search_w i_bef"></i>\r\n<%}%>\r\n<%}%>\r\n<%}%>\r\n<%if (data.back) {%>\r\n<%if (data.backtext) {%>\r\n<i id="c-ui-header-return" class="header_r" style="left:0;width:44px;"><%=data.backtext%></i>\r\n<%} else {%>\r\n<i id="c-ui-header-return" class="returnico i_bef"></i>\r\n<%}%>\r\n<%}%>\r\n</header>'}),define("text!ui/ui.warning404.html",[],function(){return'<div class="head-warning">\r\n  <div class="head-warning-padding">\r\n    <div class="head-warning-content">\r\n      <div class="cui-load-fail cui-text-center">\r\n        <div class="cui-load-error">\r\n          <div class="cui-i cui-wifi cui-fail-icon">\r\n          </div>\r\n        </div>\r\n        <p class="cui-gray">\r\n          <%=loadFail %></p>\r\n        <button type="button" class="cui-btns-retry">\r\n          <%=tryAgain %></button>\r\n        <%if(showContact) { %>\r\n          <div class="cui-404-tel">\r\n            <div class="cui-glines">\r\n            </div>\r\n            <p class="cui-grayc">\r\n              <%=telText %></p>\r\n            <span  class="cui-btns-tel"><span class="cui-i cui-warning-kf"></span><%=contact %></span></div>\r\n        <% } %>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n</div>\r\n'}),define("text!ui/ui.identitycard.html",[],function(){return'<div class="cui-keyboard cui-keyboard-hide">\r\n  <div class="cui-hd">\r\n    <span></span></div>\r\n  <div class="cui-bd">\r\n    <ul>\r\n      <li>1</li><li>2</li><li>3</li><li>4</li><li>5</li><li>6</li><li>7</li><li>8</li><li>\r\n        9</li><li class="cui-wrapper-x">\r\n          <div class="cui-letter-x">\r\n          </div>\r\n        </li>\r\n      <li>0</li><li class="cui-wrapper-delete">\r\n        <div class="cui-btn-delete">\r\n        </div>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</div>\r\n'}),define("text!ui/ui.layer.list.html",[],function(){return'<ul class="list">\r\n  <%for(var i = 0, len = list.length; i < len; i++) {%>\r\n  <li data-index="<%=i%>" <%if(i == index) { %>class="current" <% } %>><%=((typeof itemFn == "function" && itemFn(list[i])) || list[i].name)%></li>\r\n  <%}%>\r\n</ul>\r\n<ul>\r\n  <li class="cancel"><%=cancelText%></li>\r\n</ul>\r\n'}),define("cPageView",["libs",Lizard.isHybrid||Lizard.isInCtripApp?"cHybridHeader":"UIHeader","cGuiderService"],function(a,b,c){"use strict";var d=Backbone.View.extend({scrollPos:{x:0,y:0},header:null,pageid:0,hpageid:0,scrollZero:!0,triggerShow:!0,triggerHide:!0,initialize:function(){this.id=this.$el.attr("id"),this.create()},_createHeader:function(){var a=$("#headerview");this.header=this.headerview=new b({root:a})},create:function(){this.onCreate&&this.onCreate()},destroy:function(){this.$el.remove()},show:function(){document.activeElement&&document.activeElement.blur(),this._createHeader(),!this.switchByOut&&this.$el.show(),this.triggerShow&&this.onShow&&this.onShow(),c.registerAppearEvent(this.onAppear),this.onBottomPull&&(this._onWidnowScroll=$.proxy(this.onWidnowScroll,this),this.addScrollListener()),this.scrollZero&&window.scrollTo(0,0),this.triggerShow=!0,this.triggerHide=!0,this.addScrollListener&&this.addScrollListener()},hide:function(){c.unregisterAppearEvent(),this.triggerHide&&this.onHide&&this.onHide(),this.removeScrollListener&&this.removeScrollListener(),this.$el.hide()},onAppear:function(){0},jump:function(a){_.isString(a)?window.location.href=a:c.jump(a)},forward:function(){Lizard.forward.apply(null,arguments)},back:function(){Lizard.back.apply(null,arguments)},refresh:function(){},getAppUrl:function(){return""},getQuery:function(a){return Lizard.P(a)},saveScrollPos:function(){this.scrollPos={x:window.scrollX,y:window.scrollY}},restoreScrollPos:function(){window.scrollTo(this.scrollPos.x,this.scrollPos.y)},turning:function(){},showMessage:function(a){Lizard.showMessage(a)},hideMessage:function(){Lizard.hideMessage()},showConfirm:function(a){Lizard.showConfirm(a)},hideConfirm:function(){Lizard.hideConfirm()},showWarning404:function(a){Lizard.showWarning404(a)},hideWarning404:function(){Lizard.hideWarning404()},showToast:function(a){Lizard.showToast(a)},hideToast:function(){Lizard.hideToast()},showLoading:function(a){Lizard.showLoading(a)},hideLoading:function(){Lizard.hideLoading()},setTitle:function(a){document.title=a},sendUbt:function(){var a=this;window.__bfi||(window.__bfi=[]);var b=this.$el.attr("page-url"),c=Lizard.isHybrid?a.hpageid:a.pageid,d=Lizard.P("orderid")||Lizard.P("oid")||"";if(0!==c){$("#bf_ubt_orderid").val(d);var e=window.location.protocol+"//"+window.location.host+b,f=Lizard.instance.views[this.referrer];window.__bfi.push(["_asynRefresh",{page_id:c,orderid:d,url:this._hybridUrl(e),refer:f?f._hybridUrl(window.location.protocol+"//"+window.location.host+f.$el.attr("page-url")):document.referrer}])}},_getViewUrl:function(){var a=this._hybridUrl(location.href);return a},_hybridUrl:function(a){return Lizard.isInCtripApp?"http://hybridm.ctrip.com"+this.$el.attr("page-url"):a}});return d}),define("cPageList",["cPageView","cUIBase"],function(a,b){"use strict";var c={};c._onWidnowScroll=null,c.__isComplete__=!1,c.__isLoading__=!1,c.refreshLoading=null,c.addScrollListener=function(){this.__isComplete__=!1,this.__isLoading__=!1,$(window).bind("scroll",this._onWidnowScroll);var a=this;this.onTopPull&&_.flip(this.$el,"down",function(){var b=cUI.Tools.getPageScrollPos();b.top<=10&&!a.__isLoading__&&(a.__isLoading__=!0,a.onTopPull())},function(a){var b=cUI.Tools.getPageScrollPos();return"down"!=a||b.top>=10},0,5)},c.removeScrollListener=function(){$(window).unbind("scroll",this._onWidnowScroll),this.refreshLoading&&(this.refreshLoading.remove(),this.refreshLoading=null),_.flipDestroy(this.$el)},c.onWidnowScroll=function(){var a=b.getPageScrollPos();if(0!=a.top){var c=a.pageHeight-(a.top+a.height);81>=c&&!this.__isComplete__&&!this.__isLoading__&&(this.__isLoading__=!0,this.onBottomPull&&this.onBottomPull())}},c.endPull=function(){this.__isLoading__=!1},c.closePull=function(){this.__isComplete__=!1},c.openPull=function(){this.__isComplete__=!0},c.showTopLoading=function(a){var a=a||this.$el.find("section");a.length>0&&(a.before(this.getLoading()),this.refreshLoading.show())},c.showBottomLoading=function(){this.$el.append(this.getLoading()),this.refreshLoading.show()},c.hideBottomLoading=function(){this.hiderefreshLoading()},c.hideRefreshLoading=function(){this.refreshLoading&&this.refreshLoading.hide(),this.__isLoading__=!1},c.getLoading=function(){return this.refreshLoading||(this.refreshLoading=$('<div class="cui-zl-load" id="zlLoading"> <div class="cui-i cui-b-loading"></div><div class="cui-i  cui-mb-logo"></div> <p></p></div>')),this.refreshLoading};var d=a.extend(c);return d}),define("cGeoService",["cUtilPerformance","cLocalStore","cCoreInherit","cGuiderService",Lizard.isHybrid||Lizard.isInCtripApp?"cHybridGeolocation":"cWebGeolocation"],function(a,b,c,d,e){var f={},g={},h="0b895f63ca21c9e82eb158f46fe7f502",i=c.Class(b,{__propertys__:function(){this.key="POSITION_CITY",this.lifeTime="10M"},initialize:function($super,a){$super(a)}}),j=i.getInstance();return g.requestAMapAround=function(b,c,d,e,f){var g=a.getUuid();a.group(g,{name:"GeoRequest",url:"http://restapi.amap.com/v3/place/around",type:"AMap service"});var i="121.473704,31.230393";b&&c&&(i=b+","+c);var j=$.param({location:i,key:h,radius:500,offset:4,page:1});f=f||8e3,$.ajax({url:"http://restapi.amap.com/v3/place/around?"+j,dataType:"jsonp",success:function(b){a.groupEnd(g);var c=b&&b.pois||[];d&&d(c)},error:function(b){a.groupEnd(g),e&&e(b)},timeout:f})},g.requestAMapKeyword=function(b,c,d,e,f){var g=a.getUuid();a.group(g,{name:"GeoRequest",url:"http://restapi.amap.com/v3/place/text",type:"AMap service"});var i=$.param({keywords:b,city:c,key:h,offset:10,page:1,extensions:"all"});f=f||8e3,$.ajax({url:"http://restapi.amap.com/v3/place/text?"+i,dataType:"jsonp",success:function(b){a.groupEnd(g);var c=b&&b.pois||[];d&&d(c)},error:function(b){a.groupEnd(g),e&&e(b)},timeout:f})},_.extend(g,e),f.GeoLocation=function(){function a(a,b,c){for(var d in h)h[d]&&"function"==typeof h[d][a]&&h[d][a].apply(h[d].scope,b);c&&(h={})}var b=0,c=1,e=2,f=3,h={},i=b,k=null;return{Subscribe:function(b,l,m,n,o){l=l||{},h[b]||(h[b]={name:b,onStart:l.onStart,onComplete:l.onComplete,onError:l.onError,onPosComplete:l.onPosComplete,onPosError:l.onPosError,onCityComplete:l.onCityComplete,onCityError:l.onCityError,scope:m});var p=j.get();if(n&&(p=null),p&&p.posinfo&&p.cityInfo)i=c,a("onStart",null),i=e,a("onPosComplete",[p.posinfo.lng,p.posinfo.lat]),a("onComplete",[p.posinfo]),a("onCityComplete",[p.cityInfo],!0);else{if(clearTimeout(k),k=setTimeout(function(){i===c&&(i=f,d.print({log:"#cGeoService -- 22 second timeout call onError"}),a("onError",[null],!0))},o||35e3),i===c)return void(h[b]&&"function"==typeof h[b].onStart&&h[b].onStart.call(m));i=c,a("onStart",null),d.print({log:"#cGeoService -- start request city info"}),g.requestCityInfo(function(b){p||(p={}),p.posinfo=b,Lizard.isInCtripApp||j.set(p),a("onComplete",[b])},function(b,c){i=f,"number"==typeof c&&2===c&&(c={code:1}),d.print({log:"#cGeoService -- locate onError"}),a("onError",[b,c],!0)},function(b,c){a("onPosComplete",[b,c])},function(b,c){i=f,"number"==typeof c&&2===c&&(c={code:1}),a("onPosError",[b,c],!0)},!0,function(b){i=e,p||(p={}),p.cityInfo=b,Lizard.isInCtripApp||j.set(p),a("onCityComplete",[b],!0)},function(b,c){i=f,"number"==typeof c&&2===c&&(c={code:1}),d.print({log:"#cGeoService -- locate onError"}),a("onCityError",[b,c],!0)})}},UnSubscribe:function(a){a=_.isArray(a)?a:[a];for(var b=0;b<a.length;b++)delete h[a[b]]},ClearPosition:function(){j.remove()}}}(),f.GeoAround=function(){return{Subscribe:function(a,b,c,d){var e=a.split(",")[0],f=a.split(",")[1];g.requestAMapAround(e,f,function(a){b.call(d,a)},function(){c.call(d)})}}}(),f.GeoKeyword={Subscribe:function(a,b,c,d,e){g.requestAMapKeyword(a,b,function(a){c.call(e,a)},function(){d.call(e)})}},f}),define("cMemberService",[Lizard.isHybrid||Lizard.isInCtripApp?"cHybridMember":"cWebMember","cUserStore"],function(a,b){return a.isLogin=b.isLogin,a.getUser=b.getUser,a.getUserName=b.getUserName,a.getUserId=b.getUserId,a}),define("cGeoHelper",[],function(){var a={Aboard:2,Domestic:1,Unknown:-1,aroundAboardRectList:[[125478833,40538425,135928497,16590043],[128054454,54437790,136370032,49918776],[89567309,54351906,115617882,47881407],[71832315,54566279,82281980,46323836],[72788974,28001436,85887850,16590043],[92510877,48029708,111570476,45034268],[85593493,26157025,97294174,16519064],[97073406,20935216,107743838,16305964],[98324422,45190596,109142033,42854577],[71979493,45863038,78896877,41817208]],chinaRectList:[[85374342,41697126,124486996,28705892],[98942349,28714002,122527683,23331042],[108012216,23415965,119252965,17294543],[120025651,51286036,126391116,41330674],[82936701,46727439,90553182,41621242],[126188746,48211817,129757821,42485061],[129518656,47611932,131468770,44959641],[131376782,47487374,133805226,46225387],[79753968,41876130,85604309,30872189],[113457816,44802677,120117638,41517618],[118977005,23526282,121975765,21629857],[109667973,17321053,119050594,14580095],[76258482,40359687,80011530,35915704],[90534784,44710915,94030271,41531444],[80710628,45077082,83028687,41862379],[85935460,48414308,88437492,46645143],[93975079,42559912,101462779,41600531],[93956681,44157262,95354876,42491869],[116695740,46301949,120117638,44619006],[116401384,49444657,120191227,48057877],[121000708,53244099,124569783,51210984],[106724405,42232628,113494611,41683336],[112133211,44355602,113568200,42123151],[110918989,43155464,112206800,42232628],[115150367,45324216,116769330,44724032],[126299129,49588397,128102064,48057877],[128065270,49131761,129757821,48131826],[129721026,48622090,130530508,47611932],[124349016,52822665,125710416,51095279],[122325313,28884167,123760302,25662561],[111029373,14651757,118388292,10605300],[109778357,10095218,109778357,10095218],[109631178,10459649,116548562,7753573],[110514249,7826971,113678584,4734480],[124330619,41399976,125480450,40689610],[126345123,42512290,128046872,41827986],[127973283,42539507,129104717,42143692],[74510739,40162360,76350468,38678393],[119087389,21629857,120706351,20142916],[106853187,23339537,108067408,21990651],[129707229,44975967,130985841,43017244],[130958245,44582859,131169814,43104932],[131418176,46247729,133129126,45359896],[133073934,48054793,134269758,47409374],[99701237,23386249,101577762,22174986],[100179567,22243514,101559364,21745927],[101485775,23437187,104245370,22875776],[98008686,25240784,99057332,24181992],[124463999,40686109,124905534,40461646],[125457453,41334141,126055365,40979564],[126368119,41824546,126607284,41645397],[125475850,40979564,125687419,40853958],[124477797,40465160,124728460,40343852],[124470898,40347371,124618076,40285757],[124891736,40694862,125153898,40607283],[126046166,41332407,126262335,41165784],[127214395,41836586,128083666,41546995],[126386516,50257998,126386516,50257998],[126280732,50257998,127513351,49580921],[126363520,50934256,127117809,50225552],[125669022,52398490,126276133,51247082],[80948643,30905163,81403976,30280446],[83574857,30911112,85488176,29214825],[98136317,28872274,99079179,27642374]],largeChinaRect:[73083331,54006559,135266195,17015367],isInRect:function(a,b,c){return a>=c[0]&&a<=c[2]&&b>=c[3]&&b<=c[1]?!0:!1},isInRectList:function(a,b,c){for(var d=0;d<c.length-1;d++)if(smallRect=c[d],this.isInRect(a,b,smallRect))return!0;return!1},getCountry:function(a,b){var c=this.Unknown,d=1e6*b,e=1e6*a;return isInAboard=!this.isInRect(e,d,this.largeChinaRect),isInAboard||(isInAboard=this.isInRectList(e,d,this.aroundAboardRectList)),isInAboard?c=this.Aboard:(inInLand=this.isInRectList(e,d,this.chinaRectList),inInLand&&(c=this.Domestic)),c}};return a}),define("cBaseInit",[Lizard.isHybrid?"cHybridApp":Lizard.isInCtripApp?"cWebViewApp":"cWebApp","cBusinessCommon"],function(a,b){function c(){Lizard.pdConfig?require(Lizard.pdConfig,function(){d()}):d()}function d(){Lizard.instance=new a({});for(var c in Lizard.instance.interface())Lizard[c]=$.proxy(Lizard.instance.interface()[c],Lizard.instance);b()}var e=$.fn.html;return $.fn.html=function(a){return void 0===a?this.length>0?this[0].innerHTML:null:e.call(this,a)},c}),define("cPageModelProcessor",["cModel","cMemoryStore","cUtilPath","cUtilCacheView","cCoreInherit","cLocalStore"],function(cModel,mStore,path,CacheViews,cCoreInherit,cStore){function callModels(a,b,c){Lizard.ajaxDatas={},a.models=Lizard.getModels(a),_processModels(a,a.models,[],b,c)}function _processModels(pageConfig,models,datas,callback,errorback){if(0==models.length)callback(datas,pageConfig);else if(!_.some(models,function(){return models.error})){var sortedModels=_resortModels(models);_.each(sortedModels.todo,function(model,index){var url=model.url,emodel=cacheModels.findById(url);if(emodel)_transfuncToVal(model.postdata),emodel.setAttr("param",model.postdata);else{emodel=cCoreInherit.Class(cModel,{__propertys__:function(){this.urlParseRet=path.parseUrl(url),this.protocol=this.urlParseRet.protocol.substr(0,this.urlParseRet.protocol.length-1),this.checkAuth=!1}}).getInstance(),emodel.setAttr("url",Lizard.restfullApi?path.parseUrl(Lizard.restfullApi).domain+emodel.urlParseRet.pathname:emodel.urlParseRet.domain+emodel.urlParseRet.pathname),_transfuncToVal(model.postdata),emodel.setAttr("param",model.postdata);var cacheStore=emodel.getResultStore();if(!cacheStore){var cachStore=model.storeKey?new cStore({key:model.storeKey}):new mStore({key:url});emodel.setAttr("result",cachStore)}cacheModels.add(url,emodel)}model.suspend&&eval("("+model.suspend+")()")?(model.done=!0,datas[index]={},_.every(models,function(a){return a.done})&&callback(datas,pageConfig)):emodel.excute(function(a){model.done=!0,datas[index]=a,model.name&&(Lizard.ajaxDatas[model.name]=a),onSuccess(pageConfig,datas,sortedModels,callback,errorback)},function(a){!_.isFunction(pageConfig.validate)&&a instanceof XMLHttpRequest?(model.error=!0,errorback(datas,pageConfig.errorBack)):(model.done=!0,datas[index]=a,onSuccess(pageConfig,datas,sortedModels,callback,errorback))},model.ajaxOnly,this)})}}function onSuccess(a,b,c,d,e){_.every(a.models,function(a){return a.done})?d(b,a):_.every(c.todo,function(a){return a.done})&&_processModels(a,c.left,b,d,e)}function _transfuncToVal(obj){for(var p in obj)obj.hasOwnProperty(p)&&(_.isString(obj[p])&&0==obj[p].indexOf("function")?obj[p]=eval("("+obj[p]+")()"):(_.isObject(obj[p])||_.isArray(obj[p]))&&_transfuncToVal(obj[p]))}function _resortModels(a){return _.groupBy(a,function(a){return!a.depends||_.every(a.depends,function(a){return a in Lizard.ajaxDatas})?"todo":"left"})}var cacheModels=new CacheViews;return callModels}),define("cAbstractApp",["cPageModelProcessor","cUtilPerformance","cUtilCommon","UILoadingLayer",Lizard.isHybrid||Lizard.isInCtripApp?"cHybridHeader":"UIHeader","UIWarning404","UIAlert","UIToast","cMessageCenter","UIAnimation","cPageParser"],function(a,b,c,d,e,f,g,h,i,j){function k(a){this.initialize(a)}/\/html5\//i.test(location.href.replace(/[\?#].+$/,""))&&$("<base/>").attr("href",location.href.replace(/\/html5\//i,"/webapp/")).prependTo($("head").eq(0)),Lizard.runAt="client";var l=$(".main-viewport").attr("renderat");return Lizard.renderAt="server",l||(Lizard.renderAt="client"),k.subclasses=[],k.defaults={mainRoot:"#main",header:"header",viewport:".main-viewport",animForwardName:"slideleft",animBackwardName:"slideright",isAnim:!1,maxsize:10},k.prototype={ctnrViewNames:["lizardHisCtnrView"],viewReady:function(a){i.subscribe("viewReady",a)},initialize:function(a){var b=this.initProperty(a);this.options=b,this.firstState=null,this.mainRoot=$(b.mainRoot),this.header=$(b.header),this.viewport=this.mainRoot.find(b.viewport),this.curView=null,this.lastView=null,this.maxsize=b.maxsize,this.animForwardName=b.animForwardName,this.animBackwardName=b.animBackwardName,this.isAnim=b.isAnim,this.animAPIs=j,this.animatName=this.animForwardName,this._loading=new d,this._alert=new g,this._confirm=new g,this._toast=new h,this._warning404=new f,this.observe=!1,this.headerView=new e({root:$("#headerview")}),this.bindEvents(),this.views={},this.start(),i.subscribe("switchview",function(a){a.$el.show()},this)},showMessage:function(a){a||(a={}),"string"==typeof a&&(a={datamodel:{content:a}}),this._alert.resetDefaultProperty(),this._alert.setOption(a),this._alert.refresh(),this._alert.show()},hideMessage:function(){this.alert.hide()},showConfirm:function(a){a||(a={}),"string"==typeof a&&(a={datamodel:{content:a}}),this._confirm.resetDefaultProperty(),this._confirm.datamodel.btns=[{name:"",className:"cui-btns-cancel"},{name:"",className:"cui-btns-ok"}],this._confirm.setOption(a),this._confirm.refresh(),this._confirm.show()},hideConfirm:function(){this._confirm.hide()},showWarning404:function(a){var b=this;a||(a={}),"function"==typeof a&&(a={retryAction:a}),this._warning404.resetDefaultProperty(),this._warning404.setOption(a),this._warning404.refresh(),Lizard.showHisCtnrView(function(){b._warning404&&(b._warning404.wrapper=this.$el,b._warning404.show())},function(){b._warning404&&b._warning404.hide()},{triggerHide:!1,addToHistory:!1,viewName:"warning404"})},hideWarning404:function(){},showToast:function(a){a||(a={}),"string"==typeof a&&(a={datamodel:{content:a}}),this._toast.resetDefaultProperty(),this._toast.setOption(a),this._toast.refresh(),this._toast.show()},hideToast:function(){this._toast.hide()},showLoading:function(a){a||(a={}),this._loading.resetDefaultProperty(),this._loading.setOption(a),this._loading.refresh(),this._loading.show()},hideLoading:function(){this._loading.hide()},initProperty:function(a){var b=_.extend({},k.defaults,a||{});return b},bindEvents:function(){$.bindFastClick&&$.bindFastClick(),this._handleLink()},_handleLink:function(){(Lizard.isHybrid||c.isSupportPushState)&&$("body").on("click",$.proxy(function(a){for(var b=$(a.target),d=!1;;){if(!b[0])break;if("BODY"==b[0].nodeName)break;if(b.hasClass("sub-viewport"))break;if("A"==b[0].nodeName){d=!0;break}b=b.parent()}if(d){var e=b.attr("href"),f={},g=b.attr("lizard-data");if("off"==b.attr("lizard-catch")||e&&c.isExternalLink(e))return!0;a.preventDefault(),g&&(f.data=JSON.parse(g)),"back"==b.attr("data-jumptype")?this.back(b.attr("href"),f):"forward"==b.attr("data-jumptype")&&this.goTo(b.attr("href"),f)}},this))},start:function(){},loadView:function(c,d,e){var f=b.getUuid(),g=b.getUuid();if(b.group(f,{name:"Domready",landingpage:1==e.landingpage?1:0,url:c}),b.group(g,{name:"Onload",landingpage:1==e.landingpage?1:0,url:c}),Lizard.config&&Lizard.config.isHideAllLoading||e.hideloading?this.hideLoading():this.showLoading(),Lizard.loadingView=!0,c){var h=this.curView||{hpageid:"",pageid:"",_getViewUrl:function(){return""},_hybridUrl:function(){return Lizard.isInCtripApp?"http://hybridm.ctrip.com"+c:j}},j=window.location.protocol+"//"+window.location.host+(0==c.indexOf(Lizard.appBaseUrl)?c:Lizard.appBaseUrl+c);window.__bfi||(window.__bfi=[]),window.__bfi.push(["_unload",{page_id:Lizard.isHybrid?h.hpageid:h.pageid,url:h._hybridUrl(),refer:h.$el?h._hybridUrl(window.location.protocol+"//"+window.location.host+h.$el.attr("page-url")):document.referrer}])}var k=Lizard._initParser(c,d);a(k,_.bind(function(a,h){if(!_.isFunction(this.judgeForward)||this.judgeForward(c)){var j=b.getUuid();b.group(j,{name:"TemplateRender",url:c});var k=Lizard.render(h,a);b.groupEnd(j),Lizard.viewHtmlMap||(Lizard.viewHtmlMap={}),Lizard.viewHtmlMap[k.config.viewName]=d,this.header.html(k.header);var l=$(k.viewport);!k.config.showfake||this.views[k.config.viewName]&&this.views[k.config.viewName].$el.attr("page-url")==c||(_.isObject(k.config.showfake)&&k.config.showfake.hideloading&&this.hideLoading(),Lizard.__fakeViewNode=l.appendTo(this.viewport),this.curView&&this.curView.$el.hide()),require([k.config.controller||"cPageView"],_.bind(function(a){if(!_.isFunction(this.judgeForward)||this.judgeForward(c)){if(this.curView&&(this.lastView=this.curView),k.config.viewName&&this.views[k.config.viewName]?(this.curView=this.views[k.config.viewName],this.curView.$el.attr("page-url")!=c&&(this.curView.$el.remove(),!k.config.showfake&&l.appendTo(this.viewport),this.curView.$el=l,this.curView.onCreate&&this.curView.onCreate(),this.curView.delegateEvents())):(!k.config.showfake&&l.appendTo(this.viewport),this.curView=new a({el:"server"==e.renderAt?this.viewport.children().first():l}),this.curView.$el.attr("page-url",c)),Lizard.__fakeViewNode=null,b.groupEnd(f),this.curView.text=d,_.extend(this.curView,_.pick(k,["datas","config","lizTmpl","lizParam"])),this.curView&&this.curView.switchByOut){var h=this;this.curView.turning=function(){this.hideLoading(),h.lastView&&h.lastView.hide(),i.publish("switchview",[h.curView,h.lastView]),h.curView.$el.show()}}else this.hideLoading(),i.publish("switchview",[this.curView,this.lastView]);this.curView.lastViewId=this.curView.referrer=this.lastView&&this.lastView.config.viewName,this.switchView(this.curView,this.lastView),b.groupEnd(g),k.config.viewName&&(this.views[k.config.viewName]=this.curView)}},this))}},this),_.bind(function(a,b){this.hideLoading();var d={callback:function(){this.hideWarning404(),Lizard.goTo(c)},headData:{title:"",back:!0,events:{returnHandler:function(){Lizard.back()}}}};b&&(d=_.extend(d,b(a))),this.showWarning404(_.bind(d.callback,this),_.bind(function(){this.headerView.set(d.headData)},this))},this))},switchView:function(a,b){b&&!document.getElementById(b.id)&&a&&!a.switchByOut&&(b.$el.appendTo(this.viewport),b.$el.hide()),a&&!document.getElementById(a.id)&&(a.$el.appendTo(this.viewport),a.$el.hide());var c;if(!a)throw"inview ";Lizard.T.lizTmpl=a.lizTmpl,Lizard.P.lizParam=a.lizParam,b?(b.saveScrollPos(),this.isAnim&&(c=this.animAPIs[this.animatName]),a.fromView=b.config.viewName,_.indexOf(this.ctnrViewNames,a.config.viewName)>-1&&(i.publish("showHisCtnrView"),b.hideWarning404=function(){Lizard.goBack()}),c&&_.isFunction(c)?c(a,b,$.proxy(function(a,b){this._onSwitchEnd(a,b)},this)):(a&&!a.switchByOut&&b.hide(),a.show(),this._onSwitchEnd(a,b))):(a.show(),this._onSwitchEnd(a,b))},_onSwitchEnd:function(a,b){b==a||a.switchByOut||setTimeout(function(){b&&b.$el&&b.$el.hide()},10),a.sendUbt(!0),i.publish("viewReady",[a])},showView:function(a){this.loadView(a.url,a.text,a.options)},goTo:function(){},goBack:function(){},go:function(){},showHisCtnrView:function(a,b,c){if(this.curView){var d=this.isAnim,e=this.animatName;this.curView.triggerShow=this.curView.triggerHide=c?!c.triggerFlag:!0,this.curView.triggerHide=c&&"triggerHide"in c?c.triggerHide:!0,this.isAnim=c&&c.isAnim?!0:this.isAnim,this.isAnim&&(this.animatName=this.animForwardName);var f=_.clone(this.curView.config);f.model.apis=[],f.view={viewport:""},f.controller="cPageView",f.viewName=c&&c.viewName?c.viewName:"lizardHisCtnrView",-1==_.indexOf(this.ctnrViewNames,f.viewName)&&this.ctnrViewNames.push(f.viewName);var g=this.curView.config.pageUrl;c&&c.addToHistory===!1||(Lizard.isHybrid||Lizard.isInCtripApp?(this.endObserver(),window.location.hash="/lizardHisCtnrView"):history.pushState({url:g,text:' <SCRIPT type="text/lizard-config">'+JSON.stringify(f)+"</SCRIPT>",options:{pushState:!0}},document.title,g)),this.loadView(g,' <SCRIPT type="text/lizard-config">'+JSON.stringify(f)+"</SCRIPT>",{pushState:!0,hideloading:!0}),(Lizard.isHybrid||Lizard.isInCtripApp)&&setTimeout(_.bind(this.startObserver,this),1);var h={};i.unsubscribe("showHisCtnrView"),i.subscribe("showHisCtnrView",function(){var c=this;this.lizardHisCtnrView=this.curView,this.curView.onShow=function(){_.isEmpty(c.lastView.header.datamodel)||(h=_.clone(c.lastView.header.datamodel),h.events.returnHandler=function(){history.back()}),this.header.set(h),a&&a.apply(this,arguments),setTimeout(function(){c.animatName=c.animBackwardName},10)},this.curView.onHide=function(){b&&b.apply(this,arguments),setTimeout(function(){c.isAnim=d,c.animatName=e},10)},this.curView.show()},this)}},hideHisCtnrView:function(){history.back()},"interface":function(){return{viewReady:this.viewReady,showMessage:this.showMessage,hideMessage:this.hideMessage,showConfirm:this.showConfirm,hideConfirm:this.hideConfirm,showWarning404:this.showWarning404,hideWarning404:this.hideWarning404,showToast:this.showToast,hideToast:this.hideToast,showLoading:this.showLoading,hideLoading:this.hideLoading,showHisCtnrView:this.showHisCtnrView,hideHisCtnrView:this.hideHisCtnrView,goTo:this.goTo,goBack:this.goBack,forward:this.goTo,back:this.goBack,go:this.go}}},k});